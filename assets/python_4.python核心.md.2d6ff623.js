import{_ as s,c as n,o as a,a as l}from"./app.a7fc1445.js";const C=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[{"level":3,"title":"1.python\u4E2D\u4E00\u5207\u7686\u5BF9\u8C61","slug":"_1-python\u4E2D\u4E00\u5207\u7686\u5BF9\u8C61","link":"#_1-python\u4E2D\u4E00\u5207\u7686\u5BF9\u8C61","children":[]},{"level":3,"title":"\u5143\u7EC4\u62C6\u5305","slug":"\u5143\u7EC4\u62C6\u5305","link":"#\u5143\u7EC4\u62C6\u5305","children":[]},{"level":3,"title":"1.\u5C06\u51FD\u6570\u8D4B\u503C\u7ED9\u4E00\u4E2A\u53D8\u91CF","slug":"_1-\u5C06\u51FD\u6570\u8D4B\u503C\u7ED9\u4E00\u4E2A\u53D8\u91CF","link":"#_1-\u5C06\u51FD\u6570\u8D4B\u503C\u7ED9\u4E00\u4E2A\u53D8\u91CF","children":[]},{"level":3,"title":"2.\u5C06\u7C7B\u8D4B\u503C\u7ED9\u4E00\u4E2A\u53D8\u91CF","slug":"_2-\u5C06\u7C7B\u8D4B\u503C\u7ED9\u4E00\u4E2A\u53D8\u91CF","link":"#_2-\u5C06\u7C7B\u8D4B\u503C\u7ED9\u4E00\u4E2A\u53D8\u91CF","children":[]},{"level":3,"title":"3.\u5C06\u51FD\u6570\u548C\u7C7B\uFF0C\u6DFB\u52A0\u5230\u96C6\u5408\u4E2D\uFF081.2\u4E2D\u7684\u51FD\u6570\u548C\u7C7B\uFF09","slug":"_3-\u5C06\u51FD\u6570\u548C\u7C7B\uFF0C\u6DFB\u52A0\u5230\u96C6\u5408\u4E2D\uFF081-2\u4E2D\u7684\u51FD\u6570\u548C\u7C7B\uFF09","link":"#_3-\u5C06\u51FD\u6570\u548C\u7C7B\uFF0C\u6DFB\u52A0\u5230\u96C6\u5408\u4E2D\uFF081-2\u4E2D\u7684\u51FD\u6570\u548C\u7C7B\uFF09","children":[]},{"level":3,"title":"5.\u5C06\u51FD\u6570\u4F5C\u4E3A\u51FD\u6570\u7684\u8FD4\u56DE\u503C\uFF08python\u4E2D\u9002\u5668\u7684\u539F\u7406\uFF09","slug":"_5-\u5C06\u51FD\u6570\u4F5C\u4E3A\u51FD\u6570\u7684\u8FD4\u56DE\u503C\uFF08python\u4E2D\u9002\u5668\u7684\u539F\u7406\uFF09","link":"#_5-\u5C06\u51FD\u6570\u4F5C\u4E3A\u51FD\u6570\u7684\u8FD4\u56DE\u503C\uFF08python\u4E2D\u9002\u5668\u7684\u539F\u7406\uFF09","children":[]},{"level":3,"title":"6.type object class \u7684\u5173\u7CFB","slug":"_6-type-object-class-\u7684\u5173\u7CFB","link":"#_6-type-object-class-\u7684\u5173\u7CFB","children":[]},{"level":3,"title":"7.python\u4E2D\u5E38\u89C1\u7684\u5185\u7F6E\u7C7B\u578B","slug":"_7-python\u4E2D\u5E38\u89C1\u7684\u5185\u7F6E\u7C7B\u578B","link":"#_7-python\u4E2D\u5E38\u89C1\u7684\u5185\u7F6E\u7C7B\u578B","children":[]},{"level":3,"title":"7.\u9B54\u6CD5\u51FD\u6570","slug":"_7-\u9B54\u6CD5\u51FD\u6570","link":"#_7-\u9B54\u6CD5\u51FD\u6570","children":[]},{"level":3,"title":"9.\u9E2D\u5B50\u7C7B\u578B","slug":"_9-\u9E2D\u5B50\u7C7B\u578B","link":"#_9-\u9E2D\u5B50\u7C7B\u578B","children":[]},{"level":3,"title":"10.\u5217\u8868\u7684 extend\u65B9\u6CD5","slug":"_10-\u5217\u8868\u7684-extend\u65B9\u6CD5","link":"#_10-\u5217\u8868\u7684-extend\u65B9\u6CD5","children":[]},{"level":3,"title":"11.\u62BD\u8C61\u57FA\u7C7B [ABC\u6A21\u5757]\uFF08\u7C7B\u4F3Cjava\u7684\u63A5\u53E3\uFF09","slug":"_11-\u62BD\u8C61\u57FA\u7C7B-abc\u6A21\u5757-\uFF08\u7C7B\u4F3Cjava\u7684\u63A5\u53E3\uFF09","link":"#_11-\u62BD\u8C61\u57FA\u7C7B-abc\u6A21\u5757-\uFF08\u7C7B\u4F3Cjava\u7684\u63A5\u53E3\uFF09","children":[]},{"level":3,"title":"12.instance \u548C type \u7684\u533A\u522B","slug":"_12-instance-\u548C-type-\u7684\u533A\u522B","link":"#_12-instance-\u548C-type-\u7684\u533A\u522B","children":[]},{"level":3,"title":"13.\u7C7B\u53D8\u91CF\u548C\u5B9E\u4F8B\u53D8\u91CF","slug":"_13-\u7C7B\u53D8\u91CF\u548C\u5B9E\u4F8B\u53D8\u91CF","link":"#_13-\u7C7B\u53D8\u91CF\u548C\u5B9E\u4F8B\u53D8\u91CF","children":[]},{"level":3,"title":"14.\u7C7B\u548C\u5C5E\u6027\u67E5\u627E\u987A\u5E8F","slug":"_14-\u7C7B\u548C\u5C5E\u6027\u67E5\u627E\u987A\u5E8F","link":"#_14-\u7C7B\u548C\u5C5E\u6027\u67E5\u627E\u987A\u5E8F","children":[]},{"level":3,"title":"15.\u9759\u6001\u65B9\u6CD5\uFF0C\u7C7B\u65B9\u6CD5\uFF0C\u5BF9\u8C61\u65B9\u6CD5 \u4EE5\u53CA\u53C2\u6570","slug":"_15-\u9759\u6001\u65B9\u6CD5\uFF0C\u7C7B\u65B9\u6CD5\uFF0C\u5BF9\u8C61\u65B9\u6CD5-\u4EE5\u53CA\u53C2\u6570","link":"#_15-\u9759\u6001\u65B9\u6CD5\uFF0C\u7C7B\u65B9\u6CD5\uFF0C\u5BF9\u8C61\u65B9\u6CD5-\u4EE5\u53CA\u53C2\u6570","children":[]},{"level":3,"title":"16.\u6570\u636E\u5C01\u88C5\u548C\u79C1\u6709\u5C5E\u6027","slug":"_16-\u6570\u636E\u5C01\u88C5\u548C\u79C1\u6709\u5C5E\u6027","link":"#_16-\u6570\u636E\u5C01\u88C5\u548C\u79C1\u6709\u5C5E\u6027","children":[]},{"level":3,"title":"17.python\u5BF9\u8C61\u7684\u81EA\u7701\u673A\u5236","slug":"_17-python\u5BF9\u8C61\u7684\u81EA\u7701\u673A\u5236","link":"#_17-python\u5BF9\u8C61\u7684\u81EA\u7701\u673A\u5236","children":[]},{"level":3,"title":"18.super()\u51FD\u6570","slug":"_18-super-\u51FD\u6570","link":"#_18-super-\u51FD\u6570","children":[]},{"level":3,"title":"19.mixin \u6DF7\u5165","slug":"_19-mixin-\u6DF7\u5165","link":"#_19-mixin-\u6DF7\u5165","children":[]},{"level":3,"title":"20.with (\u4E0A\u4E0B\u6587\u7BA1\u7406\u5668)","slug":"_20-with-\u4E0A\u4E0B\u6587\u7BA1\u7406\u5668","link":"#_20-with-\u4E0A\u4E0B\u6587\u7BA1\u7406\u5668","children":[]},{"level":3,"title":"21.contextlib\u7B80\u5316\u4E0A\u4E0B\u6587\u7BA1\u7406\u534F\u8BAE","slug":"_21-contextlib\u7B80\u5316\u4E0A\u4E0B\u6587\u7BA1\u7406\u534F\u8BAE","link":"#_21-contextlib\u7B80\u5316\u4E0A\u4E0B\u6587\u7BA1\u7406\u534F\u8BAE","children":[]},{"level":3,"title":"22.python\u4E2D\u7684\u5E8F\u5217","slug":"_22-python\u4E2D\u7684\u5E8F\u5217","link":"#_22-python\u4E2D\u7684\u5E8F\u5217","children":[]},{"level":3,"title":"23.python\u4E2D\u7684set\u548Cdict","slug":"_23-python\u4E2D\u7684set\u548Cdict","link":"#_23-python\u4E2D\u7684set\u548Cdict","children":[]},{"level":3,"title":"24.\u4E0D\u53EF\u53D8\u96C6\u5408frozenset","slug":"_24-\u4E0D\u53EF\u53D8\u96C6\u5408frozenset","link":"#_24-\u4E0D\u53EF\u53D8\u96C6\u5408frozenset","children":[]},{"level":3,"title":"25.dict\u548Clist\u7684\u5BF9\u6BD4","slug":"_25-dict\u548Clist\u7684\u5BF9\u6BD4","link":"#_25-dict\u548Clist\u7684\u5BF9\u6BD4","children":[]},{"level":3,"title":"26.python\u7684\u53D8\u91CF\u5230\u5E95\u662F\u4EC0\u4E48","slug":"_26-python\u7684\u53D8\u91CF\u5230\u5E95\u662F\u4EC0\u4E48","link":"#_26-python\u7684\u53D8\u91CF\u5230\u5E95\u662F\u4EC0\u4E48","children":[]},{"level":3,"title":"27. == \u548C is \u7684\u533A\u522B","slug":"_27-\u548C-is-\u7684\u533A\u522B","link":"#_27-\u548C-is-\u7684\u533A\u522B","children":[]},{"level":3,"title":"28.del\u8BED\u53E5\u548C\u5783\u573E\u56DE\u6536","slug":"_28-del\u8BED\u53E5\u548C\u5783\u573E\u56DE\u6536","link":"#_28-del\u8BED\u53E5\u548C\u5783\u573E\u56DE\u6536","children":[]},{"level":3,"title":"29.\u4F20\u9012\u53C2\u6570\u7684\u65F6\u5019\uFF0C\u5C3D\u91CF\u4E0D\u8981\u4F20\u9012list\uFF0C\u5426\u5219list\u7684\u503C\u662F\u4F1A\u88AB\u4FEE\u6539\u7684","slug":"_29-\u4F20\u9012\u53C2\u6570\u7684\u65F6\u5019\uFF0C\u5C3D\u91CF\u4E0D\u8981\u4F20\u9012list\uFF0C\u5426\u5219list\u7684\u503C\u662F\u4F1A\u88AB\u4FEE\u6539\u7684","link":"#_29-\u4F20\u9012\u53C2\u6570\u7684\u65F6\u5019\uFF0C\u5C3D\u91CF\u4E0D\u8981\u4F20\u9012list\uFF0C\u5426\u5219list\u7684\u503C\u662F\u4F1A\u88AB\u4FEE\u6539\u7684","children":[]},{"level":3,"title":"\u5143\u7C7B\u7F16\u7A0B","slug":"\u5143\u7C7B\u7F16\u7A0B","link":"#\u5143\u7C7B\u7F16\u7A0B","children":[]},{"level":3,"title":"1.propert\u52A8\u6001\u5C5E\u6027","slug":"_1-propert\u52A8\u6001\u5C5E\u6027","link":"#_1-propert\u52A8\u6001\u5C5E\u6027","children":[]},{"level":3,"title":"2.getattr \u548C getattribute","slug":"_2-getattr-\u548C-getattribute","link":"#_2-getattr-\u548C-getattribute","children":[]},{"level":3,"title":"3\u81EA\u5B9A\u4E49\u5C5E\u6027\u63CF\u8FF0\u7B26","slug":"_3\u81EA\u5B9A\u4E49\u5C5E\u6027\u63CF\u8FF0\u7B26","link":"#_3\u81EA\u5B9A\u4E49\u5C5E\u6027\u63CF\u8FF0\u7B26","children":[]},{"level":3,"title":"4.init\u548Cnew\u9B54\u6CD5\u65B9\u6CD5\u7684\u533A\u522B","slug":"_4-init\u548Cnew\u9B54\u6CD5\u65B9\u6CD5\u7684\u533A\u522B","link":"#_4-init\u548Cnew\u9B54\u6CD5\u65B9\u6CD5\u7684\u533A\u522B","children":[]},{"level":3,"title":"5.\u5143\u7C7B","slug":"_5-\u5143\u7C7B","link":"#_5-\u5143\u7C7B","children":[]},{"level":3,"title":"6.type\u52A8\u6001\u7684\u521B\u5EFA\u7C7B","slug":"_6-type\u52A8\u6001\u7684\u521B\u5EFA\u7C7B","link":"#_6-type\u52A8\u6001\u7684\u521B\u5EFA\u7C7B","children":[]},{"level":3,"title":"7.type\u6DFB\u52A0\u7C7B\u7684\u65F6\u5019\uFF0C\u6DFB\u52A0\u65B9\u6CD5","slug":"_7-type\u6DFB\u52A0\u7C7B\u7684\u65F6\u5019\uFF0C\u6DFB\u52A0\u65B9\u6CD5","link":"#_7-type\u6DFB\u52A0\u7C7B\u7684\u65F6\u5019\uFF0C\u6DFB\u52A0\u65B9\u6CD5","children":[]},{"level":3,"title":"8.\u81EA\u5B9A\u4E49\u5143\u7C7B","slug":"_8-\u81EA\u5B9A\u4E49\u5143\u7C7B","link":"#_8-\u81EA\u5B9A\u4E49\u5143\u7C7B","children":[]},{"level":3,"title":"\u8FED\u4EE3\u5668\u548C\u751F\u6210\u5668","slug":"\u8FED\u4EE3\u5668\u548C\u751F\u6210\u5668","link":"#\u8FED\u4EE3\u5668\u548C\u751F\u6210\u5668","children":[]},{"level":3,"title":"1.\u4EC0\u4E48\u662F\u8FED\u4EE3\u5668","slug":"_1-\u4EC0\u4E48\u662F\u8FED\u4EE3\u5668","link":"#_1-\u4EC0\u4E48\u662F\u8FED\u4EE3\u5668","children":[]},{"level":3,"title":"2.\u8FED\u4EE3\u5668\u548C\u53EF\u8FED\u4EE3\u5BF9\u8C61\u7684\u533A\u522B","slug":"_2-\u8FED\u4EE3\u5668\u548C\u53EF\u8FED\u4EE3\u5BF9\u8C61\u7684\u533A\u522B","link":"#_2-\u8FED\u4EE3\u5668\u548C\u53EF\u8FED\u4EE3\u5BF9\u8C61\u7684\u533A\u522B","children":[]},{"level":3,"title":"3.iter()\u65B9\u6CD5","slug":"_3-iter-\u65B9\u6CD5","link":"#_3-iter-\u65B9\u6CD5","children":[]},{"level":3,"title":"4.\u81EA\u5B9A\u4E49\u8FED\u4EE3\u5668","slug":"_4-\u81EA\u5B9A\u4E49\u8FED\u4EE3\u5668","link":"#_4-\u81EA\u5B9A\u4E49\u8FED\u4EE3\u5668","children":[]},{"level":3,"title":"5.\u751F\u6210\u5668\u51FD\u6570\u7684\u4F7F\u7528","slug":"_5-\u751F\u6210\u5668\u51FD\u6570\u7684\u4F7F\u7528","link":"#_5-\u751F\u6210\u5668\u51FD\u6570\u7684\u4F7F\u7528","children":[]},{"level":3,"title":"6.\u751F\u6210\u5668\u5B9E\u73B0\u6590\u6CE2\u90A3\u5951\u6570\u5217","slug":"_6-\u751F\u6210\u5668\u5B9E\u73B0\u6590\u6CE2\u90A3\u5951\u6570\u5217","link":"#_6-\u751F\u6210\u5668\u5B9E\u73B0\u6590\u6CE2\u90A3\u5951\u6570\u5217","children":[]},{"level":3,"title":"7.\u751F\u6210\u5668\u539F\u7406","slug":"_7-\u751F\u6210\u5668\u539F\u7406","link":"#_7-\u751F\u6210\u5668\u539F\u7406","children":[]},{"level":3,"title":"\u751F\u6210\u5668\u539F\u7406","slug":"\u751F\u6210\u5668\u539F\u7406","link":"#\u751F\u6210\u5668\u539F\u7406","children":[]},{"level":3,"title":"7.\u751F\u6210\u5668\u7684\u5E94\u7528\u573A\u666F","slug":"_7-\u751F\u6210\u5668\u7684\u5E94\u7528\u573A\u666F","link":"#_7-\u751F\u6210\u5668\u7684\u5E94\u7528\u573A\u666F","children":[]},{"level":3,"title":"8.yield\u8BFB\u53D6\u5927\u6587\u4EF6\u7684\u5E94\u7528","slug":"_8-yield\u8BFB\u53D6\u5927\u6587\u4EF6\u7684\u5E94\u7528","link":"#_8-yield\u8BFB\u53D6\u5927\u6587\u4EF6\u7684\u5E94\u7528","children":[]},{"level":2,"title":"socket","slug":"socket","link":"#socket","children":[]},{"level":2,"title":"\u591A\u7EBF\u7A0B","slug":"\u591A\u7EBF\u7A0B","link":"#\u591A\u7EBF\u7A0B","children":[{"level":3,"title":"1GIL","slug":"_1gil","link":"#_1gil","children":[]},{"level":3,"title":"\u51FD\u6570\u5B9E\u73B0\u591A\u7EBF\u7A0B","slug":"\u51FD\u6570\u5B9E\u73B0\u591A\u7EBF\u7A0B","link":"#\u51FD\u6570\u5B9E\u73B0\u591A\u7EBF\u7A0B","children":[]},{"level":3,"title":"\u7EE7\u627F\u5B9E\u73B0\u591A\u7EBF\u7A0B","slug":"\u7EE7\u627F\u5B9E\u73B0\u591A\u7EBF\u7A0B","link":"#\u7EE7\u627F\u5B9E\u73B0\u591A\u7EBF\u7A0B","children":[]},{"level":3,"title":"\u7EBF\u7A0B\u95F4\u901A\u4FE1(Queue)","slug":"\u7EBF\u7A0B\u95F4\u901A\u4FE1-queue","link":"#\u7EBF\u7A0B\u95F4\u901A\u4FE1-queue","children":[]},{"level":3,"title":"\u7EBF\u7A0B\u540C\u6B65Lock","slug":"\u7EBF\u7A0B\u540C\u6B65lock","link":"#\u7EBF\u7A0B\u540C\u6B65lock","children":[]},{"level":3,"title":"\u7EBF\u7A0B\u540C\u6B65RLock(\u4E0D\u4F1A\u4EA7\u751F\u6B7B\u9501\u95EE\u9898)","slug":"\u7EBF\u7A0B\u540C\u6B65rlock-\u4E0D\u4F1A\u4EA7\u751F\u6B7B\u9501\u95EE\u9898","link":"#\u7EBF\u7A0B\u540C\u6B65rlock-\u4E0D\u4F1A\u4EA7\u751F\u6B7B\u9501\u95EE\u9898","children":[]},{"level":3,"title":"condition(\u6761\u4EF6\u53D8\u91CF)  \u7528\u4E8E\u590D\u6742\u7684\u7EBF\u7A0B\u95F4\u540C\u6B65,\u662Fpython\u4E2D\u6700\u590D\u6742\u7684\u9501","slug":"condition-\u6761\u4EF6\u53D8\u91CF-\u7528\u4E8E\u590D\u6742\u7684\u7EBF\u7A0B\u95F4\u540C\u6B65-\u662Fpython\u4E2D\u6700\u590D\u6742\u7684\u9501","link":"#condition-\u6761\u4EF6\u53D8\u91CF-\u7528\u4E8E\u590D\u6742\u7684\u7EBF\u7A0B\u95F4\u540C\u6B65-\u662Fpython\u4E2D\u6700\u590D\u6742\u7684\u9501","children":[]},{"level":3,"title":"\u4FE1\u53F7\u91CFSemaphore","slug":"\u4FE1\u53F7\u91CFsemaphore","link":"#\u4FE1\u53F7\u91CFsemaphore","children":[]},{"level":3,"title":"\u7EBF\u7A0B\u6C60","slug":"\u7EBF\u7A0B\u6C60","link":"#\u7EBF\u7A0B\u6C60","children":[]},{"level":3,"title":"\u83B7\u53D6\u5230\u5DF2\u7ECF\u6210\u529F\u7684task\u7684\u8FD4\u56DE\u503C","slug":"\u83B7\u53D6\u5230\u5DF2\u7ECF\u6210\u529F\u7684task\u7684\u8FD4\u56DE\u503C","link":"#\u83B7\u53D6\u5230\u5DF2\u7ECF\u6210\u529F\u7684task\u7684\u8FD4\u56DE\u503C","children":[]},{"level":3,"title":"\u8FDB\u7A0B\u6C60","slug":"\u8FDB\u7A0B\u6C60","link":"#\u8FDB\u7A0B\u6C60","children":[]},{"level":3,"title":"\u8FDB\u7A0B\u6C602  imap","slug":"\u8FDB\u7A0B\u6C602-imap","link":"#\u8FDB\u7A0B\u6C602-imap","children":[]},{"level":3,"title":"\u8FDB\u7A0B\u95F4\u901A\u4FE1 Queue","slug":"\u8FDB\u7A0B\u95F4\u901A\u4FE1-queue","link":"#\u8FDB\u7A0B\u95F4\u901A\u4FE1-queue","children":[]},{"level":3,"title":"Manager\u5B9E\u73B0\u7EBF\u7A0B\u6C60\u901A\u4FE1","slug":"manager\u5B9E\u73B0\u7EBF\u7A0B\u6C60\u901A\u4FE1","link":"#manager\u5B9E\u73B0\u7EBF\u7A0B\u6C60\u901A\u4FE1","children":[]},{"level":3,"title":"\u8FDB\u7A0B\u95F4\u901A\u4FE1pipe","slug":"\u8FDB\u7A0B\u95F4\u901A\u4FE1pipe","link":"#\u8FDB\u7A0B\u95F4\u901A\u4FE1pipe","children":[]},{"level":3,"title":"Manager\u7684dict\u4F7F\u7528","slug":"manager\u7684dict\u4F7F\u7528","link":"#manager\u7684dict\u4F7F\u7528","children":[]}]},{"level":2,"title":"\u534F\u7A0B\u548C\u5F02\u6B65","slug":"\u534F\u7A0B\u548C\u5F02\u6B65","link":"#\u534F\u7A0B\u548C\u5F02\u6B65","children":[{"level":3,"title":"\u751F\u6210\u5668\u8FDB\u9636(\u534F\u7A0B\u7684\u57FA\u7840)","slug":"\u751F\u6210\u5668\u8FDB\u9636-\u534F\u7A0B\u7684\u57FA\u7840","link":"#\u751F\u6210\u5668\u8FDB\u9636-\u534F\u7A0B\u7684\u57FA\u7840","children":[]},{"level":3,"title":"\u751F\u6210\u5668\u7684throw\u548Cclose","slug":"\u751F\u6210\u5668\u7684throw\u548Cclose","link":"#\u751F\u6210\u5668\u7684throw\u548Cclose","children":[]},{"level":3,"title":"\u751F\u6210\u5668throw","slug":"\u751F\u6210\u5668throw","link":"#\u751F\u6210\u5668throw","children":[]},{"level":3,"title":"chain\u65B9\u6CD5","slug":"chain\u65B9\u6CD5","link":"#chain\u65B9\u6CD5","children":[]},{"level":3,"title":"\u751F\u6210\u5668\u7684yield from (3.3\u65B0\u52A0\u7279\u6027)","slug":"\u751F\u6210\u5668\u7684yield-from-3-3\u65B0\u52A0\u7279\u6027","link":"#\u751F\u6210\u5668\u7684yield-from-3-3\u65B0\u52A0\u7279\u6027","children":[]},{"level":3,"title":"yield from","slug":"yield-from","link":"#yield-from","children":[]},{"level":3,"title":"\u539F\u751F\u534F\u7A0B await async","slug":"\u539F\u751F\u534F\u7A0B-await-async","link":"#\u539F\u751F\u534F\u7A0B-await-async","children":[]}]},{"level":2,"title":"\u5E76\u53D1\u7F16\u7A0Basyncio","slug":"\u5E76\u53D1\u7F16\u7A0Basyncio","link":"#\u5E76\u53D1\u7F16\u7A0Basyncio","children":[{"level":3,"title":"\u4E8B\u4EF6\u5FAA\u73AF (asyncio\u6700\u57FA\u672C\u7684\u529F\u80FD)","slug":"\u4E8B\u4EF6\u5FAA\u73AF-asyncio\u6700\u57FA\u672C\u7684\u529F\u80FD","link":"#\u4E8B\u4EF6\u5FAA\u73AF-asyncio\u6700\u57FA\u672C\u7684\u529F\u80FD","children":[]},{"level":3,"title":"\u6267\u884C10\u4E2A\u534F\u7A0B,\u53EA\u9700\u8981\u4E24\u79D2, 100\u4E2A\u534F\u7A0B\u4E5F\u662F\u4E24\u79D2","slug":"\u6267\u884C10\u4E2A\u534F\u7A0B-\u53EA\u9700\u8981\u4E24\u79D2-100\u4E2A\u534F\u7A0B\u4E5F\u662F\u4E24\u79D2","link":"#\u6267\u884C10\u4E2A\u534F\u7A0B-\u53EA\u9700\u8981\u4E24\u79D2-100\u4E2A\u534F\u7A0B\u4E5F\u662F\u4E24\u79D2","children":[]},{"level":3,"title":"\u83B7\u53D6\u534F\u7A0B\u8FD4\u56DE\u503C","slug":"\u83B7\u53D6\u534F\u7A0B\u8FD4\u56DE\u503C","link":"#\u83B7\u53D6\u534F\u7A0B\u8FD4\u56DE\u503C","children":[]},{"level":3,"title":"\u534F\u7A0B\u5B8C\u6210\u540E\u4F7F\u7528\u56DE\u8C03\u51FD\u6570","slug":"\u534F\u7A0B\u5B8C\u6210\u540E\u4F7F\u7528\u56DE\u8C03\u51FD\u6570","link":"#\u534F\u7A0B\u5B8C\u6210\u540E\u4F7F\u7528\u56DE\u8C03\u51FD\u6570","children":[]},{"level":3,"title":"\u4F7F\u7528\u56DE\u8C03\u51FD\u6570\u7684\u65F6\u5019\u5E26\u53C2\u6570","slug":"\u4F7F\u7528\u56DE\u8C03\u51FD\u6570\u7684\u65F6\u5019\u5E26\u53C2\u6570","link":"#\u4F7F\u7528\u56DE\u8C03\u51FD\u6570\u7684\u65F6\u5019\u5E26\u53C2\u6570","children":[]},{"level":3,"title":"async.wait() \u548C async.gather()\u7684\u533A\u522B","slug":"async-wait-\u548C-async-gather-\u7684\u533A\u522B","link":"#async-wait-\u548C-async-gather-\u7684\u533A\u522B","children":[]},{"level":3,"title":"\u53D6\u6D88future(task)","slug":"\u53D6\u6D88future-task","link":"#\u53D6\u6D88future-task","children":[]},{"level":3,"title":"\u534F\u7A0B\u4E4B\u4E2D\u5D4C\u5957\u534F\u7A0B","slug":"\u534F\u7A0B\u4E4B\u4E2D\u5D4C\u5957\u534F\u7A0B","link":"#\u534F\u7A0B\u4E4B\u4E2D\u5D4C\u5957\u534F\u7A0B","children":[]},{"level":3,"title":"asyncio\u7684\u5176\u4ED6\u51FD\u6570","slug":"asyncio\u7684\u5176\u4ED6\u51FD\u6570","link":"#asyncio\u7684\u5176\u4ED6\u51FD\u6570","children":[]},{"level":3,"title":"call_later\u65B9\u6CD5,\u5728\u51E0\u79D2\u949F\u4E4B\u540E\u6267\u884C\u51FD\u6570","slug":"call-later\u65B9\u6CD5-\u5728\u51E0\u79D2\u949F\u4E4B\u540E\u6267\u884C\u51FD\u6570","link":"#call-later\u65B9\u6CD5-\u5728\u51E0\u79D2\u949F\u4E4B\u540E\u6267\u884C\u51FD\u6570","children":[]},{"level":3,"title":"\u7EBF\u7A0B\u6C60(ThreadPollExecutor) \u548C asyncio\u7ED3\u5408","slug":"\u7EBF\u7A0B\u6C60-threadpollexecutor-\u548C-asyncio\u7ED3\u5408","link":"#\u7EBF\u7A0B\u6C60-threadpollexecutor-\u548C-asyncio\u7ED3\u5408","children":[]},{"level":3,"title":"","slug":"","link":"#","children":[]}]}],"relativePath":"python/4.python\u6838\u5FC3.md"}'),p={name:"python/4.python\u6838\u5FC3.md"},e=l(`<h3 id="_1-python\u4E2D\u4E00\u5207\u7686\u5BF9\u8C61" tabindex="-1">1.python\u4E2D\u4E00\u5207\u7686\u5BF9\u8C61 <a class="header-anchor" href="#_1-python\u4E2D\u4E00\u5207\u7686\u5BF9\u8C61" aria-hidden="true">#</a></h3><ul><li>\u8FD9\u91CC\u8BB2\u7684python\u90FD\u662Fcpython (\u5373\u89E3\u91CA\u5668\u662Fcpython)</li><li>python\u4E2D\u4E00\u5207\u7686\u5BF9\u8C61\uFF0Cclass,\u51FD\u6570\u4E5F\u662F\u5BF9\u8C61\u3002\u7C7B\u4E5F\u662F\u5BF9\u8C61\uFF0C\u6211\u4EEC\u53EF\u4EE5\u52A8\u6001\u7684\u4FEE\u6539\u5B83\u7684\u5C5E\u6027</li><li>\u51FD\u6570\u548C\u7C7B\u4E5F\u662F\u5BF9\u8C61\uFF0C\u5C5E\u4E8Epython\u4E2D\u7684\u4E00\u7B49\u516C\u6C11</li><li>\u4E00\u7B49\u516C\u6C11\uFF1A1.\u8D4B\u503C\u7ED9\u4E00\u4E2A\u53D8\u91CF 2.\u53EF\u4EE5\u6DFB\u52A0\u5230\u96C6\u5408\u5BF9\u8C61\u4E2D 3.\u53EF\u4EE5\u4F5C\u4E3A\u53C2\u6570\u4F20\u9012\u7ED9\u51FD\u6570 4.\u53EF\u4EE5\u5F53\u4F5C\u51FD\u6570\u7684\u8FD4\u56DE\u503C</li><li>python\u4E2Dis\u5224\u65AD\u5BF9\u8C61\u7684\u5730\u5740\u662F\u5426\u76F8\u540C\uFF0C == \u5224\u65AD\u503C\u662F\u5426\u76F8\u540C</li><li>\u5C3D\u91CF\u4F7F\u7528 isinstance \u5224\u65AD\u7C7B\u578B\uFF0C\u800C\u4E0D\u662Ftype</li><li>\u6D89\u53CA\u5230IO\u64CD\u4F5C,\u624D\u6709\u540C\u6B65,\u5F02\u6B65,\u963B\u585E\u548C\u975E\u963B\u585E\u7684\u8BF4\u6CD5</li></ul><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#676E95;"># \u5224\u65AD\u4E00\u4E2A\u5BF9\u8C61\u662F\u5426\u662F\u6574\u578B</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> numbers</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">isinstance</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> numbers</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">Integral</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="\u5143\u7EC4\u62C6\u5305" tabindex="-1">\u5143\u7EC4\u62C6\u5305 <a class="header-anchor" href="#\u5143\u7EC4\u62C6\u5305" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#676E95;"># tuple\u5143\u7EC4\u53EF\u4EE5\u8FDB\u884C\u62C6\u5305</span></span>
<span class="line"><span style="color:#A6ACCD;">date_str </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2020-4-5</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">year</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> mouth</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> day </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">tuple</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">date_str</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">split</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">-</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">year</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">     </span><span style="color:#676E95;"># 2020</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">mouth</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># 4</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">day</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">      </span><span style="color:#676E95;"># 5</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_1-\u5C06\u51FD\u6570\u8D4B\u503C\u7ED9\u4E00\u4E2A\u53D8\u91CF" tabindex="-1">1.\u5C06\u51FD\u6570\u8D4B\u503C\u7ED9\u4E00\u4E2A\u53D8\u91CF <a class="header-anchor" href="#_1-\u5C06\u51FD\u6570\u8D4B\u503C\u7ED9\u4E00\u4E2A\u53D8\u91CF" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#676E95;"># 1.\u5B9A\u4E49\u4E00\u4E2A\u51FD\u6570</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ask</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">bobby</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># 2.\u5C06\u51FD\u6570\u8D4B\u503C\u7ED9\u4E00\u4E2A\u53D8\u91CF</span></span>
<span class="line"><span style="color:#A6ACCD;">my_func </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> ask</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># 3.\u8FD9\u4E2A\u53D8\u91CF\u5373\u53EF\u4EE5\u5F53\u4F5C\u51FD\u6570\u4F7F\u7528</span></span>
<span class="line"><span style="color:#82AAFF;">my_func</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_2-\u5C06\u7C7B\u8D4B\u503C\u7ED9\u4E00\u4E2A\u53D8\u91CF" tabindex="-1">2.\u5C06\u7C7B\u8D4B\u503C\u7ED9\u4E00\u4E2A\u53D8\u91CF <a class="header-anchor" href="#_2-\u5C06\u7C7B\u8D4B\u503C\u7ED9\u4E00\u4E2A\u53D8\u91CF" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#676E95;"># 1.\u521B\u5EFA\u4E00\u4E2A\u7C7B</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Person</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__init__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">person</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># 2.\u5C06\u8FD9\u4E2A\u7C7B\u8D4B\u503C\u7ED9\u4E00\u4E2A\u53D8\u91CF</span></span>
<span class="line"><span style="color:#A6ACCD;">my_person </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Person</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># 3.\u901A\u8FC7\u53D8\u91CF\u5B9E\u4F8B\u5316\u5BF9\u8C61</span></span>
<span class="line"><span style="color:#82AAFF;">my_person</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="_3-\u5C06\u51FD\u6570\u548C\u7C7B\uFF0C\u6DFB\u52A0\u5230\u96C6\u5408\u4E2D\uFF081-2\u4E2D\u7684\u51FD\u6570\u548C\u7C7B\uFF09" tabindex="-1">3.\u5C06\u51FD\u6570\u548C\u7C7B\uFF0C\u6DFB\u52A0\u5230\u96C6\u5408\u4E2D\uFF081.2\u4E2D\u7684\u51FD\u6570\u548C\u7C7B\uFF09 <a class="header-anchor" href="#_3-\u5C06\u51FD\u6570\u548C\u7C7B\uFF0C\u6DFB\u52A0\u5230\u96C6\u5408\u4E2D\uFF081-2\u4E2D\u7684\u51FD\u6570\u548C\u7C7B\uFF09" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#676E95;"># 1.\u5C06\u7C7B\u548C\u51FD\u6570\uFF0C\u6DFB\u52A0\u8FDB\u5217\u8868</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#676E95;">\u4EE5\u4E0B\u4EE3\u7801\u6267\u884C\u7ED3\u679C</span></span>
<span class="line"><span style="color:#676E95;">name              \u51FD\u6570\u7684\u8F93\u51FA        </span></span>
<span class="line"><span style="color:#676E95;">None              print(item())\u8F93\u51FA\uFF0C\u56E0\u4E3A\u51FD\u6570\u6CA1\u6709\u8FD4\u56DE\u503C\uFF0C\u6240\u4EE5\u6253\u5370None</span></span>
<span class="line"><span style="color:#676E95;">person            \u7C7B\u7684__init__\u65B9\u6CD5\u7684\u8F93\u51FA</span></span>
<span class="line"><span style="color:#676E95;">&lt;__main__.Person object at 0x000002C7FC888320&gt;    print(item())\u8F93\u51FA\uFF0C\u8FD4\u56DE\u7C7B\u5BF9\u8C61</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">obj_list </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[]</span></span>
<span class="line"><span style="color:#A6ACCD;">obj_list</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">append</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">ask</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">obj_list</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">append</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">Person</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> item </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> obj_list</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">item</span><span style="color:#89DDFF;">())</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_5-\u5C06\u51FD\u6570\u4F5C\u4E3A\u51FD\u6570\u7684\u8FD4\u56DE\u503C\uFF08python\u4E2D\u9002\u5668\u7684\u539F\u7406\uFF09" tabindex="-1">5.\u5C06\u51FD\u6570\u4F5C\u4E3A\u51FD\u6570\u7684\u8FD4\u56DE\u503C\uFF08python\u4E2D\u9002\u5668\u7684\u539F\u7406\uFF09 <a class="header-anchor" href="#_5-\u5C06\u51FD\u6570\u4F5C\u4E3A\u51FD\u6570\u7684\u8FD4\u56DE\u503C\uFF08python\u4E2D\u9002\u5668\u7684\u539F\u7406\uFF09" aria-hidden="true">#</a></h3><ul><li>\u51FD\u6570\u548C\u7C7B\u53EF\u4EE5\u4F5C\u4E3A\u51FD\u6570\u7684\u8FD4\u56DE\u503C</li><li>\u51FD\u6570\u548C\u7C7B\u53EF\u4EE5\u4F5C\u4E3A\u51FD\u6570\u7684\u53C2\u6570</li></ul><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#676E95;"># 1.\u5B9A\u4E49\u4E00\u4E2A\u51FD\u6570</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">hello</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">hello word</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># 2.\u5B9A\u4E49\u4E00\u4E2A\u51FD\u6570\uFF0C\u5C06\u4E0A\u9762\u7684\u51FD\u6570\u7684\u4F5C\u4E3A\u8FD9\u4E2A\u51FD\u6570\u7684\u8FD4\u56DE\u503C</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">nice</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">nice</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> hello</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># 3.\u8C03\u7528nice\u51FD\u6570\uFF0C\u8FD4\u56DE\u503C\u4ECD\u7136\u662F\u51FD\u6570</span></span>
<span class="line"><span style="color:#A6ACCD;">he </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">nice</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># 4.\u6267\u884C\u8FD4\u56DE\u7684\u51FD\u6570</span></span>
<span class="line"><span style="color:#82AAFF;">he</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="_6-type-object-class-\u7684\u5173\u7CFB" tabindex="-1">6.type object class \u7684\u5173\u7CFB <a class="header-anchor" href="#_6-type-object-class-\u7684\u5173\u7CFB" aria-hidden="true">#</a></h3><h4 id="type" tabindex="-1">type <a class="header-anchor" href="#type" aria-hidden="true">#</a></h4><ul><li>type\u7684\u4E24\u79CD\u7528\u6CD5\uFF1A1.\u8FD4\u56DE\u4E00\u4E2A\u5BF9\u8C61\u7684\u7C7B\u578B 2.\u751F\u6210\u4E00\u4E2A\u7C7B</li><li>type class obj \uFF08type\u751F\u6210\u7C7B\u5BF9\u8C61\uFF0C\u7C7B\u5BF9\u8C61\u751F\u6210\u5B9E\u4F8B\u5BF9\u8C61\uFF09</li><li>type\u5373\u662F\u5BF9\u8C61\u4E5F\u662F\u7C7B</li><li>type\u5C06\u6240\u6709\u7684\u5BF9\u8C61\u90FD\u751F\u6210\u51FA\u6765\uFF0C\u4F8B\u5982\u51FD\u6570\uFF0C\u7C7B\uFF0C\u5BF9\u8C61</li><li>\u6240\u4EE5\u4E3A\u4EC0\u4E48\u8BF4\u51FD\u6570\u548C\u7C7B\u7B49\u4E00\u5207\u90FD\u662F\u5BF9\u8C61\uFF0C\u662F\u56E0\u4E3A\u5B83\u4EEC\u90FD\u662F\u7531type\u521B\u5EFA\u51FA\u6765\u7684\uFF0C\u662Ftype\u7684\u5B9E\u4F8B</li><li>\u4E3A\u4E86python\u7684\u7075\u6D3B\u6027\uFF0C\u628A\u6240\u6709\u7684\u4E1C\u897F\u90FD\u8BBE\u7F6E\u6210\u5BF9\u8C61\uFF0C\u90A3\u4E48\u5F53\u6211\u4EEC\u7684\u7C7B\u521B\u5EFA\u4E4B\u540E\uFF0C\u4E5F\u53EF\u4EE5\u5F80\u91CC\u9762\u4FEE\u6539\u6216\u8005\u589E\u52A0\u5C5E\u6027\u51FD\u6570\u7B49\uFF0C\u56E0\u4E3A\u7C7B\u4E5F\u5C5E\u4E8E\u5BF9\u8C61\uFF0C\u800C\u5BF9\u8C61\u53EF\u4EE5\u4FEE\u6539\u5C5E\u6027\uFF0C\u5176\u4ED6\u7C7B\u4F3C</li></ul><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#676E95;"># \u6F14\u793A type \u2014\u2014&gt; int \u2014\u2014&gt; 1   (type\u751F\u6210int, int\u751F\u6210\u6570\u5B571)</span></span>
<span class="line"><span style="color:#FFCB6B;">type</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">				</span><span style="color:#676E95;"># class&#39; int			\u6574\u6570\u7684\u7C7B\u578B\u662Fint</span></span>
<span class="line"><span style="color:#FFCB6B;">type</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">int</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">			</span><span style="color:#676E95;"># class&#39; type			int\u7684\u7C7B\u578B\u662Ftype,int\u8FD9\u4E2A\u7C7B\u578B\u662F\u7531type\u751F\u6210\u7684</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># type \u2014\u2014&gt; class \u2014\u2014&gt; obj	(type\u751F\u6210class, class\u751F\u6210\u5BF9\u8C61)  </span></span>
<span class="line"><span style="color:#FFCB6B;">type</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">nice</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">		</span><span style="color:#676E95;"># class &#39;str&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u81EA\u5B9A\u4E49\u7684\u7C7B\uFF0C\u5B83\u7684type\u4E5F\u662F\u5C5E\u4E8Etype</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Studnet</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">pass</span></span>
<span class="line"><span style="color:#A6ACCD;">stu </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Student</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#FFCB6B;">type</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">stu</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">		 	</span><span style="color:#676E95;"># class &#39;student&#39;</span></span>
<span class="line"><span style="color:#FFCB6B;">type</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">Student</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">		</span><span style="color:#676E95;"># class &#39;type&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="object" tabindex="-1">Object <a class="header-anchor" href="#object" aria-hidden="true">#</a></h4><ul><li>object\u662F\u4E00\u4E2A\u6240\u6709\u7C7B\u90FD\u8981\u7EE7\u627F\u7684\u57FA\u7840\u7C7B</li><li>type\u4E5F\u662F\u7C7B\u5B83\u7EE7\u627F\u81EAobject,\u540C\u65F6type\u53C8\u5C06\u81EA\u5DF1\u5B9E\u4F8B\u5316\u6210\u5BF9\u8C61\uFF0C\u5E76\u4E14\u628Aobject\u7B49\u5176\u4ED6\u4E5F\u5B9E\u4F8B\u5316\u6210\u5BF9\u8C61</li><li>\u6240\u4EE5type(object) \u7684\u7ED3\u679C\u662Ftype type.__base\u6760\u6760 \u7684\u7ED3\u679C\u662Fobject</li><li>\u6253\u5370\u7236\u7C7B</li></ul><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Student</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">					</span><span style="color:#676E95;"># \u5B83\u7684\u7236\u7C7B(\u57FA\u7C7B)\u662Fobject, \u7EE7\u627F\u5173\u7CFB Studnet -&gt; object</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">pass</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">Student</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">__bases__</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">		 </span><span style="color:#676E95;"># \u6253\u5370\u7236\u7C7B __bases__		</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Parent</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">Student</span><span style="color:#89DDFF;">):</span><span style="color:#A6ACCD;">			</span><span style="color:#676E95;"># \u5B83\u7684\u7236\u7C7B\u662FStudent,\u7EE7\u627F\u5173\u7CFB Parent -&gt; Student -&gt; object </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">pass</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># type\u5373\u662F\u5BF9\u8C61\u4E5F\u662F\u7C7B,\u4EE5\u4E0B\u5F62\u6210\u5FAA\u73AF\u5F15\u7528</span></span>
<span class="line"><span style="color:#676E95;"># type\u5F97\u7236\u7C7B\u662Fobject</span></span>
<span class="line"><span style="color:#676E95;"># object\u7684\u7C7B\u578B\u53C8\u662Ftype,\u5373object\u662F\u7531type\u751F\u6210</span></span>
<span class="line"><span style="color:#676E95;"># \u539F\u56E0\uFF1Aobject\u662F\u6700\u9876\u5C42\u7684\u57FA\u7C7B\uFF0C\u800Ctype\u662F\u7C7B\uFF0C\u6240\u4EE5\u88ABobject\u7BA1. type\u7BA1\u5BF9\u8C61\uFF0C\u800Cobject\u65E2\u53EF\u4EE5\u8BF4\u662F\u7C7B\uFF0C\u4E5F\u53EF\u4EE5\u8BF4\u662F\u5BF9\u8C61\u6240\u4EE5\u88ABtype\u7BA1\u5230</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">type</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">__bases__				    </span><span style="color:#676E95;"># object (type\u7684\u7236\u7C7B\u4F7Fobject)</span></span>
<span class="line"><span style="color:#FFCB6B;">type</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">object</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">					</span><span style="color:#676E95;"># class &#39;type&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="_7-python\u4E2D\u5E38\u89C1\u7684\u5185\u7F6E\u7C7B\u578B" tabindex="-1">7.python\u4E2D\u5E38\u89C1\u7684\u5185\u7F6E\u7C7B\u578B <a class="header-anchor" href="#_7-python\u4E2D\u5E38\u89C1\u7684\u5185\u7F6E\u7C7B\u578B" aria-hidden="true">#</a></h3><ul><li><p>None (\u5168\u5C40\u53EA\u67091\u4E2A)</p></li><li><p>\u6570\u503C int float complex bool</p></li><li><p>\u8FED\u4EE3\u7C7B\u578B (\u8FED\u4EE3\u5668\u548C\u751F\u6210\u5668\u4E2D\u8BB2\u89E3)</p></li><li><p>\u5E8F\u5217\u7C7B\u578B list bytes range tuple str array</p></li><li><p>\u6620\u5C04 dict (set \u548C dict\u7684\u5B9E\u73B0\u539F\u7406\u90FD\u662F\u4E00\u6837\u7684\uFF0C\u6240\u4EE5\u5B83\u4EEC\u7684\u6548\u7387\u975E\u5E38\u9AD8)</p></li><li><p>\u96C6\u5408 set fronzenset(\u4E0D\u53EF\u4FEE\u6539\u7684set)</p></li><li><p>\u4E0A\u4E0B\u6587\u7BA1\u7406\u7C7B\u578B with\uFF08\u5173\u952E\u5B57\uFF09</p></li><li><p>\u5176\u4ED6\u7C7B\u578B\uFF08\u6D89\u53CA\u5230python\u6E90\u7801\uFF0C\u8FD9\u91CC\u4E0D\u518D\u6DF1\u5165\u8FDB\u884C\u8BB2\u89E3\uFF09</p><ul><li>\u6A21\u5757\u7C7B\u578B</li><li>class\u548C\u5B9E\u4F8B</li><li>\u51FD\u6570\u7C7B\u578B</li><li>\u65B9\u6CD5\u7C7B\u578B</li><li>\u4EE3\u7801\u7C7B\u578B\uFF08\u4EE3\u7801\u4E5F\u4F1A\u88ABpython\u89E3\u91CA\u5668\u5F53\u4F5C\u4E00\u4E2A\u5BF9\u8C61\u7C7B\u578B\uFF09</li><li>object\u7C7B\u578B</li><li>type\u7C7B\u578B</li><li>ellipsis\u7C7B\u578B</li></ul></li><li><p>\u5BF9\u8C61\u7684\u4E09\u4E2A\u7279\u5F81\uFF1A</p><ul><li>\u8EAB\u4EFD\uFF08\u5BF9\u8C61\u5728\u5185\u5B58\u4E2D\u7684\u5730\u5740\uFF0Cid\u51FD\u6570\u67E5\u770B\uFF09</li><li>\u7C7B\u578B\uFF08\u4EFB\u4F55\u4E00\u4E2A\u5BF9\u8C61\u90FD\u6709\u7C7B\u578B\uFF0C\u6BD4\u5982 12 \u662Fint\u7C7B\u578B\uFF09</li><li>\u503C</li></ul></li><li><p>python\u4E2D\u65B9\u6CD5\u548C\u51FD\u6570\u662F\u6709\u533A\u522B\u7684\uFF0C\u51FD\u6570\u662F.py\u6587\u4EF6\u4E2D\u5B9A\u4E49\u7684\u51FD\u6570\uFF0C\u65B9\u6CD5\u662F\u7C7B\u4E2D\u5B9A\u4E49\u7684\u51FD\u6570</p></li></ul><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#676E95;"># a \u662F\u4E00\u4E2A\u53D8\u91CF\uFF0C1\u662F\u4E00\u4E2A\u503C\uFF08\u4E00\u4E2Aint\u7C7B\u578B\u7684\u503C\uFF09 a\u6307\u54111\uFF0Ca\u8FD9\u4E2A\u53D8\u91CF\u662F\u4EC0\u4E48\u540E\u9762\u4F1A\u8BB2\u5230</span></span>
<span class="line"><span style="color:#A6ACCD;">a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#82AAFF;">id</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">a</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># None\u5168\u5C40\u53EA\u6709\u4E00\u4E2A</span></span>
<span class="line"><span style="color:#A6ACCD;">a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">None</span></span>
<span class="line"><span style="color:#A6ACCD;">b </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">None</span></span>
<span class="line"><span style="color:#82AAFF;">id</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">a</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">id</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">b</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">		</span><span style="color:#676E95;"># True</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="_7-\u9B54\u6CD5\u51FD\u6570" tabindex="-1">7.\u9B54\u6CD5\u51FD\u6570 <a class="header-anchor" href="#_7-\u9B54\u6CD5\u51FD\u6570" aria-hidden="true">#</a></h3><ul><li>\u5728python\u7684class\u4E2D\u4EE5\u53CC\u4E0B\u5212\u7EBF\u5F00\u5934,\u53CC\u4E0B\u5212\u7EBF\u7ED3\u5C3E\u7684\u51FD\u6570</li><li>\u9B54\u6CD5\u51FD\u6570\u662F\u7528\u6765\u5BF9\u6211\u4EEC\u7684\u7C7B\u8FDB\u884C\u589E\u5F3A\u7684</li><li>\u4E00\u822C\u6211\u4EEC\u4E0D\u8981\u81EA\u5B9A\u4E49\u53CC\u4E0B\u5212\u7EBF\u7684\u51FD\u6570\uFF0C\u800C\u4F7F\u7528python\u5185\u7F6E\u7684\u53CC\u4E0B\u5212\u7EBF\u7684\u9B54\u6CD5\u51FD\u6570</li></ul><h4 id="getitem\u9B54\u6CD5\u51FD\u6570" tabindex="-1">getitem\u9B54\u6CD5\u51FD\u6570 <a class="header-anchor" href="#getitem\u9B54\u6CD5\u51FD\u6570" aria-hidden="true">#</a></h4><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#676E95;"># __getitem__\u9B54\u6CD5\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Company</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">object</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__init__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">employee_list</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">employee</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> employee_list</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;"># \u5B9E\u73B0__getitem__\u65B9\u6CD5\uFF0C\u5373\u53EF\u76F4\u63A5\u5BF9\u8FD9\u4E2A\u7C7B\u7684\u5B9E\u4F8B\u5BF9\u8C61\u8FDB\u884Cfor\u5FAA\u73AF\u904D\u5386</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;"># \u5B9E\u73B0\u8FD9\u4E2A\u65B9\u6CD5\uFF0C\u8FD9\u4E2A\u7C7B\u5B9E\u4F8B\u5316\u51FA\u6765\u7684\u5BF9\u8C61\u5C31\u662F\u53EF\u8FED\u4EE3\u5BF9\u8C61\u3001</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;"># __getitem__\u4F1A\u4ECEself.employee\u4E2D\u4E00\u4E2A\u4E2A\u53D6\u503C\uFF0C\u76F4\u81F3\u629B\u51FA\u5F02\u5E38</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__getitem__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">employee</span><span style="color:#89DDFF;">[</span><span style="color:#F07178;">item</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">company </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Company</span><span style="color:#89DDFF;">([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">tom</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">bob</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">jane</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u76F4\u63A5\u5BF9em\u8FDB\u884C\u904D\u5386\uFF0C\u4F1A\u53BB\u627E__getitem__\u65B9\u6CD5\u3002</span></span>
<span class="line"><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> em </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> company</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">em</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u540C\u65F6\u5B9E\u73B0\u4E86__getitem__\u5B83\u4E5F\u5C31\u662F\u5E8F\u5217\u7C7B\u578B\u4E86 [:2] \u53D6\u524D\u9762\u4E24\u4E2A</span></span>
<span class="line"><span style="color:#A6ACCD;">com1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> company</span><span style="color:#89DDFF;">[:</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">com1</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">					</span><span style="color:#676E95;"># [&#39;tom&#39;, &#39;bob&#39;]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u4E5F\u53EF\u4EE5\u9002\u7528len\u6253\u5370\u5B83\u7684\u957F\u5EA6. len\u9ED8\u8BA4\u56DE\u53BB\u627E__len__\u51FD\u6570\uFF0C\u5982\u679C\u6CA1\u6709\uFF0C\u5219\u53BB__getitem__\u4E2D\u627E\uFF0C\u77E5\u5230\u5B83\u629B\u51FA\u5F02\u5E38\uFF0Citem\u90A3\u4E2A\u6570\u5C31\u662Flen</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">len</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">company</span><span style="color:#89DDFF;">))</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u5982\u679C\u5B9E\u73B0\u4E86__len__\u65B9\u6CD5\uFF0C\u5219len(company)\u7684\u65F6\u5019\uFF0C\u4F1A\u76F4\u63A5\u53BB\u627E\u8FD9\u4E2A\u51FD\u6570\uFF0C\u7136\u540E\u8FD4\u56DE</span></span>
<span class="line"><span style="color:#82AAFF;">__len__</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">len</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">employee</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h4 id="_8-python\u7684\u6570\u636E\u6A21\u578B\uFF0C\u4EE5\u53CA\u6570\u636E\u6A21\u578B\u5BF9python\u7684\u5F71\u54CD" tabindex="-1">8.python\u7684\u6570\u636E\u6A21\u578B\uFF0C\u4EE5\u53CA\u6570\u636E\u6A21\u578B\u5BF9python\u7684\u5F71\u54CD <a class="header-anchor" href="#_8-python\u7684\u6570\u636E\u6A21\u578B\uFF0C\u4EE5\u53CA\u6570\u636E\u6A21\u578B\u5BF9python\u7684\u5F71\u54CD" aria-hidden="true">#</a></h4><ul><li>\u9B54\u6CD5\u51FD\u6570\u672C\u8EAB\u7684\u6982\u5FF5\u662Fpython\u7684\u6570\u636E\u6A21\u578B</li></ul><h4 id="str\u5B57\u7B26\u4E32\u8868\u793A" tabindex="-1">str\u5B57\u7B26\u4E32\u8868\u793A <a class="header-anchor" href="#str\u5B57\u7B26\u4E32\u8868\u793A" aria-hidden="true">#</a></h4><ul><li>\u9B54\u6CD5\u51FD\u6570\u662Fpython\u81EA\u5DF1\u8C03\u7528\u7684</li></ul><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#676E95;"># str\u9B54\u6CD5\u65B9\u6CD5\uFF0C\u6253\u5370\u8BE5\u7C7B\u7684\u5B9E\u4F8B\u5316\u5BF9\u8C61\u7684\u65F6\u5019\u6389\u7528\u6B64\u65B9\u6CD5,\u9ED8\u8BA4\u6253\u5370\u5185\u5B58\u5730\u5740</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__str__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">name:</span><span style="color:#F78C6C;">{}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">format</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># repr\u548Cstr\u4E00\u6837\uFF0Creprs\u662F\u5728\u5F00\u53D1\u6A21\u5F0F\u4E2D\u4F7F\u7528\u7684</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__repr__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">name:</span><span style="color:#F78C6C;">{}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">format</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="_8-\u6570\u5B66\u8FD0\u7B97" tabindex="-1">8.\u6570\u5B66\u8FD0\u7B97 <a class="header-anchor" href="#_8-\u6570\u5B66\u8FD0\u7B97" aria-hidden="true">#</a></h4><ul><li>\u6570\u5B66\u8FD0\u7B97\u6709\u5F88\u591A\uFF0C\u8FD9\u91CC\u53EA\u4E3E\u4E24\u4E2A\u4F8B\u5B50</li><li>\u5BF9\u8C61\u90FD\u53EF\u4EE5\u8FDB\u884C\u52A0\u51CF\u4E58\u9664\uFF0C\u53EA\u8981\u5B9E\u73B0\u5BF9\u5E94\u7684\u9B54\u6CD5\u65B9\u6CD5\u5373\u53EF</li><li>len() \u51FD\u6570\u7684\u7279\u6027\uFF1A\u5728cpython\u89E3\u91CA\u5668\u4E2D\uFF0C\u5F53len\u51FD\u6570\u83B7\u53D6list dict set \u5185\u7F6E\u6570\u636E\u7C7B\u578B\u7684\u957F\u5EA6\u65F6\uFF0C\u5B83\u4F1A\u53BB\u5185\u5B58\u4E2D\u76F4\u63A5\u8BFB\u53D6\u4FDD\u5B58\u7684\u957F\u5EA6\uFF0C\u800C\u4E0D\u4F1A\u53BB\u904D\u5386\u3002\u6240\u4EE5\u4E00\u822C\u5C3D\u91CF\u4F7F\u7528\u539F\u751F\u7684\u7C7B\u578B\uFF0C\u6027\u80FD\u9AD8</li></ul><h4 id="abs\u9B54\u6CD5\u51FD\u6570" tabindex="-1">abs\u9B54\u6CD5\u51FD\u6570 <a class="header-anchor" href="#abs\u9B54\u6CD5\u51FD\u6570" aria-hidden="true">#</a></h4><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#676E95;"># abs\u5C5E\u4E8E\u6570\u5B66\u8FD0\u7B97\u7684\u9B54\u6CD5\u65B9\u6CD5\uFF0C\u6570\u5B66\u8FD0\u7B97\u7684\u9B54\u6CD5\u65B9\u6CD5\u6709\u5F88\u591A\uFF0C\u8FD9\u91CC\u53EA\u4E3E\u4E00\u4E2A\u4F8B\u5B50</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Nums</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__init__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">num</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">num</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> num</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u5F53abs(Nums\u5B9E\u4F8B) \u7684\u65F6\u5019\uFF0C\u4F1A\u8C03\u7528\u8FD9\u91CC\u7684\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u76F4\u63A5return 1\u7684\u8BDD\uFF0C\u4E0D\u7BA1Nums\u88AB\u521D\u59CB\u5316\u6210\u4EC0\u4E48\uFF0C\u90FD\u4F1A\u8FD4\u56DE1</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__abs__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">abs</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">num</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">num </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Nums</span><span style="color:#89DDFF;">(-</span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#676E95;"># \u5F53\u6267\u884Cabs(num)\u7684\u65F6\u5019\uFF0C\u4F1A\u53BB\u8C03\u7528__abs__() \u9B54\u6CD5\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">abs</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">num</span><span style="color:#89DDFF;">))</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="add\u9B54\u6CD5\u51FD\u6570" tabindex="-1">add\u9B54\u6CD5\u51FD\u6570 <a class="header-anchor" href="#add\u9B54\u6CD5\u51FD\u6570" aria-hidden="true">#</a></h4><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">MyVector</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__init__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">y</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">x</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> x</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">y</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> y</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># __add__\u9B54\u6CD5\u65B9\u6CD5\uFF0C\u4E24\u4E2A\u5BF9\u8C61\u76F8\u52A0\u65F6\uFF0C\u8FDB\u5165\u8FD9\u4E2A\u9B54\u6CD5\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u8FD9\u91CC\u8FD4\u56DE\u4E00\u4E2A\u65B0\u5BF9\u8C61\uFF0C\u4E24\u4E2A\u5BF9\u8C61\u7684x\u76F8\u52A0\uFF0C\u4E24\u4E2A\u5BF9\u8C61\u7684y\u76F8\u52A0</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__add__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">other</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        re_vector </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">MyVector</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">x</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">+</span><span style="color:#82AAFF;"> other</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">x</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">y</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">+</span><span style="color:#82AAFF;"> other</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">y</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> re_vector</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__str__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">(x: </span><span style="color:#F78C6C;">{}</span><span style="color:#C3E88D;">, y: </span><span style="color:#F78C6C;">{}</span><span style="color:#C3E88D;">)</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">format</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">x</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">y</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">v1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">MyVector</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">v2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">MyVector</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">v1</span><span style="color:#89DDFF;">+</span><span style="color:#82AAFF;">v2</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">                </span><span style="color:#676E95;"># (x: 3, y: 7)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="_9-\u9E2D\u5B50\u7C7B\u578B" tabindex="-1">9.\u9E2D\u5B50\u7C7B\u578B <a class="header-anchor" href="#_9-\u9E2D\u5B50\u7C7B\u578B" aria-hidden="true">#</a></h3><ul><li><p>\u9E2D\u5B50\u7C7B\u578B\u8D2F\u7A7F\u6211\u4EEC\u7684python</p></li><li><p>python\u4E2D\u7684\u9B54\u6CD5\u65B9\u6CD5\uFF0C\u6B63\u662F\u4F7F\u7528\u4E86\u9E2D\u5B50\u51FD\u6570\u7684\u7279\u6027\uFF0C\u6240\u4EE5\u5728python\u4E2D\u7684\u5F88\u591A\u5185\u7F6E\u7C7B\u4E2D\u90FD\u5B9E\u73B0\u4E86\u8BB8\u591A\u9B54\u6CD5\u65B9\u6CD5</p></li></ul><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#676E95;"># \u5177\u6709\u76F8\u540C\u7684\u65B9\u6CD5\u5C31\u662F\u9E2D\u5B50\u7C7B\u578B</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Cat</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">say</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">i am a cat</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Dog</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">say</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">i am a dog</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Duck</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">say</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">i am a duck</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u4EE5\u4E0A\u4E09\u4E2A\u7C7B\u90FD\u6709\u4E00\u4E2A\u5171\u540C\u7684\u51FD\u6570\u5C31\u662F\u9E2D\u5B50\u7C7B\u578B\u3002python\u4E2D\u5B9E\u73B0\u591A\u6001\uFF0C\u5B9A\u4E49\u76F8\u540C\u7684\u65B9\u6CD5\u5373\u53EF</span></span>
<span class="line"><span style="color:#676E95;"># \u5982\u679C\u662Fjava\u5219\u9700\u8981\u5B9A\u4E49\u4E00\u4E2AAnimal\u7236\u7C7B\uFF0C\u7136\u540E\u5B50\u7C7B\u91CD\u5199say\u65B9\u6CD5\uFF0C\u7136\u540E\u5C06\u5B50\u7C7B\u5B9E\u4F8B\u5BF9\u8C61\u8D4B\u503C\u7ED9Animal\u7C7B\u578B\u53D8\u91CF</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">animals </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">Cat</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> Dog</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> Duck</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> animal </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> animals</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">animal</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">say</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="_10-\u5217\u8868\u7684-extend\u65B9\u6CD5" tabindex="-1">10.\u5217\u8868\u7684 extend\u65B9\u6CD5 <a class="header-anchor" href="#_10-\u5217\u8868\u7684-extend\u65B9\u6CD5" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#A6ACCD;">a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">b </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">6</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">7</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">8</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># extend\u63A5\u6536\u4E00\u4E2A\u53EF\u8FED\u4EE3\u5BF9\u8C61\uFF0C\u90A3\u4E48\u5B57\u5178\uFF0Cset\u90FD\u53EF\u4EE5\u5F53\u4F5C\u53C2\u6570\u4F20\u9012\u8FDB\u53BB</span></span>
<span class="line"><span style="color:#676E95;"># \u81EA\u5B9A\u4E49\u7684\u7C7B\uFF0C\u53EA\u8981\u5B9E\u73B0\u4E86__getitem__\u65B9\u6CD5\uFF0C\u90A3\u4E48\u8FD9\u4E2A\u7C7B\u7684\u5B9E\u4F8B\u5316\u5BF9\u8C61\u4E5F\u53EF\u4EE5\u4F20\u9012\u8FDB\u53BB</span></span>
<span class="line"><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">extend</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">b</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u5982\u679C\u7EE7\u627Fobject\u53EF\u7701\u7565</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Company</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">object</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__init__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">employee_list</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">employee</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> employee_list</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u5B9E\u73B0__getitem__\u65B9\u6CD5\uFF0C\u5373\u53EF\u76F4\u63A5\u5BF9\u8FD9\u4E2A\u7C7B\u7684\u5B9E\u4F8B\u5BF9\u8C61\u8FDB\u884Cfor\u5FAA\u73AF\u904D\u5386</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u5B9E\u73B0\u8FD9\u4E2A\u65B9\u6CD5\uFF0C\u8FD9\u4E2A\u7C7B\u5B9E\u4F8B\u5316\u51FA\u6765\u7684\u5BF9\u8C61\u5C31\u662F\u53EF\u8FED\u4EE3\u5BF9\u8C61</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__getitem__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">employee</span><span style="color:#89DDFF;">[</span><span style="color:#F07178;">item</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># __le__ \u9B54\u6CD5\u65B9\u6CD5\uFF0C\u8C03\u7528len()\u65B9\u6CD5\u65F6\u8FDB\u5165\u8FD9\u4E2A\u51FD\u6570</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__len__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">len</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">employee</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">c1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Company</span><span style="color:#89DDFF;">([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">tom</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">jerry</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">jane</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">])</span></span>
<span class="line"><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">extend</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">c1</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">a</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">			</span><span style="color:#676E95;"># [1, 2, 3, 4, 5, 6, 7, 8, &#39;tom&#39;, &#39;jerry&#39;, &#39;jane&#39;]</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h3 id="_11-\u62BD\u8C61\u57FA\u7C7B-abc\u6A21\u5757-\uFF08\u7C7B\u4F3Cjava\u7684\u63A5\u53E3\uFF09" tabindex="-1">11.\u62BD\u8C61\u57FA\u7C7B [ABC\u6A21\u5757]\uFF08\u7C7B\u4F3Cjava\u7684\u63A5\u53E3\uFF09 <a class="header-anchor" href="#_11-\u62BD\u8C61\u57FA\u7C7B-abc\u6A21\u5757-\uFF08\u7C7B\u4F3Cjava\u7684\u63A5\u53E3\uFF09" aria-hidden="true">#</a></h3><ul><li>\u62BD\u8C61\u57FA\u7C7B\u4E0D\u53EF\u4EE5\u5B9E\u4F8B\u5316\uFF0C\u7EE7\u627F\u62BD\u8C61\u57FA\u7C7B\u7684\u7C7B\uFF0C\u5FC5\u987B\u5B9E\u73B0\u91CC\u9762\u7684\u62BD\u8C61\u65B9\u6CD5 <ul><li>\u6211\u4EEC\u5728\u67D0\u4E9B\u60C5\u51B5\u4E4B\u4E0B\u5E0C\u671B\u5224\u5B9A\u67D0\u4E2A\u5BF9\u8C61\u7684\u7C7B\u578B\uFF0C\u7528\u62BD\u8C61\u57FA\u7C7B</li><li>\u6211\u4EEC\u9700\u8981\u5F3A\u5236\u5B50\u7C7B\u5FC5\u987B\u5B9E\u73B0\u67D0\u4E2A\u65B9\u6CD5\uFF0C\u7528\u62BD\u8C61\u57FA\u7C7B</li></ul></li><li>python\u4E2D\u53D8\u91CF\u53EA\u662F\u4E00\u4E2A\u7B26\u53F7\uFF0C\u53EF\u4EE5\u63A5\u6536\u4EFB\u4F55\u5BF9\u8C61\uFF0C\u6240\u4EE5\u5728python\u4E2D\u6CA1\u6709\u591A\u6001\u7684\u6982\u5FF5\uFF0C\u8BED\u8A00\u672C\u8EAB\u5C31\u662F\u591A\u6001\u7684</li><li>\u52A8\u6001\u7684\u8BED\u8A00\uFF0C\u53D8\u91CF\u4E0D\u9700\u8981\u58F0\u660E\u7C7B\u578B\u3002\u65E0\u6CD5\u505A\u7C7B\u578B\u68C0\u67E5\uFF0C\u6240\u4EE5\u6709\u4E9B\u9519\u8BEF\u53EA\u80FD\u5728\u8FD0\u884C\u662F\u53D1\u73B0\uFF0C\u8FD9\u4E5F\u662F\u52A8\u6001\u8BED\u8A00\u7684\u7F3A\u9677</li></ul><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#676E95;"># python\u4E2D\u4F7F\u7528hasattr()\u5224\u65AD\u4E00\u4E2A\u5BF9\u8C61\u662F\u5426\u6709\u67D0\u4E2A\u5C5E\u6027\uFF0C\u51FD\u6570\u4E5F\u662F\u5C5E\u6027\u3002\u8FD4\u56DE\u503C\u4E3Abool</span></span>
<span class="line"><span style="color:#A6ACCD;">com </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Company</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#82AAFF;">hasattr</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">com</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__len__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="\u6A21\u62DF\u4E00\u4E2A\u62BD\u8C61\u57FA\u7C7B" tabindex="-1">\u6A21\u62DF\u4E00\u4E2A\u62BD\u8C61\u57FA\u7C7B <a class="header-anchor" href="#\u6A21\u62DF\u4E00\u4E2A\u62BD\u8C61\u57FA\u7C7B" aria-hidden="true">#</a></h4><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#676E95;"># \u6A21\u4EFF\u62BD\u8C61\u57FA\u7C7B\u7684\u62BD\u8C61\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">CacheBase</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u5982\u679C\u5B50\u7C7B\uFF0C\u4E0D\u91CD\u5199\u8FD9\u4E2A\u65B9\u6CD5\uFF0C\u800C\u8C03\u7528\uFF0C\u5219\u629B\u51FA\u5F02\u5E38</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">key</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">raise</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">NotImplementedError</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">set</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">key</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">raise</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">NotImplementedError</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#676E95;"># \u8FD9\u79CD\u6A21\u62DF\u7684\u7F3A\u9677\u5C31\u662F\uFF0C\u5F53\u53EA\u6709\u8C03\u7528\u65B9\u6CD5\u7684\u65F6\u5019\uFF0C\u624D\u4F1A\u629B\u51FA\u5F02\u5E38\uFF0C\u800C\u6211\u4EEC\u7684\u62BD\u8C61\u57FA\u7C7B\uFF0C\u53EA\u8981\u7EE7\u627F\u5B83\uFF0C\u800C\u4E0D\u5B9E\u73B0\u62BD\u8C61\u65B9\u6CD5\uFF0C\u5C31\u4F1A\u629B\u51FA\u5F02\u5E38</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="\u62BD\u8C61\u57FA\u7C7B" tabindex="-1">\u62BD\u8C61\u57FA\u7C7B <a class="header-anchor" href="#\u62BD\u8C61\u57FA\u7C7B" aria-hidden="true">#</a></h4><ul><li>abc\u6A21\u5757\u5B9E\u73B0\u62BD\u8C61\u57FA\u7C7B</li><li>\u5728python\u4E2D\u5C3D\u91CF\u4F7F\u7528\u9E2D\u5B50\u7C7B\u578B\uFF0C\u62BD\u8C61\u57FA\u7C7B\u5C11\u7528</li></ul><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> abc</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u5B9A\u4E49\u62BD\u8C61\u57FA\u7C7B\uFF0C\u6307\u5B9Ametaclass\u4E3Aabc.ABCMeta</span></span>
<span class="line"><span style="color:#676E95;"># \u65B9\u6CD5\u4E0A\u52A0 @abc.abstractmethod\u88C5\u9970\u5668\uFF0C\u90A3\u4E48\u8FD9\u4E2A\u65B9\u6CD5\u5C31\u662F\u62BD\u8C61\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">CacheBase</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">metaclass</span><span style="color:#89DDFF;">=</span><span style="color:#FFCB6B;">abc</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">ABCMeta</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">abc</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">abstractmethod</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">key</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">pass</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">abc</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">abstractmethod</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">set</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">key</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">pass</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u7EE7\u627F\u62BD\u8C61\u57FA\u7C7B\uFF0C\u9700\u8981\u5B9E\u73B0\u62BD\u8C61\u65B9\u6CD5\uFF0C\u5426\u5219\u5B9E\u4F8B\u5316\u5BF9\u8C61\u7684\u65F6\u5019\u4F1A\u62A5\u9519</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Redis</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">CacheBase</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">key</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">pass</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">set</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">key</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">pass</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u5B9E\u4F8B\u5316\u5B50\u7C7B</span></span>
<span class="line"><span style="color:#82AAFF;">Redis</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="_12-instance-\u548C-type-\u7684\u533A\u522B" tabindex="-1">12.instance \u548C type \u7684\u533A\u522B <a class="header-anchor" href="#_12-instance-\u548C-type-\u7684\u533A\u522B" aria-hidden="true">#</a></h3><ul><li>\u5C3D\u91CF\u4F7F\u7528instance \u800C\u4E0D\u662Ftype</li></ul><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#676E95;"># \u5C3D\u91CF\u4F7F\u7528instance \u800C\u4E0D\u662Ftype</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">A</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">pass</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">B</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">A</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">pass</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">b </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">B</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># isinstance\u56DE\u53BB\u68C0\u67E5\u7EE7\u627F\u7C7B\uFF0C\u6240\u4EE5arg2\u662F\u7236\u7C7B\u7C7B\u578B\uFF0C\u4E5F\u4E3ATrue</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">isinstance</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">b</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> B</span><span style="color:#89DDFF;">))</span><span style="color:#A6ACCD;">          </span><span style="color:#676E95;"># True</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">isinstance</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">b</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> A</span><span style="color:#89DDFF;">))</span><span style="color:#A6ACCD;">          </span><span style="color:#676E95;"># True</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># python\u4E2Dis\u5224\u65AD\u5BF9\u8C61\u7684\u5730\u5740\u662F\u5426\u76F8\u540C\uFF0C\u5373\u662F\u4E0D\u662F\u540C\u4E00\u4E2A\u5BF9\u8C61</span></span>
<span class="line"><span style="color:#676E95;"># == \u5224\u65AD\u503C\u662F\u5426\u76F8\u540C</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">type</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">b</span><span style="color:#89DDFF;">)</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">is</span><span style="color:#82AAFF;"> B</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">              </span><span style="color:#676E95;"># True</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">type</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">b</span><span style="color:#89DDFF;">)</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">is</span><span style="color:#82AAFF;"> A</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">              </span><span style="color:#676E95;"># False</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="_13-\u7C7B\u53D8\u91CF\u548C\u5B9E\u4F8B\u53D8\u91CF" tabindex="-1">13.\u7C7B\u53D8\u91CF\u548C\u5B9E\u4F8B\u53D8\u91CF <a class="header-anchor" href="#_13-\u7C7B\u53D8\u91CF\u548C\u5B9E\u4F8B\u53D8\u91CF" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">A</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># aa\u5176\u5B9E\u662F\u7C7B\u53D8\u91CF,\u53EA\u6709\u4E00\u4EFD\uFF0C\u662F\u5B9E\u4F8B\u6240\u5171\u4EAB\u7684</span></span>
<span class="line"><span style="color:#A6ACCD;">    aa </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># self\u4EE3\u8868\u7684\u662F\u5B9E\u4F8B\uFF0C\u6240\u4EE5self.x\u548Cself.y\u662F\u5B9E\u4F8B\u53D8\u91CF</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__init__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">y</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">x</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> x</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">y</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> y</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">A</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u7C7B\u53D8\u91CF\u53EF\u4EE5\u901A\u8FC7 \u7C7B\u540D. \u8BBF\u95EE\uFF0C\u4E5F\u53EF\u4EE5\u901A\u8FC7 \u5B9E\u4F8B. \u8BBF\u95EE</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">A</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">aa</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">a</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">x</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> a</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">y</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> a</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">aa</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">b </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">A</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">b</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">aa</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">12</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u7C7B\u53D8\u91CF\u53EA\u6709\u4E00\u4EFD\uFF0C\u5F53A\u6539\u53D8\u4E4B\u540E\uFF0C\u5B9E\u4F8B\u4E2D\u627Eaa\u4E5F\u6539\u53D8\u4E86\uFF0C \u5B9E\u4F8B\u6539\u53D8\u4E0D\u4E86\u7C7B\u53D8\u91CF</span></span>
<span class="line"><span style="color:#A6ACCD;">A</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">aa</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">12</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">a</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">aa</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">b</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">aa</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u5F53\u901A\u8FC7\u5B9E\u4F8B\u53BB\u4FEE\u6539\u7C7B\u53D8\u91CF\u65F6\uFF0C\u5E76\u4E0D\u4F1A\u6539\u53D8\u7C7B\u53D8\u91CFaa\uFF0C\u800C\u662F\u4F1A\u5728\u8BE5\u5BF9\u8C61\u4E2D\u521B\u5EFA\u4E00\u4E2A\u5B9E\u4F8B\u53D8\u91CFaa</span></span>
<span class="line"><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">aa</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">30</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h3 id="_14-\u7C7B\u548C\u5C5E\u6027\u67E5\u627E\u987A\u5E8F" tabindex="-1">14.\u7C7B\u548C\u5C5E\u6027\u67E5\u627E\u987A\u5E8F <a class="header-anchor" href="#_14-\u7C7B\u548C\u5C5E\u6027\u67E5\u627E\u987A\u5E8F" aria-hidden="true">#</a></h3><ul><li>\u5373\u5982\u679C\u9700\u8981\u5728\u7236\u7C7B\u4E2D\u67E5\u627E\u67D0\u4E2A\u65B9\u6CD5\u6216\u5C5E\u6027\u65F6\uFF0C\u5B83\u7684\u67E5\u627E\u987A\u5E8F\u3002\u4E86\u89E3\u8FD9\u4E2A\u5728\u7EE7\u627F\u7684\u7C7B\u4E2D\u6709\u591A\u4E2A\u540C\u540D\u7684\u65B9\u6CD5\u548C\u5C5E\u6027\u7684\u65F6\u5019\uFF0C\u5C31\u53EF\u4EE5\u77E5\u5230\u4F7F\u7528\u7684\u65F6\u54EA\u4E2A\u7C7B\u4E2D\u7684\u72AF\u6CD5</li></ul><h4 id="\u68F1\u5F62\u7EE7\u627F\u67E5\u627E\u987A\u5E8F" tabindex="-1">\u68F1\u5F62\u7EE7\u627F\u67E5\u627E\u987A\u5E8F <a class="header-anchor" href="#\u68F1\u5F62\u7EE7\u627F\u67E5\u627E\u987A\u5E8F" aria-hidden="true">#</a></h4><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#676E95;"># \u68F1\u5F62\u7EE7\u627F class A(object)   \u4E0D\u5199(object)\u9ED8\u8BA4\u4E5F\u662F\u7EE7\u627Fobject,\u8FD9\u5728python3\u4E2D\u53EB\u65B0\u5F0F\u7C7B</span></span>
<span class="line"><span style="color:#676E95;"># class D(B,C) \u67E5\u627E\u987A\u5E8F D B C A</span></span>
<span class="line"><span style="color:#A6ACCD;">	 </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">----</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> B----</span><span style="color:#89DDFF;">-</span></span>
<span class="line"><span style="color:#A6ACCD;">D -- </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">			 </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">------A</span></span>
<span class="line"><span style="color:#A6ACCD;">	 </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">----</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> C----</span><span style="color:#89DDFF;">-</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">A</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">pass</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">B</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">A</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">pass</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">C</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">A</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">pass</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">D</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">B</span><span style="color:#89DDFF;">,</span><span style="color:#FFCB6B;">C</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">pass</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># __mro__ \u67E5\u770B\u5C5E\u6027\u67E5\u627E\u987A\u5E8F D B C A</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">D</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">__mro__</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h4 id="\u5206\u652F\u67E5\u627E\u987A\u5E8F" tabindex="-1">\u5206\u652F\u67E5\u627E\u987A\u5E8F <a class="header-anchor" href="#\u5206\u652F\u67E5\u627E\u987A\u5E8F" aria-hidden="true">#</a></h4><div class="language- line-numbers-mode"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;"># class A(B,D)     \u67E5\u627E\u987A\u5E8F\u4E3AA B C D E  </span></span>
<span class="line"><span style="color:#A6ACCD;">	|----B-----C</span></span>
<span class="line"><span style="color:#A6ACCD;">A --|</span></span>
<span class="line"><span style="color:#A6ACCD;">	|----D-----E</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_15-\u9759\u6001\u65B9\u6CD5\uFF0C\u7C7B\u65B9\u6CD5\uFF0C\u5BF9\u8C61\u65B9\u6CD5-\u4EE5\u53CA\u53C2\u6570" tabindex="-1">15.\u9759\u6001\u65B9\u6CD5\uFF0C\u7C7B\u65B9\u6CD5\uFF0C\u5BF9\u8C61\u65B9\u6CD5 \u4EE5\u53CA\u53C2\u6570 <a class="header-anchor" href="#_15-\u9759\u6001\u65B9\u6CD5\uFF0C\u7C7B\u65B9\u6CD5\uFF0C\u5BF9\u8C61\u65B9\u6CD5-\u4EE5\u53CA\u53C2\u6570" aria-hidden="true">#</a></h3><ul><li>\u5B9E\u4F8B\u65B9\u6CD5\uFF0C\u5B9A\u4E49\u5728\u7C7B\u4E2D\u5373\u53EF\uFF0C\u6709\u4E00\u4E2Aself\u53C2\u6570\uFF0C\u4EE3\u8868\u662F\u5B9E\u4F8B\u3002\u901A\u8FC7\u5B9E\u4F8B\u8C03\u7528</li><li>\u9759\u6001\u65B9\u6CD5\uFF0C\u5B9A\u4E49\u5728\u7C7B\u4E2D\uFF0C\u6709@staticmethod \u88C5\u9970\u5668\uFF0C\u6CA1\u6709\u53C2\u6570</li><li>\u7C7B\u65B9\u6CD5\uFF0C\u5B9A\u4E49\u5728\u7C7B\u4E2D\uFF0C\u6709 @classmethod \u88C5\u9970\u5668\uFF0C\u6709cls\u53C2\u6570\uFF0C\u6307\u5411\u8BE5\u7C7B</li></ul><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Date</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u6784\u9020\u51FD\u6570(\u5B9E\u4F8B\u65B9\u6CD5)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__init__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">year</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">month</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">day</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">year</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> year</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">month</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> month</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">day</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> day</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u5B9E\u4F8B\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__str__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F78C6C;">{year}</span><span style="color:#C3E88D;">-</span><span style="color:#F78C6C;">{month}</span><span style="color:#C3E88D;">-</span><span style="color:#F78C6C;">{day}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">format</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">year</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">year</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">month</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">month</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">day</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">day</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u5B9E\u4F8B\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">tomorrow</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">day</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u9759\u6001\u65B9\u6CD5\uFF0C\u52A0\u4E0A@staticmethod\u88C5\u9970\uFF0C\u9759\u6001\u65B9\u6CD5\u6CA1\u6709self</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">@</span><span style="color:#FFCB6B;">staticmethod</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">parse_from_string</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">date_string</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        year</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> month</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> day </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">tuple</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">date_string</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">split</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">-</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Date</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">int</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">year</span><span style="color:#89DDFF;">),</span><span style="color:#82AAFF;"> </span><span style="color:#FFCB6B;">int</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">month</span><span style="color:#89DDFF;">),</span><span style="color:#82AAFF;"> </span><span style="color:#FFCB6B;">int</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">day</span><span style="color:#89DDFF;">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u7C7B\u65B9\u6CD5\uFF1A\u7C7B\u65B9\u6CD5\u548C\u9759\u6001\u65B9\u6CD5\u6700\u5927\u7684\u533A\u522B\u5C31\u662F\uFF0C\u5B83\u6709\u4E00\u4E2Aclass\u7684\u53C2\u6570\uFF0C\u6307\u5411\u5F53\u524D\u7684\u7C7B</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">@</span><span style="color:#FFCB6B;">classmethod</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">from_string</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">cls</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">date_string</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        year</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> month</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> day </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">tuple</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">date_string</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">split</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">-</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># \u4F7F\u7528\u7C7B\u65B9\u6CD5\uFF0C\u6211\u4EEC\u5C31\u53EF\u4EE5\u4F7F\u7528cls\u53C2\u6570\uFF0C\u5B9E\u4F8B\u5316\u5BF9\u8C61\uFF0C\u8FD9\u6837\u505A\u7684\u597D\u5904\u5C31\u662F\uFF0C\u7C7B\u540D\u6539\u4E86\uFF0C\u8FD9\u91CC\u4E0D\u9700\u8981\u6539\u53D8</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># \u800C\u4E0A\u9762\u7684\u9759\u6001\u65B9\u6CD5\uFF0C\u9700\u8981\u6539\u53D8</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> cls</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">int</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">year</span><span style="color:#89DDFF;">),</span><span style="color:#82AAFF;"> </span><span style="color:#FFCB6B;">int</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">month</span><span style="color:#89DDFF;">),</span><span style="color:#82AAFF;"> </span><span style="color:#FFCB6B;">int</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">day</span><span style="color:#89DDFF;">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    new_day </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Date</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">2020</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">12</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">12</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">new_day</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u901A\u8FC7\u9759\u6001\u65B9\u6CD5\uFF08staticmethod\uFF09\u521B\u5EFA\u5BF9\u8C61,\u9759\u6001\u65B9\u6CD5\u901A\u8FC7\u7C7B\u8C03\u7528</span></span>
<span class="line"><span style="color:#A6ACCD;">    str_day </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Date</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">parse_from_string</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2020-5-24</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">str_day</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u901A\u8FC7\u7C7B\u65B9\u6CD5\u8FDB\u884C\u521D\u59CB\u5316</span></span>
<span class="line"><span style="color:#A6ACCD;">    cls_date </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Date</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">from_string</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">1998-11-20</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">cls_date</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><h3 id="_16-\u6570\u636E\u5C01\u88C5\u548C\u79C1\u6709\u5C5E\u6027" tabindex="-1">16.\u6570\u636E\u5C01\u88C5\u548C\u79C1\u6709\u5C5E\u6027 <a class="header-anchor" href="#_16-\u6570\u636E\u5C01\u88C5\u548C\u79C1\u6709\u5C5E\u6027" aria-hidden="true">#</a></h3><ul><li>\u79C1\u6709\u5C5E\u6027 __attr</li><li>python\u7684\u79C1\u6709\u5E76\u4E0D\u662F\u7EDD\u5BF9\u5B89\u5168\u7684\uFF0C\u4ECD\u7136\u53EF\u4EE5\u901A\u8FC7 _ \u7C7B.\u79C1\u6709\u5C5E\u6027 \u8BBF\u95EE user._User__birthday</li><li>\u79C1\u6709\u662F\u4E00\u79CD\u4EE3\u7801\u89C4\u8303\uFF0C\u5373\u4F7Fjava\u8FD9\u79CD\u9759\u6001\u8BED\u8A00\uFF0C\u4E5F\u53EF\u4EE5\u901A\u8FC7\u53CD\u5C04\u62FF\u5230\u79C1\u6709\u7684\u5C5E\u6027</li></ul><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">User</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__init__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">birthday</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># \u79C1\u6709\u5C5E\u6027\u901A\u8FC7__attr, \u7ED9\u5B9E\u4F8B\u53D8\u91CF\u52A0 __ \u5373\u53EF</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">__birthday</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> birthday</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u5728\u65B9\u6CD5\u524D\u9762\u52A0 __ \u5219\u6210\u4E3A\u79C1\u6709\u65B9\u6CD5,\u79C1\u6709\u65B9\u6CD5\u7528\u6765\u88AB\u5185\u90E8\u4F7F\u7528</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__nice</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">__birthday</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">get_age</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2020</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">__birthday</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    user </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">User</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1998</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">user</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get_age</span><span style="color:#89DDFF;">())</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># python\u7684\u79C1\u6709\u5316\uFF0C\u5E76\u4E0D\u662F\u7EDD\u5BF9\u7684\u79C1\u6709\uFF0C\u53EA\u662F\u5C06\u79C1\u6709\u7684\u5C5E\u6027\u540D\u5B57\u53D8\u4E86</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u4ECD\u7136\u53EF\u4EE5\u901A\u8FC7 _\u7C7B.\u79C1\u6709\u5C5E\u6027\u8BBF\u95EE</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># print(user._User__birthday)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="_17-python\u5BF9\u8C61\u7684\u81EA\u7701\u673A\u5236" tabindex="-1">17.python\u5BF9\u8C61\u7684\u81EA\u7701\u673A\u5236 <a class="header-anchor" href="#_17-python\u5BF9\u8C61\u7684\u81EA\u7701\u673A\u5236" aria-hidden="true">#</a></h3><ul><li>\u81EA\u7701\u662F\u901A\u8FC7\u4E00\u5B9A\u7684\u673A\u5236\uFF0C\u67E5\u8BE2\u5BF9\u8C61\u7684\u5185\u90E8\u7ED3\u6784 <ul><li>obj.__dict.\u53CC\u4E0B\u5212\u7EBF \u53EF\u4EE5\u5F97\u5230\u5BF9\u8C61\u4E2D\u7684\u5C5E\u6027</li><li>class.__dict.\u53CC\u4E0B\u6ED1\u7EBF\uFF0C\u53EF\u4EE5\u5F97\u5230\u7C7B\u4E2D\u7684\u5C5E\u6027</li><li>dir(obj) dir(class) \u53EF\u4EE5\u83B7\u53D6\u5230\u8BE6\u7EC6\u7684\u719F\u6089</li></ul></li></ul><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Person</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&#39;&#39;&#39;</span><span style="color:#676E95;"> \u8FD9\u91CC\u662F\u7C7B\u7684\u6587\u6863 </span><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    name </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">user</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Student</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">Person</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__init__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">school_name</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">school_name</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> school_name</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    s </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Student</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u6218\u4E89\u5B66\u9662</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u901A\u8FC7__dict__\u67E5\u8BE2\u5B9E\u4F8B\u4E2D\u7684\u5C5E\u6027,\u7236\u7C7B\u7684name\u6CA1\u6709\u5728\u8FD9\u4E2A__dict__\u4E2D</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">s</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">__dict__</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">                         </span><span style="color:#676E95;"># {&#39;school_name&#39;: &#39;\u6218\u4E89\u5B66\u9662&#39;}</span></span>
<span class="line"><span style="color:#A6ACCD;">    s</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">__dict__</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">school_name</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u827E\u6B27\u5C3C\u4E9A</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">      </span><span style="color:#676E95;"># {&#39;school_name&#39;: &#39;\u827E\u6B27\u5C3C\u4E9A&#39;} __dict__\u4E2D\u53EF\u4EE5\u76F4\u63A5\u4FEE\u6539\u5C5E\u6027</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">s</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">__dict__</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">s</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">       </span><span style="color:#676E95;"># user</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u53EF\u4EE5__dict__\u67E5\u8BE2\u7C7B\u4E2D\u7684\u5C5E\u6027\uFF0C\u7C7B\u4E2D\u7684\u5C5E\u6027\u6BD4\u5B9E\u4F8B\u4E2D\u7684\u5C5E\u6027\u8981\u4E30\u5BCC\u7684\u591A</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">Person</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">__dict__</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">Student</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">__dict__</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># dir() \u53EF\u4EE5\u67E5\u770B\u66F4\u8BE6\u7EC6\u7684\u6587\u6863</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">dir</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">s</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">dir</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">Student</span><span style="color:#89DDFF;">))</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="_18-super-\u51FD\u6570" tabindex="-1">18.super()\u51FD\u6570 <a class="header-anchor" href="#_18-super-\u51FD\u6570" aria-hidden="true">#</a></h3><ul><li>super()\u8C03\u7528\u7236\u7C7B\u65B9\u6CD5</li></ul><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">A</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__init__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">A</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">B</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">A</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__init__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">B</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># super()\u83B7\u53D6\u5230\u7236\u7C7B\uFF0C\u518D\u8C03\u7528\u7236\u7C7B\u7684__init__()\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">super</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">__init__</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    b </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">B</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#676E95;">    \u4E3A\u4EC0\u4E48\u8981\u8C03\u7528\u7236\u7C7B\u7684\u65B9\u6CD5: \u53EF\u4EE5\u628A\u6784\u9020\u51FD\u6570\u4EA4\u7ED9\u7236\u7C7B\uFF0C\u53BB\u5B9E\u4F8B\u5316</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="_19-mixin-\u6DF7\u5165" tabindex="-1">19.mixin \u6DF7\u5165 <a class="header-anchor" href="#_19-mixin-\u6DF7\u5165" aria-hidden="true">#</a></h3><ul><li>django\u5927\u91CF\u4F7F\u7528\u4E86mixin\uFF0Cmixin\u53EA\u5B9A\u4E49\u4E86\u65B9\u6CD5\uFF0C\u76F8\u5F53\u4E8Ejava\u4E2D\u7684\u63A5\u53E3</li><li>mixin\u7279\u70B9 <ul><li>Mixin\u7C7B\u529F\u80FD\u5355\u4E00</li><li>\u4E0D\u548C\u57FA\u7C7B\u5173\u8054\uFF0C\u53EF\u4EE5\u548C\u4EFB\u610F\u57FA\u7C7B\u7EC4\u5408</li><li>\u5728Mixin\u4E2D\u4E0D\u8981\u4F7F\u7528super()\u8FD9\u79CD\u7528\u6CD5</li></ul></li></ul><h3 id="_20-with-\u4E0A\u4E0B\u6587\u7BA1\u7406\u5668" tabindex="-1">20.with (\u4E0A\u4E0B\u6587\u7BA1\u7406\u5668) <a class="header-anchor" href="#_20-with-\u4E0A\u4E0B\u6587\u7BA1\u7406\u5668" aria-hidden="true">#</a></h3><ul><li>with\u8BED\u53E5\u662F\u4E3A\u4E86\u8BA9try except finally \u66F4\u7B80\u5355\u7684\u7528\u6CD5</li></ul><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#676E95;"># python\u4E2D\u6355\u6349\u5F02\u5E38\u7684\u65B9\u5F0F</span></span>
<span class="line"><span style="color:#676E95;"># \u53EF\u4EE5\u52A0else,\u5728\u6CA1\u6709\u5F02\u5E38\u65F6\u6267\u884C</span></span>
<span class="line"><span style="color:#89DDFF;">try</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">coding</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">raise</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">KeyError</span></span>
<span class="line"><span style="color:#89DDFF;">except</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Exception</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">as</span><span style="color:#A6ACCD;"> e</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">nice</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#89DDFF;">finally</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">finally</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># =================================================</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u5B9E\u73B0\u8FD9\u4E24\u4E2A\u9B54\u6CD5\u51FD\u6570,\u5C31\u6EE1\u8DB3\u4E86\u4E0A\u4E0B\u6587\u7BA1\u7406\u5668\u534F\u8BAE\uFF0C\u5C31\u53EF\u4EE5\u4F7F\u7528with\u8BED\u53E5\u6765\u4F7F\u7528</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Sample</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># with\u4F7F\u7528\u7684\u65F6\u5019\uFF0C\u9996\u5148\u4F1A\u8FDB\u5165enter\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__enter__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">enter</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\u83B7\u53D6\u8D44\u6E90</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> self</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u8DF3\u51FAwith\u8BED\u53E5\u4E4B\u540E\uFF0C\u4F1A\u81EA\u52A8\u6267\u884C__exit__\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__exit__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">exc_type</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">exc_val</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">exc_tb</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\u91CA\u653E\u8D44\u6E90</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">exit</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">do_something</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">doing something</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u4F7F\u7528with\u8BED\u53E5</span></span>
<span class="line"><span style="color:#89DDFF;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Sample</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">as</span><span style="color:#A6ACCD;"> sample</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    sample</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">do_something</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h3 id="_21-contextlib\u7B80\u5316\u4E0A\u4E0B\u6587\u7BA1\u7406\u534F\u8BAE" tabindex="-1">21.contextlib\u7B80\u5316\u4E0A\u4E0B\u6587\u7BA1\u7406\u534F\u8BAE <a class="header-anchor" href="#_21-contextlib\u7B80\u5316\u4E0A\u4E0B\u6587\u7BA1\u7406\u534F\u8BAE" aria-hidden="true">#</a></h3><ul><li>\u5982\u679C\u5BF9\u751F\u6210\u5668\u4E0D\u7406\u89E3\uFF0C\u5EFA\u8BAE\u4F7F\u7528\u4E0A\u9762\u90A3\u79CD\u65B9\u6CD5</li></ul><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> contextlib</span></span>
<span class="line"><span style="color:#676E95;"># @contextlib.contextmanager \u88C5\u9970\u5668\u53EF\u4EE5\u5C06\u6211\u4EEC\u7684\u51FD\u6570\u53D8\u6210\u4E0A\u4E0B\u6587\u7BA1\u7406\u5668</span></span>
<span class="line"><span style="color:#676E95;"># \u4FEE\u9970\u7684\u51FD\u6570\u5FC5\u987B\u662F\u751F\u6210\u5668</span></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">contextlib</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">contextmanager</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">file_open</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">file_name</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">file open</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\u628Aenter\u6267\u884C\u7684\u6B65\u9AA4\u653E\u5728yield\u4E4B\u524D</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u5FC5\u987B\u6709\u4E00\u4E2Ayield</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">yield</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\u628A__exit__\u4E2D\u6267\u884C\u7684\u6B65\u9AA4\u653E\u5728yeild\u4E4B\u540E</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">file end</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">file_open</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">bobby.txt</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">as</span><span style="color:#A6ACCD;"> f</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">file processing</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="_22-python\u4E2D\u7684\u5E8F\u5217" tabindex="-1">22.python\u4E2D\u7684\u5E8F\u5217 <a class="header-anchor" href="#_22-python\u4E2D\u7684\u5E8F\u5217" aria-hidden="true">#</a></h3><ul><li>python\u662F\u901A\u8FC7\u534F\u8BAE\u7F16\u7A0B\u7684\uFF0C\u534F\u8BAE\u5C31\u662F\u5B9A\u4E49\u5B9E\u73B0\u4E86\u4EC0\u4E48\u65B9\u6CD5\u5B83\u5C31\u662F\u4E00\u4E2A\u5E8F\u5217\uFF0C\u5B9E\u73B0\u4E86\u4EC0\u4E48\u65B9\u6CD5\u5B83\u5C31\u662F\u4E00\u4E2A\u4E0A\u4E0B\u6587\u7BA1\u7406\u5668</li><li>\u9B54\u6CD5\u65B9\u6CD5\u51D1\u6210\u4E86\u6211\u4EEC\u7684\u534F\u8BAE</li><li>abc\u4EE3\u8868 abstract base classes</li></ul><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#676E95;"># \u6839\u5BB9\u5668\u76F8\u5173\u7684\u4E00\u4E9B\u6570\u636E\u7ED3\u6784\u7684\u62BD\u8C61\u57FA\u7C7B\u90FD\u662F\u653E\u5728collections\u5E93\u7684abc\u6A21\u5757\u4E0B</span></span>
<span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> collections </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> abc</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="\u5E8F\u5217\u4E2D-extend-append\u7684\u533A\u522B" tabindex="-1">\u5E8F\u5217\u4E2D + += extend append\u7684\u533A\u522B <a class="header-anchor" href="#\u5E8F\u5217\u4E2D-extend-append\u7684\u533A\u522B" aria-hidden="true">#</a></h4><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#676E95;"># +</span></span>
<span class="line"><span style="color:#A6ACCD;">a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">c </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> a </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">           </span><span style="color:#676E95;"># \u4E24\u4E2Alist\u76F8\u52A0\u751F\u6210\u4E00\u4E2A\u65B0\u7684list\uFF0C\u53EA\u80FD+list</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">c</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">                </span><span style="color:#676E95;"># [1, 2, 3, 4]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># += \u5C31\u5730\u52A0              # += \u53EF\u4EE5\u63A5\u6536\u4EFB\u4F55\u7684\u5E8F\u5217\u7C7B\u578B</span></span>
<span class="line"><span style="color:#A6ACCD;">a </span><span style="color:#89DDFF;">+=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">             </span><span style="color:#676E95;"># += \u4E0D\u4EA7\u751F\u65B0\u7684\u5BF9\u8C61\uFF0C\u5728a\u7684\u57FA\u7840\u4E0A+[3,4], \u6539\u6210(3,4)\u5143\u7EC4\u4E5F\u53EF</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">a</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">                </span><span style="color:#676E95;"># [1, 2, 3 ,4]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># extend               # extend\u63A5\u6536\u4E00\u4E2A\u53EF\u8FED\u4EE3\u5BF9\u8C61\uFF0C\u6CA1\u6709\u8FD4\u56DE\u503C\uFF0C\u76F4\u63A5\u5728a\u4E0A\u505A\u4FEE\u6539</span></span>
<span class="line"><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">extend</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">))</span><span style="color:#A6ACCD;">     </span><span style="color:#676E95;"># [1, 2, 3, 4, 0, 1, 2]</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">a</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">append</span><span style="color:#89DDFF;">([</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">])</span><span style="color:#A6ACCD;">       </span><span style="color:#676E95;"># append\u662F\u5C06[1,2,3]\u5F53\u4F5C\u4E00\u4E2A\u503C\u52A0\u5230\u51FD\u6570\u4E2D</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="\u5B9E\u73B0\u53EF\u5207\u7247\u5BF9\u8C61" tabindex="-1">\u5B9E\u73B0\u53EF\u5207\u7247\u5BF9\u8C61 <a class="header-anchor" href="#\u5B9E\u73B0\u53EF\u5207\u7247\u5BF9\u8C61" aria-hidden="true">#</a></h4><ul><li>\u5217\u8868\u7684\u5207\u7247\u64CD\u4F5C\u4F1A\u4EA7\u751F\u4E00\u4E2A\u65B0\u7684\u5217\u8868\uFF0C\u800C\u4E0D\u4F1A\u6539\u53D8\u539F\u6709\u7684\u5217\u8868</li><li>\u9700\u8981\u6839\u636E\u5E8F\u5217\u534F\u8BAE\uFF0C\u5B9E\u73B0\u5BF9\u5E94\u7684\u9B54\u6CD5\u65B9\u6CD5\u5373\u53EF</li></ul><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#676E95;"># \u70B9\u8FDB\u53BB\u53EF\u4EE5\u67E5\u770B\uFF0C\u5B9E\u73B0\u53EF\u53D8\u5E8F\u5217\uFF0C\u4E0D\u53EF\u53D8\u5E8F\u5217\uFF0C\u8FED\u4EE3\u5668\u9700\u8981\u5B9E\u73B0\u90A3\u4E9B\u62BD\u8C61\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> _collections_abc</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> numbers</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Group</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&#39;&#39;&#39;</span><span style="color:#676E95;">\u652F\u6301\u5207\u7247\u7684\u64CD\u4F5C,\u4E0D\u53EF\u53D8\u7684\u5E8F\u5217</span><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__init__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">group_name</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">company_name</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">staffs</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">group_name</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> group_name</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">company_name</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> company_name</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># staffs\u4E3A\u4E00\u4E2A\u6570\u7EC4</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">staffs</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> staffs</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__reversed__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">staffs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">reverse</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># __getitem__\u662F\u652F\u6301\u53EF\u5207\u7247\u7684\u5173\u952E\uFF0C\u53EA\u8981\u5B9E\u73B0\u8FD9\u4E2A\u5C31\u53EF\u4EE5\u8FDB\u884C\u5207\u7247\u4E86</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__getitem__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># \u53D6\u5230\u5F53\u524D\u90FD\u5BF9\u8C61\u7684class</span></span>
<span class="line"><span style="color:#A6ACCD;">        cls </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">type</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">isinstance</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">item</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#FFCB6B;">slice</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> cls</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">group_name</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">group_name</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">company_name</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">company_name</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">staffs</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">staffs</span><span style="color:#89DDFF;">[</span><span style="color:#F07178;">item</span><span style="color:#89DDFF;">])</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">elif</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">isinstance</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">item</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> numbers</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">Integral</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> cls</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">group_name</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">group_name</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">company_name</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">company_name</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">staffs</span><span style="color:#89DDFF;">=[</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">staffs</span><span style="color:#89DDFF;">[</span><span style="color:#F07178;">item</span><span style="color:#89DDFF;">]])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__len__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">pass</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__iter__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">iter</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">staffs</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__contains__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> item </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">staffs</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">True</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">else</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">False</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">staffs </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">bobby1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">imooc</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">nice</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">django</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">group </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Group</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">company_name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">imooc</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">group_name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">users</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">staffs</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">staffs</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u5B9E\u73B0\u4E86__getitem__\u65B9\u6CD5\uFF0C\u53EF\u5207\u7247\uFF0C\u8FD4\u56DE\u7684\u8FD8\u662F\u53EF\u5207\u7247\u7684\u5BF9\u8C61</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">group</span><span style="color:#89DDFF;">[:</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">])</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">group</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u5B9E\u73B0\u4E86__container__\u65B9\u6CD5\uFF0C\u53EF\u4EE5\u4F7F\u7528in\u5224\u65AD</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">nice</span><span style="color:#89DDFF;">&#39;</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">in</span><span style="color:#82AAFF;"> group</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u5B9E\u73B0\u4E86__iter__\u65B9\u6CD5\uFF0C\u53EF\u8FED\u4EE3</span></span>
<span class="line"><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> item </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> group</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">item</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">end</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">   </span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#676E95;"># \u5B9E\u73B0\u4E86__reserve__\u65B9\u6CD5\uFF0C\u8FD9\u91CC\u5C31\u4F1A\u8FDB\u5165__reserve__\u9B54\u6CD5\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#82AAFF;">reversed</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">group</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> item </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> group</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">item</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">end</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">   </span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br></div></div><h4 id="\u7EF4\u62A4\u6392\u5E8F\u5217\u8868bisect" tabindex="-1">\u7EF4\u62A4\u6392\u5E8F\u5217\u8868bisect <a class="header-anchor" href="#\u7EF4\u62A4\u6392\u5E8F\u5217\u8868bisect" aria-hidden="true">#</a></h4><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> bisect</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span><span style="color:#676E95;"> \u7528\u6765\u5904\u7406\u5DF2\u6392\u5E8F\u7684\u5E8F\u5217\uFF0C\u7528\u6765\u7EF4\u6301\u5DF2\u6392\u5E8F\u7684\u5E8F\u5217\uFF0C \u5347\u5E8F </span><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># bisect\u4F7F\u7528\u4E8C\u5206\u67E5\u627E,\u6240\u4EE5\u5B83\u7684\u6548\u7387\u6BD4\u8F83\u9AD8</span></span>
<span class="line"><span style="color:#A6ACCD;">inner_list </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u5728\u5F00\u53D1\u4E2D\u5982\u679C\u9700\u8981\u4F7F\u7528\u4E00\u4E2A\u53EF\u7EF4\u62A4\u7684\u5E8F\u5217\uFF0C\u5EFA\u8BAE\u4F7F\u7528bisect,\u5E76\u4E14\u4E8C\u5206\u67E5\u627E\u6027\u80FD\u6BD4\u8F83\u9AD8</span></span>
<span class="line"><span style="color:#676E95;"># \u901A\u8FC7bisect\u7684insort\u65B9\u6CD5\uFF0C\u5F80inner_list\u4E2D\u63D2\u5165\u968F\u673A\u63D2\u5165\u4E94\u4E2A\u6570\u636E</span></span>
<span class="line"><span style="color:#A6ACCD;">bisect</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">insort</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">inner_list</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">bisect</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">insort</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">inner_list</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">bisect</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">insort</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">inner_list</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">bisect</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">insort</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">inner_list</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">bisect</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">insort</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">inner_list</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">6</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># insort\u5176\u5B9E\u662Finsort_right\u65B9\u6CD5\uFF0C\u5F53\u6709\u540C\u6837\u7684\u5143\u7D20\uFF0C\u5B83\u4F1A\u5728\u5728\u540C\u6837\u7684\u5143\u7D20\u540E\u9762\u63D2\u5165</span></span>
<span class="line"><span style="color:#A6ACCD;">bisect</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">insort</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">inner_list</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u5982\u679C\u4F7F\u7528insort_left\u5219\u4F1A\u627E\u5230\u76F8\u540C\u7684\u5143\u7D20\u524D\u9762\u63D2\u5165</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u6253\u5370\u5E8F\u5217\uFF0C\u5B83\u662F\u6392\u5E8F\u540E\u7684\u5E8F\u5217 [1, 2, 3, 3, 5, 6]</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">inner_list</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h4 id="array\u6570\u7EC4\u7684\u4F7F\u7528" tabindex="-1">array\u6570\u7EC4\u7684\u4F7F\u7528 <a class="header-anchor" href="#array\u6570\u7EC4\u7684\u4F7F\u7528" aria-hidden="true">#</a></h4><ul><li>array\u9002\u5408\u7528\u6765\u5B58\u50A8\u5355\u4E00\u7C7B\u578B\u7684\u6570\u636E\uFF0C\u5B83\u7684\u6548\u7387\u6BD4list\u8981\u5FEB</li></ul><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#676E95;"># Array\u662F\u6570\u7EC4\uFF0C\u5B83\u7684\u5B58\u50A8\u662F\u8FDE\u7EED\u7684\u5185\u5B58\u7A7A\u95F4\uFF0C\u5B83\u7684\u6027\u80FD\u6BD4list\u9AD8</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> array</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#676E95;">    array\u53EA\u80FD\u5B58\u653E\u6307\u5B9A\u7684\u6570\u636E\u7C7B\u578B</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># &#39;i&#39; \u4EE3\u8868\u662Fint\u7C7B\u578B</span></span>
<span class="line"><span style="color:#A6ACCD;">my_array </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> array</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">array</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">i</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">my_array</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">append</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">my_array</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">append</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">my_array</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> my_array</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">i</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h4 id="\u5217\u8868\u63A8\u5BFC\u5F0F\uFF0C\u751F\u6210\u5668\u8868\u8FBE\u5F0F\uFF0C\u5B57\u5178\u63A8\u5BFC\u5F0F" tabindex="-1">\u5217\u8868\u63A8\u5BFC\u5F0F\uFF0C\u751F\u6210\u5668\u8868\u8FBE\u5F0F\uFF0C\u5B57\u5178\u63A8\u5BFC\u5F0F <a class="header-anchor" href="#\u5217\u8868\u63A8\u5BFC\u5F0F\uFF0C\u751F\u6210\u5668\u8868\u8FBE\u5F0F\uFF0C\u5B57\u5178\u63A8\u5BFC\u5F0F" aria-hidden="true">#</a></h4><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#676E95;">\u5217\u8868\u63A8\u5BFC\u5F0F  \u751F\u6210\u5668\u8868\u8FBE\u5F0F   \u5B57\u5178\u63A8\u5BFC\u5F0F</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u5217\u8868\u63A8\u5BFC\u5F0F,\u5217\u8868\u63A8\u5BFC\u5F0F\u7684\u6027\u80FD\u9AD8\u4E8E\u5217\u8868\u64CD\u4F5C</span></span>
<span class="line"><span style="color:#A6ACCD;">ls1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">*</span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">)]</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">ls1</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u5217\u8868\u63A8\u5BFC\u5F0F\uFF0C\u8FD8\u9700\u5224\u65AD i%2 == 1</span></span>
<span class="line"><span style="color:#A6ACCD;">ls2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">i </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">20</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> i</span><span style="color:#89DDFF;">%</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">ls2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u903B\u8F91\u590D\u6742\u7684\u5217\u8868\u751F\u6210\u5F0F,\u5373\u5217\u8868\u751F\u6210\u5F0F\u4E2D\u518D\u8C03\u7528\u51FD\u6570</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">pow1</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> item </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1.5</span></span>
<span class="line"><span style="color:#A6ACCD;">ls3 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#82AAFF;">pow1</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">i</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">20</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">%</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">ls3</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># ==============================================</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span><span style="color:#676E95;"> \u751F\u6210\u5668\u8868\u8FBE\u5F0F </span><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u5C06\u4E2D\u62EC\u53F7\u6362\u6210\u5C0F\u62EC\u53F7\uFF0C\u90A3\u4E48\u5B83\u7684\u8FD4\u56DE\u503C\u5C31\u662F\u751F\u6210\u5668</span></span>
<span class="line"><span style="color:#A6ACCD;">gen </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">*</span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">type</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">gen</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> gen</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">i</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">end</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#676E95;"># ==============================================</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span><span style="color:#676E95;">\u5B57\u5178\u63A8\u5BFC\u5F0F</span><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">my_dict </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">flask</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">22</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">django</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">12</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">java</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">22</span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">reversed_dict </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">key </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> key</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">value </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> my_dict</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">items</span><span style="color:#89DDFF;">()}</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">reversed_dict</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># ==============================================</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span><span style="color:#676E95;">\u96C6\u5408\u63A8\u5BFC\u5F0F,\u53EA\u5199\u4E00\u4E2A\u5C31\u662F\u96C6\u5408\u63A8\u5BFC\u5F0F</span><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">my_set </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">*</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">20</span><span style="color:#89DDFF;">)}</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">my_set</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">type</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">my_set</span><span style="color:#89DDFF;">))</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><h3 id="_23-python\u4E2D\u7684set\u548Cdict" tabindex="-1">23.python\u4E2D\u7684set\u548Cdict <a class="header-anchor" href="#_23-python\u4E2D\u7684set\u548Cdict" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#676E95;"># get\u65B9\u6CD5,get()\u65B9\u6CD5\uFF0C\u5982\u679Ckey\u4E0D\u5B58\u5728\uFF0C\u7ED9\u4E00\u4E2A\u9ED8\u8BA4\u503C\u3002  \u76F4\u63A5[]:\u6CA1\u6709key\u4F1A\u62A5\u9519</span></span>
<span class="line"><span style="color:#A6ACCD;">d </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">nice</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;">12</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">d</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">nice</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># setdefault\u65B9\u6CD5\uFF01\uFF01</span></span>
<span class="line"><span style="color:#676E95;"># \u53BBd\u4E2D\u67E5\u5BFB\uFF0Ckey\u4E3A&#39;flask&#39;\u7684value,\u5982\u679C\u6CA1\u6709\u5219\u8FD4\u56DE\u9ED8\u8BA4\u503C&#39;good&#39;</span></span>
<span class="line"><span style="color:#676E95;"># \u8FD4\u56DE\u4E4B\u540E\uFF0C\u5C06 &#39;flask&#39;: &#39;good&#39; \u6DFB\u52A0\u8FDBd\u4E2D</span></span>
<span class="line"><span style="color:#A6ACCD;">a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> d</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setdefault</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">flask</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">good</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">a</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">d</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># update\u65B9\u6CD5\uFF0C\u5C06\u4E24\u4E2Adict\u5408\u5E76</span></span>
<span class="line"><span style="color:#A6ACCD;">d</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">update</span><span style="color:#89DDFF;">({</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u7531\u4E8E\u7CFB</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">})</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">d</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u8FD9\u79CD\u65B9\u5F0F\u4E5F\u53EF\u4EE5\u5408\u5E76</span></span>
<span class="line"><span style="color:#A6ACCD;">d</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">update</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">nice</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u8FD9\u79CD\u65B9\u5F0F\u5408\u5E76\u4E5F\u53EF\u4EE5\uFF0C\u6570\u7EC4\u91CC\u9762\u653E\u5143\u7EC4</span></span>
<span class="line"><span style="color:#A6ACCD;">d</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">update</span><span style="color:#89DDFF;">([(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u4E0D\u9519</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u53EF\u4EE5</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">),</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u5389\u5BB3</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u786E\u5B9E</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)])</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">d</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h4 id="\u4E0D\u5EFA\u8BAE\u76F4\u63A5\u7EE7\u627Flist\u6216\u8005dict\u7B49\u7528c\u8BED\u8A00\u5B9E\u73B0\u7684\u5185\u7F6E\u7C7B" tabindex="-1">\u4E0D\u5EFA\u8BAE\u76F4\u63A5\u7EE7\u627Flist\u6216\u8005dict\u7B49\u7528c\u8BED\u8A00\u5B9E\u73B0\u7684\u5185\u7F6E\u7C7B <a class="header-anchor" href="#\u4E0D\u5EFA\u8BAE\u76F4\u63A5\u7EE7\u627Flist\u6216\u8005dict\u7B49\u7528c\u8BED\u8A00\u5B9E\u73B0\u7684\u5185\u7F6E\u7C7B" aria-hidden="true">#</a></h4><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span><span style="color:#676E95;">\u6211\u4EEC\u4E0D\u5EFA\u8BAE\u53BB\u7EE7\u627Flist dict set\u7B49\u7528c\u8BED\u8A00\u5B9E\u73B0\u7684\u5185\u7F6E\u7C7B</span><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u4E0D\u5EFA\u8BAE\u76F4\u63A5\u53BB\u7EE7\u627Fdict,\u6211\u4EEC\u53EF\u4EE5\u53BB\u7EE7\u627FUserDict</span></span>
<span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> collections </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> UserDict</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">MyDict</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">UserDict</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__setitem__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">key</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">super</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">__setitem__</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">key</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> value</span><span style="color:#89DDFF;">*</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># one=1 \u5C31\u76F8\u5F53\u4E8E {&#39;on2&#39;: 1}</span></span>
<span class="line"><span style="color:#A6ACCD;">my_dict </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">MyDict</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">one</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">my_dict</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">                </span><span style="color:#676E95;"># {&#39;one&#39;: 2}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_24-\u4E0D\u53EF\u53D8\u96C6\u5408frozenset" tabindex="-1">24.\u4E0D\u53EF\u53D8\u96C6\u5408frozenset <a class="header-anchor" href="#_24-\u4E0D\u53EF\u53D8\u96C6\u5408frozenset" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#676E95;"># frozenset\u63A5\u6536\u4E00\u4E2A\u53EF\u8FED\u4EE3\u5BF9\u8C61\u3002\u56E0\u4E3Afrozenset\u4E0D\u53EF\u53D8\uFF0C\u6240\u4EE5\u53EF\u4EE5\u5F53\u4F5C\u5B57\u5178\u7684key</span></span>
<span class="line"><span style="color:#A6ACCD;">fs </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">frozenset</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hello</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># set\u7684update\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#676E95;"># update\u66F4\u65B0\u96C6\u5408\uFF0C\u63A5\u6536\u4E00\u4E2A\u53EF\u8FED\u4EE3\u5BF9\u8C61\uFF0C\u5C06\u91CC\u9762\u7684\u5185\u5BB9\u6DFB\u52A0\u5230\u81EA\u5DF1\u4E2D</span></span>
<span class="line"><span style="color:#A6ACCD;">s</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">update</span><span style="color:#89DDFF;">([</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">])</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_25-dict\u548Clist\u7684\u5BF9\u6BD4" tabindex="-1">25.dict\u548Clist\u7684\u5BF9\u6BD4 <a class="header-anchor" href="#_25-dict\u548Clist\u7684\u5BF9\u6BD4" aria-hidden="true">#</a></h3><ul><li>dict\u7684\u67E5\u627E\u6027\u80FD\u8FDC\u8FDC\u5927\u4E8Elist</li><li>\u518Dlist\u968F\u7740list\u6570\u636E\u7684\u589E\u5927\uFF0C\u67E5\u627E\u4E8B\u4EF6\u4F1A\u589E\u5927</li><li>\u5728dict\u4E2D\u67E5\u627E\u5143\u7D20\u4E0D\u4F1A\u968F\u7740dict\u7684\u589E\u5927\u800C\u589E\u5927</li><li>dict\u7684key\u662F\u7531hash\u5B9E\u73B0\u7684\uFF0C\u6240\u4EE5\u4E0D\u53EFhash\u7684\u5BF9\u8C61\u4E0D\u53EF\u4EE5\u4F5C\u4E3Adict\u7684key</li><li>set\u548Cdict\u7684\u5B9E\u73B0\u539F\u7406\u662F\u4E00\u6837\u7684\uFF0C\u6240\u4EE5dict\u7684key\u548Cset\u7684\u503C\u90FD\u5FC5\u987B\u662F\u53EFhash\u5F97</li><li>\u4E0D\u53EF\u53D8\u5BF9\u8C61\u90FD\u662F\u53EFhash\u7684\uFF0C\u4E0D\u5982str, frozenset, tuple\u3002</li><li>\u81EA\u5DF1\u5B9E\u73B0\u7684\u7C7B \uFF0C\u5B9E\u73B0 __hash\u53CC\u4E0B\u5212\u7EBF \u65B9\u6CD5\uFF0C\u5C31\u662F\u4E00\u4E2A\u53EFhash\u7684\u5BF9\u8C61</li><li>dict\u7684\u5185\u5B58\u82B1\u9500\u6253\uFF0C\u4F46\u662F\u67E5\u8BE2\u901F\u5EA6\u5FEB\uFF0C\u81EA\u5B9A\u4E49\u7684\u5BF9\u8C61\u6216\u8005python\u7684\u5185\u90E8\u5BF9\u8C61\uFF0C\u90FD\u662Fdict\u5305\u88C5\u7684</li></ul><h3 id="_26-python\u7684\u53D8\u91CF\u5230\u5E95\u662F\u4EC0\u4E48" tabindex="-1">26.python\u7684\u53D8\u91CF\u5230\u5E95\u662F\u4EC0\u4E48 <a class="header-anchor" href="#_26-python\u7684\u53D8\u91CF\u5230\u5E95\u662F\u4EC0\u4E48" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#676E95;">    python\u4E2D\u7684\u53D8\u91CF\u548Cjava\u7684\u5B9E\u8D28\u662F\u4E0D\u4E00\u6837\u7684</span></span>
<span class="line"><span style="color:#676E95;">        python\u7684\u53D8\u91CF\u5B9E\u9645\u4E0A\u662F\u4E00\u4E2A\u6307\u9488\uFF0C\u6307\u9488\u7684\u5927\u5C0F\u662F\u4E00\u6837\u7684\uFF0C\u5B83\u53EF\u4EE5\u6307\u5411\u6211\u4EEC\u7684str</span></span>
<span class="line"><span style="color:#676E95;">        \u4E5F\u53EF\u4EE5\u6307\u5411int,\u4E5F\u53EF\u4EE5\u6307\u5411\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u5B83\u53EF\u4EE5\u6307\u5411\u4EFB\u4F55\u7684\u5BF9\u8C61</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">        python\u5148 \u751F\u6210\u5BF9\u8C61\uFF0C\u7136\u540E\u518D\u628A\u6307\u9488(\u53D8\u91CF)\uFF0C\u6307\u5411\u8FD9\u4E2A\u751F\u6210\u7684\u5BF9\u8C61</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">b </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> a</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># True\uFF0Ca\u548Cb\u662F\u540C\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u4FEE\u6539a, \u90A3\u4E48b\u7684\u503C\u4E5F\u4F1A\u6539\u53D8</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">a </span><span style="color:#89DDFF;">is</span><span style="color:#82AAFF;"> b</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_27-\u548C-is-\u7684\u533A\u522B" tabindex="-1">27. == \u548C is \u7684\u533A\u522B <a class="header-anchor" href="#_27-\u548C-is-\u7684\u533A\u522B" aria-hidden="true">#</a></h3><ul><li>== \u5224\u65AD\u5B83\u4EEC\u7684\u503C\u662F\u5426\u76F8\u7B49\uFF0C is \u5224\u65AD\u5B83\u4EEC\u7684id\u662F\u5426\u662F\u4E00\u6837\u7684\uFF0C\u5373\u5224\u65AD\u5B83\u4EEC\u7684\u5185\u5B58\u5730\u5740</li></ul><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span><span style="color:#676E95;"> == \u8C03\u7528\u7684\u662F\u5BF9\u8C61\u5185\u90E8\u7684__eq__\u9B54\u6CD5\u65B9\u6CD5 </span><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_28-del\u8BED\u53E5\u548C\u5783\u573E\u56DE\u6536" tabindex="-1">28.del\u8BED\u53E5\u548C\u5783\u573E\u56DE\u6536 <a class="header-anchor" href="#_28-del\u8BED\u53E5\u548C\u5783\u573E\u56DE\u6536" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#676E95;">python\u4E2D\u5783\u573E\u56DE\u6536\u7684\u7B97\u6CD5\u662F\u91C7\u7528\u5F15\u7528\u8BA1\u6570,\u7B49\u5F15\u7528\u8BA1\u6570\u4E3A0\u65F6\uFF0C\u4ECE\u5185\u5B58\u4E2D\u5220\u9664\u5BF9\u8C61</span></span>
<span class="line"><span style="color:#676E95;">__del__ \u9B54\u6CD5\u51FD\u6570\uFF0C\u5F53python\u89E3\u91CA\u5668\u56DE\u6536\u5BF9\u8C61\u65F6\uFF0C\u4F1A\u8C03\u7528__del__\u6A21\u4EFF\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">       </span><span style="color:#676E95;"># \u8BA1\u6570\u5668\u4E3A1</span></span>
<span class="line"><span style="color:#A6ACCD;">b </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">       </span><span style="color:#676E95;"># \u8BA1\u6570\u5668\u4E3A2</span></span>
<span class="line"><span style="color:#A6ACCD;">c </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">       </span><span style="color:#676E95;"># \u8BA1\u6570\u5668\u4E3A3</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">del</span><span style="color:#A6ACCD;"> a       </span><span style="color:#676E95;"># \u8BA1\u6570\u5668-1 = 2</span></span>
<span class="line"><span style="color:#89DDFF;">del</span><span style="color:#A6ACCD;"> b       </span><span style="color:#676E95;"># \u8BA1\u6570\u5668-1 = 1</span></span>
<span class="line"><span style="color:#89DDFF;">del</span><span style="color:#A6ACCD;"> c       </span><span style="color:#676E95;"># \u8BA1\u6570\u5668-1 = 0</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="_29-\u4F20\u9012\u53C2\u6570\u7684\u65F6\u5019\uFF0C\u5C3D\u91CF\u4E0D\u8981\u4F20\u9012list\uFF0C\u5426\u5219list\u7684\u503C\u662F\u4F1A\u88AB\u4FEE\u6539\u7684" tabindex="-1">29.\u4F20\u9012\u53C2\u6570\u7684\u65F6\u5019\uFF0C\u5C3D\u91CF\u4E0D\u8981\u4F20\u9012list\uFF0C\u5426\u5219list\u7684\u503C\u662F\u4F1A\u88AB\u4FEE\u6539\u7684 <a class="header-anchor" href="#_29-\u4F20\u9012\u53C2\u6570\u7684\u65F6\u5019\uFF0C\u5C3D\u91CF\u4E0D\u8981\u4F20\u9012list\uFF0C\u5426\u5219list\u7684\u503C\u662F\u4F1A\u88AB\u4FEE\u6539\u7684" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span><span style="color:#676E95;"> \u6F14\u793A: \u540C\u4E00\u4E2A\u51FD\u6570\uFF0C\u4F20\u9012\u4E0D\u540C\u7684\u6570\u636E\uFF0C\u5BF9\u539F\u6570\u636E\u7684\u5F71\u54CD\u4E0D\u540C,\u4F20\u9012\u53C2\u6570\u7684\u65F6\u5019\uFF0C\u6700\u597D\u4E0D\u8981\u4F20\u9012lsit</span></span>
<span class="line"><span style="color:#676E95;">    \u5426\u5219\u539Flist\u7684\u503C\u662F\u4F1A\u88AB\u4FEE\u6539\u7684</span></span>
<span class="line"><span style="color:#676E95;"> </span><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">add</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">b</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    a </span><span style="color:#89DDFF;">+=</span><span style="color:#A6ACCD;"> b</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> a</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="\u5143\u7C7B\u7F16\u7A0B" tabindex="-1">\u5143\u7C7B\u7F16\u7A0B <a class="header-anchor" href="#\u5143\u7C7B\u7F16\u7A0B" aria-hidden="true">#</a></h3><h3 id="_1-propert\u52A8\u6001\u5C5E\u6027" tabindex="-1">1.propert\u52A8\u6001\u5C5E\u6027 <a class="header-anchor" href="#_1-propert\u52A8\u6001\u5C5E\u6027" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> datetime </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> date</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">datetime</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">User</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__init__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">birthday</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> name</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">birthday</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> birthday</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># _age\u4EE3\u8868\u4E0D\u60F3\u5BF9\u5916\u66B4\u9732\uFF0C\u800C\u65F6\u901A\u8FC7\u5C5E\u6027\u63CF\u8FF0\u7B26\u6216\u8005\u5176\u4ED6\u65B9\u5F0F\u8FDB\u884C\u8BBF\u95EE</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">_age</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u52A0\u4E0Aproperty\u88C5\u9970\u5668\uFF0C\u5B83\u5C31\u4F1A\u53D8\u6210\u4E00\u4E2A\u5C5E\u6027\u63CF\u8FF0\u7B26(python\u7684\u8BA1\u7B97\u5C5E\u6027)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u76F8\u5F53\u4E8Eget</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">@</span><span style="color:#FFCB6B;">property</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">age</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> datetime</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">now</span><span style="color:#89DDFF;">().</span><span style="color:#F07178;">year</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">birthday</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">year</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u76F8\u5F53\u4E8Eset\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">age</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setter</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">age</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">_age</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> value</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span><span style="color:#676E95;"> \u8FD9\u91CC\u662F\u6D4B\u8BD5\u4EE3\u7801\uFF0C\u88AB\u522B\u7684\u5730\u65B9\u5BFC\u5165\u7684\u65F6\u5019\uFF0C\u8FD9\u91CC\u7684\u4EE3\u7801\u4E0D\u4F1A\u6267\u884C </span><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    user </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">User</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ch-zn</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;">date</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">year</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1998</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">month</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">day</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u53D6@property\u4E2D\u7684\u503C</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">user</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">age</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u53EF\u4EE5\u901A\u8FC7\u5C5E\u6027\u8D4B\u503C\u7684\u65B9\u5F0F\uFF0C\u8C03\u7528@age.setter\u7684\u503C</span></span>
<span class="line"><span style="color:#A6ACCD;">    user</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">age</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">30</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h3 id="_2-getattr-\u548C-getattribute" tabindex="-1">2.getattr \u548C getattribute <a class="header-anchor" href="#_2-getattr-\u548C-getattribute" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#676E95;">__getattr__\u65B9\u6CD5\u662Fpython\u89E3\u91CA\u5668\u5185\u90E8\u672C\u8EAB\u8981\u7528\u7684\u65B9\u6CD5\uFF0C\u662Fpython\u52A8\u6001\u7279\u6027\u7684\u6839\u672C\u539F\u56E0</span></span>
<span class="line"><span style="color:#676E95;">__getattribute__</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">__getattr__ \u662F\u5728\u67E5\u627E\u4E0D\u5230\u5C5E\u6027\u7684\u65F6\u5019\u8C03\u7528</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">__getattribute__ \u4E0D\u7BA1\u67E5\u627E\u4EFB\u4F55\u5C5E\u6027\uFF0C\u5E76\u4E14\u4E0D\u7BA1\u8BE5\u5C5E\u6027\u5B58\u4E0D\u5B58\u5728\uFF0C\u90FD\u4F1A\u8FDB\u5165\u8FD9\u4E2A\u65B9\u6CD5\u627E</span></span>
<span class="line"><span style="color:#676E95;">\u8FD9\u4E2A\u65B9\u6CD5\u7684\u8FD4\u56DE\u503C\u5C31\u662F\u627E\u5230\u7684\u503C</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">User</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__init__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> name</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># __getattr__ \u5F53\u67E5\u627E\u7684\u5C5E\u6027\uFF0C\u67E5\u627E\u4E0D\u5230\uFF0C\u5219\u4F1A\u8FDB\u5165\u8FD9\u4E2A\u65B9\u6CD5\u67E5\u627E</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__getattr__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">not found attr!</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># __getattribute__\u5C3D\u91CF\u4E0D\u8981\u91CD\u5199\u8FD9\u4E2A\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__getattribute__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">nice</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    u </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">User</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">nice</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u67E5\u627E\u4E0D\u5230age,\u5219\u4F1A\u53D6__getattr__\u65B9\u6CD5\uFF0Cgetattr\u65B9\u6CD5\u8FD4\u56DE\u4E00\u4E2A&#39;not found attr&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">u</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">age</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="_3\u81EA\u5B9A\u4E49\u5C5E\u6027\u63CF\u8FF0\u7B26" tabindex="-1">3\u81EA\u5B9A\u4E49\u5C5E\u6027\u63CF\u8FF0\u7B26 <a class="header-anchor" href="#_3\u81EA\u5B9A\u4E49\u5C5E\u6027\u63CF\u8FF0\u7B26" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#676E95;">\u53EA\u8981\u5B9E\u73B0__get__  __set__  __delete__ \u4EFB\u610F\u4E00\u4E2A\u65B9\u6CD5\u7684\u7C7B\uFF0C\u5B83\u5C31\u662F\u5C5E\u6027\u63CF\u8FF0\u7B26</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> numbers</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">IntField</span><span style="color:#89DDFF;">:</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># __get__\u65B9\u6CD5\uFF0C__set__\u65B9\u6CD5\u4E2D\u8BBE\u7F6E\u7684\u503C</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__get__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">instance</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">owner</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">value</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># __set__ \u65B9\u6CD5\uFF0C\u8981\u6C42\u4F20\u9012\u7684\u503C\u5FC5\u987B\u662F\u6570\u5B57</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__set__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">instance</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">not</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">isinstance</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">value</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> numbers</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">Integral</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">raise</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ValueError</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\u9700\u8981\u4F20\u9012int\u8FDB\u6765</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">value</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> value</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__delete__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">instance</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">pass</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">User</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># 1.age\u7684\u503C\u4E3A\u4E0A\u9762\u81EA\u5B9A\u4E49\u5C5E\u6027\u63CF\u8FF0\u7B26\u7684\u5B9E\u4F8B</span></span>
<span class="line"><span style="color:#A6ACCD;">    age </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">IntField</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    user </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">User</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># 2.\u8FD9\u91CC\u4F1A\u8FDB\u5165\u5C5E\u6027\u63CF\u8FF0\u7B26\u7684__set__\u65B9\u6CD5\uFF0C</span></span>
<span class="line"><span style="color:#A6ACCD;">    user</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">age</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">12</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># 3.\u8FD9\u91CC\u4F1A\u8FDB\u5165\u5C5E\u6027\u63CF\u8FF0\u7B26\u7684__get__\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">user</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">age</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">pass</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h3 id="_4-init\u548Cnew\u9B54\u6CD5\u65B9\u6CD5\u7684\u533A\u522B" tabindex="-1">4.init\u548Cnew\u9B54\u6CD5\u65B9\u6CD5\u7684\u533A\u522B <a class="header-anchor" href="#_4-init\u548Cnew\u9B54\u6CD5\u65B9\u6CD5\u7684\u533A\u522B" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#676E95;">__new__ \u548C __init__ \u7684\u533A\u522B</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">__new__\u662F\u7528\u6765\u63A7\u5236\u5BF9\u8C61\u7684\u751F\u6210\u8FC7\u7A0B\uFF0C\u5728\u5BF9\u8C61\u751F\u6210\u4E4B\u524D</span></span>
<span class="line"><span style="color:#676E95;">__init__\u662F\u7528\u6765\u5B8C\u5584\u5BF9\u8C61\u7684\uFF0C\u5982\u679C__new__\u65B9\u6CD5\u4E0D\u8FD4\u56DE\u5BF9\u8C61\uFF0C\u5219\u4E0D\u4F1A\u8C03\u7528__init__\u51FD\u6570</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">User</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># __new__\u65B9\u6CD5\uFF0C\u5141\u8BB8\u6211\u4EEC\u5728\u751F\u6210\u7C7B\u5BF9\u8C61\u4E4B\u524D\u52A0\u903B\u8F91,new\u662F\u5728\u751F\u6210\u5BF9\u8C61\u4E4B\u540E\uFF0C</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># __init__\u662F\u751F\u6210\u5BF9\u8C61\u4E4B\u540E\uFF0C\u6240\u4F5C\u7684\u4E8B</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__new__</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">cls</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">**</span><span style="color:#A6ACCD;">kwargs</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">in new</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># __new__\u4E2D\u9700\u8981\u8FD4\u56DE\u5BF9\u8C61\uFF0C\u5426\u5219\u4E0D\u4F1A\u8FDB\u5165init\u51FD\u6570\uFF0C\u8C03\u7528\u7236\u7C7B\u7684\u65B9\u6CD5\u521B\u5EFA\u5BF9\u8C61\u5E76\u8FD4\u56DE</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">super</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">__new__</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">cls</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__init__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">in init</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> name</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u8FD9\u91CC\u7684\u53C2\u6570\uFF0C\u53EA\u4F20\u9012\u5230__init__\u4E2D\uFF0C\u4E0D\u4F20\u9012\u8FDB__new__\u4E2D</span></span>
<span class="line"><span style="color:#A6ACCD;">    u </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">User</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">spark</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="_5-\u5143\u7C7B" tabindex="-1">5.\u5143\u7C7B <a class="header-anchor" href="#_5-\u5143\u7C7B" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span><span style="color:#676E95;"> \u7C7B\u662F\u5BF9\u8C61\uFF0Ctype\u521B\u5EFA\u7C7B\u7684\u7C7B </span><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#676E95;"># \u52A8\u6001\u7684\u521B\u5EFA\u7C7B\uFF0C\u4F7F\u7528\u51FD\u6570</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">create_class</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> name </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">user</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">User</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__str__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">user....</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># \u5C06\u7C7B\u5BF9\u8C61\u8FD4\u56DE\uFF0C\u5373\u5C06\u7C7B\u8FD4\u56DE</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> User</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">elif</span><span style="color:#A6ACCD;"> name </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">company</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Company</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__str__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">company....</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> Company</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    MyClass </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">create_class</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">user</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    c </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">MyClass</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">c</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="_6-type\u52A8\u6001\u7684\u521B\u5EFA\u7C7B" tabindex="-1">6.type\u52A8\u6001\u7684\u521B\u5EFA\u7C7B <a class="header-anchor" href="#_6-type\u52A8\u6001\u7684\u521B\u5EFA\u7C7B" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#676E95;"># arg1: \u521B\u5EFA\u7684\u7C7B\u7684\u540D\u79F0</span></span>
<span class="line"><span style="color:#676E95;"># arg2: tuple,\u4F20\u9012\u7C7B\u6240\u7EE7\u627F\u7684\u57FA\u7C7B,\u5143\u7EC4\u53EA\u6709\u4E00\u4E2A\u503C\u65F6\uFF0C\u6700\u540E\u5FC5\u987B\u52A0\u9017\u53F7</span></span>
<span class="line"><span style="color:#676E95;"># arg3: dict, \u5B9A\u4E49\u7C7B\u7684\u5C5E\u6027,\u81EA\u5B9A\u4E49\u5C5E\u6027</span></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    User </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">type</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">User</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">object</span><span style="color:#89DDFF;">,),</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">name</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">user</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">})</span></span>
<span class="line"><span style="color:#A6ACCD;">    my_user </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">User</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">my_user</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_7-type\u6DFB\u52A0\u7C7B\u7684\u65F6\u5019\uFF0C\u6DFB\u52A0\u65B9\u6CD5" tabindex="-1">7.type\u6DFB\u52A0\u7C7B\u7684\u65F6\u5019\uFF0C\u6DFB\u52A0\u65B9\u6CD5 <a class="header-anchor" href="#_7-type\u6DFB\u52A0\u7C7B\u7684\u65F6\u5019\uFF0C\u6DFB\u52A0\u65B9\u6CD5" aria-hidden="true">#</a></h3><ul><li>type --&gt; class --&gt; object</li></ul><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">say</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">i say you bilibili</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    User </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">type</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">User</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">object</span><span style="color:#89DDFF;">,),</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">name</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">user</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">say</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#82AAFF;"> say</span><span style="color:#89DDFF;">})</span></span>
<span class="line"><span style="color:#A6ACCD;">    my_user </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">User</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">my_user</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">my_user</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">say</span><span style="color:#89DDFF;">())</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="_8-\u81EA\u5B9A\u4E49\u5143\u7C7B" tabindex="-1">8.\u81EA\u5B9A\u4E49\u5143\u7C7B <a class="header-anchor" href="#_8-\u81EA\u5B9A\u4E49\u5143\u7C7B" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#676E95;">\u81EA\u5B9A\u4E49\u5143\u7C7B</span></span>
<span class="line"><span style="color:#676E95;">python\u4E2D\u7C7B\u7684\u5B9E\u4F8B\u5316(\u6CE8\u610F\u4E0D\u662F\u5BF9\u8C61\u7684\u5B9E\u4F8B\u5316\uFF0C\u800C\u662F\u7C7B\u5BF9\u8C61\u7684\u5B9E\u4F8B\u5316)\u8FC7\u7A0B:</span></span>
<span class="line"><span style="color:#676E95;">    1.\u9996\u5148\u4F1A\u5BFB\u627Emetaclass\uFF0C\u901A\u8FC7metaclass\u53BB\u521B\u5EFA\u7C7B\u5BF9\u8C61</span></span>
<span class="line"><span style="color:#676E95;">    2.\u5982\u679C\u627E\u4E0D\u5230metaclass\u5219\u53D6\u7236\u7C7B\u4E2D\u627Emetaclass</span></span>
<span class="line"><span style="color:#676E95;">    3.\u5982\u679C\u7236\u7C7B\u4E2D\u627E\u4E0D\u5230metaclass\u4F1A\u53BB\u6A21\u5757\u4E2D\u627Emetaclass</span></span>
<span class="line"><span style="color:#676E95;">    4.\u6A21\u5757\u4E2D\u4E5F\u627E\u4E0D\u5230\u5219\u4F7F\u7528type\u5B9E\u4F8B\u5316\u7C7B\u5BF9\u8C61</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u7EE7\u627F\u81EAtype\u5B83\u5C31\u662F\u5143\u7C7B,\u8FD9\u4E2A\u7C7B\u5C31\u662F\u4E3A\u4E86\u63A7\u5236User\u7C7B\u5B9E\u4F8B\u5316\u7684\u8FC7\u7A0B</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">MyMetaClass</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">type</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__new__</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">cls</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">**</span><span style="color:#A6ACCD;">kwargs</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">super</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">__new__</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">cls</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">*</span><span style="color:#82AAFF;">args</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">**</span><span style="color:#82AAFF;">kwargs</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u6307\u5B9A\u521B\u5EFAUser\u65F6\u4F7F\u7528\u7684\u65F6\u54EA\u4E2A\u5143\u7C7B\uFF0C\u8FD9\u91CC\u4E3A\u81EA\u5B9A\u4E49\u7684MyMetaClass\u5143\u7C7B</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">User</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">metaclass</span><span style="color:#89DDFF;">=</span><span style="color:#FFCB6B;">MyMetaClass</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__init__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> name</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__str__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">name</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    u </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">User</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">self</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">u</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h3 id="\u8FED\u4EE3\u5668\u548C\u751F\u6210\u5668" tabindex="-1">\u8FED\u4EE3\u5668\u548C\u751F\u6210\u5668 <a class="header-anchor" href="#\u8FED\u4EE3\u5668\u548C\u751F\u6210\u5668" aria-hidden="true">#</a></h3><h3 id="_1-\u4EC0\u4E48\u662F\u8FED\u4EE3\u5668" tabindex="-1">1.\u4EC0\u4E48\u662F\u8FED\u4EE3\u5668 <a class="header-anchor" href="#_1-\u4EC0\u4E48\u662F\u8FED\u4EE3\u5668" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#676E95;">	\u8FED\u4EE3\u5668\u662F\u8BBF\u95EE\u96C6\u5408\u5185\u5143\u7D20\u7684\u4E00\u79CD\u65B9\u5F0F\uFF0C\u4E00\u822C\u7528\u6765\u904D\u5386\u6570\u636E</span></span>
<span class="line"><span style="color:#676E95;">	\u8FED\u4EE3\u5668\u548C\u4EE5\u4E0B\u6807\u7684\u8BBF\u95EE\u65B9\u5F0F\u4E0D\u4E00\u6837\uFF0C\u8FED\u4EE3\u5668\u662F\u4E0D\u80FD\u8FD4\u56DE\u7684\uFF0C\u8FED\u4EE3\u5668\u63D0\u4F9B\u4E86\u4E00\u79CD\u60F0\u6027\u8BBF\u95EE\u6570\u636E\u7684\u65B9\u5F0F</span></span>
<span class="line"><span style="color:#676E95;">	\u51E1\u662F\u53EF\u8FED\u4EE3\u7684\u7C7B\u578B\u90FD\u662F\u5B9E\u73B0\u4E86\u53EF\u8FED\u4EE3\u534F\u8BAE\u7684\uFF08\u5373\u5B9E\u73B0\u9B54\u6CD5\u65B9\u6CD5 __iter__\uFF09</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># Iterator\u662F\u6211\u4EEC\u7684\u8FED\u4EE3\u5668\uFF0C\u5B83\u7EE7\u627F\u4E86Iterable\u8FD9\u4E2A\u62BD\u8C61\u57FA\u7C7B</span></span>
<span class="line"><span style="color:#676E95;"># \u7EE7\u627FIterable\u62BD\u8C61\u7C7B\u6709\u4E24\u4E2A\u65B9\u6CD5\u5FC5\u987B\u5B9E\u73B0\uFF0C__iter__   __next__</span></span>
<span class="line"><span style="color:#676E95;"># __iter__\u662F\u8FD4\u56DE\u6211\u4EEC\u7684\u8FED\u4EE3\u5668\u7684\uFF0C __next__\u662F\u8BBF\u95EE\u6211\u4EEC\u7684\u4E0B\u4E00\u4E2A\u6570\u636E\u7684</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u53EF\u8FED\u4EE3\u7C7B\u578B\u548C\u8FED\u4EE3\u5668\u662F\u4E0D\u4E00\u6837\u7684\uFF0C\u53EF\u8FED\u4EE3\u7C7B\u578B\u5B9E\u73B0__iter__\u5373\u53EF\uFF0C\u8FED\u4EE3\u5668\u8FD8\u9700\u5B9E\u73B0__next__\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> collections</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">abc </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> Iterable</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">Iterator</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">isinstance</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">a</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> Iterable</span><span style="color:#89DDFF;">))</span><span style="color:#A6ACCD;">      </span><span style="color:#676E95;"># True\u662F\u53EF\u8FED\u4EE3\u7C7B\u578B</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">isinstance</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">a</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> Iterator</span><span style="color:#89DDFF;">))</span><span style="color:#A6ACCD;">      </span><span style="color:#676E95;"># False\u4E0D\u662F\u53EF\u8FED\u4EE3\u5BF9\u8C61</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="_2-\u8FED\u4EE3\u5668\u548C\u53EF\u8FED\u4EE3\u5BF9\u8C61\u7684\u533A\u522B" tabindex="-1">2.\u8FED\u4EE3\u5668\u548C\u53EF\u8FED\u4EE3\u5BF9\u8C61\u7684\u533A\u522B <a class="header-anchor" href="#_2-\u8FED\u4EE3\u5668\u548C\u53EF\u8FED\u4EE3\u5BF9\u8C61\u7684\u533A\u522B" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#676E95;">	\u8FED\u4EE3\u5668\u662F\u8BBF\u95EE\u96C6\u5408\u5185\u5143\u7D20\u7684\u4E00\u79CD\u65B9\u5F0F\uFF0C\u4E00\u822C\u7528\u6765\u904D\u5386\u6570\u636E</span></span>
<span class="line"><span style="color:#676E95;">	\u8FED\u4EE3\u5668\u548C\u4EE5\u4E0B\u6807\u7684\u8BBF\u95EE\u65B9\u5F0F\u4E0D\u4E00\u6837\uFF0C\u8FED\u4EE3\u5668\u662F\u4E0D\u80FD\u8FD4\u56DE\u7684\uFF0C\u8FED\u4EE3\u5668\u63D0\u4F9B\u4E86\u4E00\u79CD\u60F0\u6027\u8BBF\u95EE\u6570\u636E\u7684\u65B9\u5F0F</span></span>
<span class="line"><span style="color:#676E95;">	\u51E1\u662F\u53EF\u8FED\u4EE3\u7684\u7C7B\u578B\u90FD\u662F\u5B9E\u73B0\u4E86\u53EF\u8FED\u4EE3\u534F\u8BAE\u7684\uFF08\u5373\u5B9E\u73B0\u9B54\u6CD5\u65B9\u6CD5 __iter__\uFF09</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># Iterator\u662F\u6211\u4EEC\u7684\u8FED\u4EE3\u5668\uFF0C\u5B83\u7EE7\u627F\u4E86Iterable\u8FD9\u4E2A\u62BD\u8C61\u57FA\u7C7B</span></span>
<span class="line"><span style="color:#676E95;"># \u7EE7\u627FIterable\u62BD\u8C61\u7C7B\u6709\u4E24\u4E2A\u65B9\u6CD5\u5FC5\u987B\u5B9E\u73B0\uFF0C__iter__   __next__</span></span>
<span class="line"><span style="color:#676E95;"># __iter__\u662F\u8FD4\u56DE\u6211\u4EEC\u7684\u8FED\u4EE3\u5668\u7684\uFF0C __next__\u662F\u8BBF\u95EE\u6211\u4EEC\u7684\u4E0B\u4E00\u4E2A\u6570\u636E\u7684</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u53EF\u8FED\u4EE3\u7C7B\u578B\u548C\u8FED\u4EE3\u5668\u662F\u4E0D\u4E00\u6837\u7684\uFF0C\u53EF\u8FED\u4EE3\u7C7B\u578B\u5B9E\u73B0__iter__\u5373\u53EF\uFF0C\u8FED\u4EE3\u5668\u8FD8\u9700\u5B9E\u73B0__next__\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> collections</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">abc </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> Iterable</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">Iterator</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">isinstance</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">a</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> Iterable</span><span style="color:#89DDFF;">))</span><span style="color:#A6ACCD;">      </span><span style="color:#676E95;"># True\u662F\u53EF\u8FED\u4EE3\u7C7B\u578B</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">isinstance</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">a</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> Iterator</span><span style="color:#89DDFF;">))</span><span style="color:#A6ACCD;">      </span><span style="color:#676E95;"># False\u4E0D\u662F\u53EF\u8FED\u4EE3\u5BF9\u8C61</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># iter()\u51FD\u6570\u63A5\u6536\u4E00\u4E2A\u53EF\u8FED\u4EE3\u7C7B\u578B\uFF0C\u8FD4\u56DE\u4E00\u4E2A\u8FED\u4EE3\u5668</span></span>
<span class="line"><span style="color:#A6ACCD;">iter_a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">iter</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">a</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">isinstance</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">iter_a</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> Iterator</span><span style="color:#89DDFF;">))</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="_3-iter-\u65B9\u6CD5" tabindex="-1">3.iter()\u65B9\u6CD5 <a class="header-anchor" href="#_3-iter-\u65B9\u6CD5" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Company</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__init__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">employee_list</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">employee_list</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> employee_list</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u53C2\u6570item\u662F\u4E00\u4E2A\u7D22\u5F15\u503C</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__getitem__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">employee_list</span><span style="color:#89DDFF;">[</span><span style="color:#F07178;">item</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    company </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Company</span><span style="color:#89DDFF;">([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">tom</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">bom</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vom</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># iter()\u65B9\u6CD5\u9996\u5148\u56DE\u53BB\u67E5\u627Ecompany\u4E2D\u6709\u6CA1\u6709__iter__\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u5982\u679C\u6CA1\u6709\u7684\u8BDD\uFF0C\u4F1A\u521B\u5EFA\u4E00\u4E2A\u9ED8\u8BA4\u7684\u8FED\u4EE3\u5668\uFF0C\u8FD9\u4E2A\u8FED\u4EE3\u5668\u4F1A\u5229\u7528__getitem__\u8FDB\u884C\u904D\u5386</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">iter</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">company</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u5982\u679C\u8FD9\u91CC\u904D\u5386\u7684\u65F6\u5019\u8FDE __getitem__ \u90FD\u627E\u4E0D\u5230\u7684\u8BDD\uFF0C\u5C31\u4F1A\u629B\u51FA\u5F02\u5E38</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> item </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> company</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">item</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="_4-\u81EA\u5B9A\u4E49\u8FED\u4EE3\u5668" tabindex="-1">4.\u81EA\u5B9A\u4E49\u8FED\u4EE3\u5668 <a class="header-anchor" href="#_4-\u81EA\u5B9A\u4E49\u8FED\u4EE3\u5668" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> collections</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">abc </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> Iterator</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span><span style="color:#676E95;">\u81EA\u5B9A\u4E49\u8FED\u4EE3\u5668\u53EF\u4EE5\u7EE7\u627FIterator, \u4E5F\u53EF\u4EE5\u5B9E\u73B0\u8FED\u4EE3\u5668\u534F\u8BAE\uFF0C\u5373\u9B54\u6CD5\u65B9\u6CD5\uFF0C\u8FED\u4EE3\u5668\u7528\u6765\u505A\u8FED\u4EE3\u7684\uFF0C\u4E0D\u662F\u7528\u6765\u505A\u5207\u7247\u7684</span><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">MyIterator</span><span style="color:#89DDFF;">:</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__init__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">my_list</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">my_list</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> my_list</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># \u7EF4\u62A4\u4E00\u4E2A\u9ED8\u8BA4\u7684\u53D8\u91CF0</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">index</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u8FED\u4EE3\u5668\u4E2D\u76F4\u63A5return self\u5373\u53EF</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u5982\u679C\u7EE7\u627F\u4E86Iterator\u5219\u4E0D\u9700\u8981\u5B9E\u73B0\u6B64\u65B9\u6CD5\uFF0C\u53EA\u9700\u8981\u5B9E\u73B0__next__\u65B9\u6CD5\u5373\u53EF</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__iter__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> self</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u771F\u6B63\u8FD4\u56DE\u8FED\u4EE3\u503C\u5F97\u903B\u8F91</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__next__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># \u8FD9\u91CC\u662F\u4F1A\u629B\u51FA\u4E00\u4E2A\u5F02\u5E38\u7684\uFF0C\u56E0\u4E3A\u4E0D\u65AD\u8FED\u4EE3my_list,\u7D22\u5F15\u503C\u4E0D\u65AD\u589E\u5927\uFF0C\u6700\u540E\u5C31\u4F1A\u8D85\u8FC7list\u7684\u5927\u5C0F</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># \u4ECE\u800C\u629B\u51FA\u5F02\u5E38</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">try</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">            word </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">  self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">my_list</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">index</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">except</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">IndexError</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">raise</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">StopIteration</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">index</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> word</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u53EF\u8FED\u4EE3\u5BF9\u8C61</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Company</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__init__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">employee_list</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">employee_list</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> employee_list</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># __iter__\u65B9\u6CD5\u9700\u8981\u8FD4\u56DE\u4E00\u4E2A\u8FED\u4EE3\u5668\uFF0C\u6240\u4EE5\u6211\u4EEC\u4F7F\u7528\u81EA\u5DF1\u5B9A\u4E49\u7684\u8FED\u4EE3\u5668</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__iter__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">MyIterator</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">employee_list</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    company </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Company</span><span style="color:#89DDFF;">([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">tom</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">bom</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vom</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> item </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> company</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">item</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><h3 id="_5-\u751F\u6210\u5668\u51FD\u6570\u7684\u4F7F\u7528" tabindex="-1">5.\u751F\u6210\u5668\u51FD\u6570\u7684\u4F7F\u7528 <a class="header-anchor" href="#_5-\u751F\u6210\u5668\u51FD\u6570\u7684\u4F7F\u7528" aria-hidden="true">#</a></h3><ul><li>\u751F\u6210\u5668\u4E3A\u6211\u4EEC\u7684\u60F0\u6027\u6C42\u503C\uFF08\u5EF6\u8FDF\u6C42\u503C\uFF09\u548C \u534F\u7A0B \u63D0\u4F9B\u4E86\u53EF\u80FD</li></ul><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span><span style="color:#676E95;">\u751F\u6210\u5668\u51FD\u6570\uFF1A \u51FD\u6570\u91CC\u53EA\u8981\u6709yield\u5173\u952E\u5B57\uFF0C\u5B83\u5C31\u662F\u4E00\u4E2A\u751F\u6210\u5668\u51FD\u6570</span><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">gen_func</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">yield</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">yield</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">yield</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u751F\u6210\u5668\u51FD\u6570\u8FD4\u56DE\u7684\u662F\u4E00\u4E2A\u751F\u6210\u5668\u5BF9\u8C61,python\u7F16\u8BD1\u5B57\u8282\u7801\u7684\u65F6\u5019\u5C31\u4EA7\u751F\u4E86</span></span>
<span class="line"><span style="color:#A6ACCD;">    gen </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">gen_func</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u751F\u6210\u5668\u5BF9\u8C61\u4E5F\u662F\u5B9E\u73B0\u4E86\u8FED\u4EE3\u5668\u534F\u8BAE\uFF0C\u6240\u4EE5\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528next()\u65B9\u6CD5\u83B7\u53D6\u503C\uFF0C\u6216\u8005\u901A\u8FC7\u5FAA\u73AF\u83B7\u53D6\u503C</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">next</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">gen</span><span style="color:#89DDFF;">))</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="_6-\u751F\u6210\u5668\u5B9E\u73B0\u6590\u6CE2\u90A3\u5951\u6570\u5217" tabindex="-1">6.\u751F\u6210\u5668\u5B9E\u73B0\u6590\u6CE2\u90A3\u5951\u6570\u5217 <a class="header-anchor" href="#_6-\u751F\u6210\u5668\u5B9E\u73B0\u6590\u6CE2\u90A3\u5951\u6570\u5217" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span><span style="color:#676E95;">\u666E\u901A\u51FD\u6570\u5B9E\u73B0\u6590\u6CE2\u90A3\u5951</span><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u6C42\u6590\u6CE2\u90A3\u5951\u7B2Cindex\u7684\u503C</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">fib</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">index</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> index </span><span style="color:#89DDFF;">&lt;=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">else</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">fib</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">index</span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">fib</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">index</span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u6C42\u6590\u6CE2\u90A3\u5951\u6570\u5217\u5230index\u7684\u6240\u6709\u503C</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">fib2</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">index</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    re_list </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[]</span></span>
<span class="line"><span style="color:#A6ACCD;">    n</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">b </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">while</span><span style="color:#A6ACCD;"> n</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">index</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        re_list</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">append</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">b</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        a</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">b </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> b</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> a</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">b</span></span>
<span class="line"><span style="color:#A6ACCD;">        n </span><span style="color:#89DDFF;">+=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> re_list</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u8FED\u4EE3\u5668\u5B9E\u73B0\u6590\u6CE2\u90A3\u5951\u6570\u5217</span></span>
<span class="line"><span style="color:#676E95;"># \u5185\u90E8\u6CA1\u6709\u4F7F\u7528List,\u4E0D\u4F1A\u6D88\u8017\u5185\u5B58\uFF0C\u8BA1\u7B97\u5B8C\u4E4B\u540E\u76F4\u63A5yield</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">gen_fib</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">index</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    n</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">b </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">while</span><span style="color:#A6ACCD;"> n</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">index</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">yield</span><span style="color:#A6ACCD;"> b</span></span>
<span class="line"><span style="color:#A6ACCD;">        a</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">b </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> b</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> a</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">b</span></span>
<span class="line"><span style="color:#A6ACCD;">        n </span><span style="color:#89DDFF;">+=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">fib</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">20</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">fib2</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">20</span><span style="color:#89DDFF;">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> data </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">gen_fib</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">data</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h3 id="_7-\u751F\u6210\u5668\u539F\u7406" tabindex="-1">7.\u751F\u6210\u5668\u539F\u7406 <a class="header-anchor" href="#_7-\u751F\u6210\u5668\u539F\u7406" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#676E95;">python\u4E2D\u51FD\u6570\u7684\u5DE5\u4F5C\u539F\u7406\uFF1A</span></span>
<span class="line"><span style="color:#676E95;">    python.exe(python\u89E3\u91CA\u5668)\u4F1A\u7528\u4E00\u4E2A\u53EBPyEval_EvalFramEx(c\u8BED\u8A00\u51FD\u6570)\u53BB\u6267\u884Cfoo\u51FD\u6570</span></span>
<span class="line"><span style="color:#676E95;">    \u9996\u5148\u4F1A\u521B\u5EFA\u4E00\u4E2A\u6808\u5E27(\u5806\u6808)\uFF0C</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span><span style="color:#676E95;">\u5806\u7684\u610F\u601D\u5C31\u662F\uFF0C\u5982\u679C\u4F60\u4E0D\u91CA\u653E\u5B83\uFF0C\u5B83\u5C31\u4F1A\u4E00\u76F4\u5B58\u5728\u5728\u6211\u4EEC\u7684\u5185\u5B58\u4E2D</span><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u751F\u6210\u5668\u51FD\u6570\u53EF\u4EE5\u6709return</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">gen_func</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">yield</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">				</span><span style="color:#676E95;"># \u751F\u6210\u5668\u5BF9\u8C61\u7B2C\u4E00\u6B21next()\u505C\u5728\u8FD9\u91CC\u5E76\u8BB0\u5F55\u4F4D\u7F6E</span></span>
<span class="line"><span style="color:#A6ACCD;">    name </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">python</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">yield</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">				</span><span style="color:#676E95;"># \u7B2C\u4E8C\u6B21next,\u4ECE\u4E0A\u4E00\u6B21\u8BB0\u5F55\u7684\u4F4D\u7F6E\u7EE7\u7EED\u6267\u884C\uFF0C\u5230\u8FD9\u91CC\u505C\u4F4F\uFF0C\u8BB0\u5F55\u4F4D\u7F6E</span></span>
<span class="line"><span style="color:#A6ACCD;">    age </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">12</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">nice</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">		</span><span style="color:#676E95;"># \u7B2C\u4E09\u6B21next,\u8FD4\u56DE&#39;nice&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="\u751F\u6210\u5668\u539F\u7406" tabindex="-1">\u751F\u6210\u5668\u539F\u7406 <a class="header-anchor" href="#\u751F\u6210\u5668\u539F\u7406" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span><span style="color:#676E95;"> \u5806\u7684\u610F\u601D\u5C31\u662F\uFF0C\u5982\u679C\u4F60\u4E0D\u91CA\u653E\u5B83\uFF0C\u5B83\u5C31\u4F1A\u4E00\u76F4\u5B58\u5728\u5728\u6211\u4EEC\u7684\u5185\u5B58\u4E2D</span><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span><span style="color:#676E95;"> \u751F\u6210\u5668\u51FD\u6570\u4E5F\u4F1A\u751F\u6210\u6808\u5E27\uFF0C\u8FDB\u5165\u6211\u4EEC\u7684\u5806\u5185\u5B58\uFF0C\u72EC\u7ACB\u4E8E\u8C03\u7528\u8005\u4E4B\u5916 </span><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span><span style="color:#676E95;"> \u53EA\u8981\u6211\u4EEC\u62FF\u5230\u751F\u6210\u5668\u5BF9\u8C61\u5C31\u53EF\u4EE5\u63A7\u5236\u5B83\u4E00\u76F4\u5F80\u524D\u8D70\uFF0C\u5728\u4EFB\u4F55\u5730\u65B9\u90FD\u53EF\u4EE5\u6682\u505C\u5B83\u6062\u590D\u5B83(\u534F\u7A0B\u7684\u5B9E\u73B0\u539F\u7406) </span><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">gen_func</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">yield</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#A6ACCD;">    name </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">python</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">yield</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#A6ACCD;">    age </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">12</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">nice</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">gen </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">gen_func</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">next</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">gen</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">next</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">gen</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">next</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">gen</span><span style="color:#89DDFF;">))</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="_7-\u751F\u6210\u5668\u7684\u5E94\u7528\u573A\u666F" tabindex="-1">7.\u751F\u6210\u5668\u7684\u5E94\u7528\u573A\u666F <a class="header-anchor" href="#_7-\u751F\u6210\u5668\u7684\u5E94\u7528\u573A\u666F" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> collections </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> UserList</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span><span style="color:#676E95;"> List\u662F\u7528C\u8BED\u8A00\u5B9E\u73B0\u7684\uFF0C\u800CUserList\u662F\u7528python\u8BED\u8A00\u5B9E\u73B0\u7684\uFF0C\u6211\u4EEC\u5C3D\u91CF\u4E0D\u8981\u7EE7\u627FList</span></span>
<span class="line"><span style="color:#676E95;">    \u800C\u9009\u62E9\u53BB\u7EE7\u627FUserList,\u8FD9\u6837\u6211\u4EEC\u5C31\u53EF\u4EE5\u8986\u76D6\u5B83\u7684\u4EFB\u4F55\u51FD\u6570</span></span>
<span class="line"><span style="color:#676E95;">    </span></span>
<span class="line"><span style="color:#676E95;">    UserList\u7684__iter__\u4F7F\u7528\u4E86yield\u751F\u6210\u5668\u7684\u65B9\u5F0F\uFF0C\u6765\u8FDB\u884C\u904D\u5386</span></span>
<span class="line"><span style="color:#676E95;"> </span><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_8-yield\u8BFB\u53D6\u5927\u6587\u4EF6\u7684\u5E94\u7528" tabindex="-1">8.yield\u8BFB\u53D6\u5927\u6587\u4EF6\u7684\u5E94\u7528 <a class="header-anchor" href="#_8-yield\u8BFB\u53D6\u5927\u6587\u4EF6\u7684\u5E94\u7528" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="socket" tabindex="-1">socket <a class="header-anchor" href="#socket" aria-hidden="true">#</a></h2><h4 id="server" tabindex="-1">server <a class="header-anchor" href="#server" aria-hidden="true">#</a></h4><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> socket</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># 1.arg1:\u6307\u5B9A\u4F7F\u7528\u7684\u662Fipv4, arg2:\u4EE3\u8868\u4F7F\u7528\u7684\u662FTCP</span></span>
<span class="line"><span style="color:#A6ACCD;">server </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> socket</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">socket</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">socket</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">AF_INET</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> socket</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">SOCK_STREAM</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># 2.0.0.0.0\u4EE3\u8868\u672C\u673A\u6240\u6709\u5730\u5740\uFF0C\u5C40\u57DF\u7F51\u7684\u5176\u4ED6IP\u4E5F\u53EF\u4EE5\u8BBF\u95EE\u5230\uFF0C\u5982\u679C\u5199127.0.0.1\u5219\u5C40\u57DF\u7F51\u5185\u5176\u4ED6pc\u8BBF\u95EE\u4E0D\u5230</span></span>
<span class="line"><span style="color:#A6ACCD;">server</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">bind</span><span style="color:#89DDFF;">((</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">0.0.0.0</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">8000</span><span style="color:#89DDFF;">,))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># 3.\u76D1\u542C</span></span>
<span class="line"><span style="color:#A6ACCD;">server</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">listen</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># 4.\u63A5\u6536\u7528\u6237\u8FDE\u63A5\u8BF7\u6C42,\u4F1A\u83B7\u53D6\u4E24\u4E2A\u8FD4\u56DE\u503C</span></span>
<span class="line"><span style="color:#676E95;"># arg1: socket arg2:address</span></span>
<span class="line"><span style="color:#A6ACCD;">sock</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> addr </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> server</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">accept</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># 5.\u83B7\u53D6\u4ECE\u5BA2\u6237\u7AEF\u53D1\u9001\u8FC7\u6765\u7684\u6570\u636E,\u4E00\u6B21\u83B7\u53D61k\u7684\u6570\u636E</span></span>
<span class="line"><span style="color:#A6ACCD;">data </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> sock</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">recv</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1024</span><span style="color:#89DDFF;">*</span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># 6.\u8282\u7801\u6210utf8\u5E76\u6253\u5370</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">data</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">decode</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># 7.\u53D1\u9001\u6570\u636E\u7ED9client</span></span>
<span class="line"><span style="color:#A6ACCD;">sock</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">send</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u55EF\u55EF\uFF0C\u786E\u5B9E\u5F88nice</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">encode</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># 7.\u5173\u95ED\u8D44\u6E90</span></span>
<span class="line"><span style="color:#A6ACCD;">server</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">close</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">sock</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">close</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h4 id="client" tabindex="-1">client <a class="header-anchor" href="#client" aria-hidden="true">#</a></h4><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> socket</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">client </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> socket</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">socket</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">socket</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">AF_INET</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> socket</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">SOCK_STREAM</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># 1.\u8FDE\u63A5\u672C\u673A\u76848000\u7AEF\u53E3,\u56E0\u4E3Aserver\u4E5F\u662F\u5728\u672C\u673A\u542F\u52A8\u7684</span></span>
<span class="line"><span style="color:#A6ACCD;">client</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">connect</span><span style="color:#89DDFF;">((</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">127.0.0.1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">8000</span><span style="color:#89DDFF;">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># 2.\u53D1\u9001\u6570\u636E</span></span>
<span class="line"><span style="color:#A6ACCD;">client</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">send</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">nice! \u5E72\u7684\u6F02\u4EAE</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">encode</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># 3.\u63A5\u6536server\u53D1\u9001\u7684\u6570\u636E</span></span>
<span class="line"><span style="color:#A6ACCD;">data </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> client</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">recv</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1024</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">data</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">decode</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># 3.\u5173\u95ED\u8D44\u6E90</span></span>
<span class="line"><span style="color:#A6ACCD;">client</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">close</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="\u591A\u7EBF\u7A0B" tabindex="-1">\u591A\u7EBF\u7A0B <a class="header-anchor" href="#\u591A\u7EBF\u7A0B" aria-hidden="true">#</a></h2><h3 id="_1gil" tabindex="-1">1GIL <a class="header-anchor" href="#_1gil" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span><span style="color:#676E95;"> gil(global interpreter lock) \u89E3\u91CA\u5668\u662Fcpython</span></span>
<span class="line"><span style="color:#676E95;">    python\u4E2D\u4E00\u4E2A\u7EBF\u7A0B\u5BF9\u5E94c\u8BED\u8A00\u4E2D\u7684\u4E00\u4E2A\u7EBF\u7A0B</span></span>
<span class="line"><span style="color:#676E95;">    gil\u4F7F\u5F97\u540C\u4E00\u65F6\u523B\u53EA\u6709\u4E00\u4E2A\u7EBF\u7A0B\u8FD0\u884C\u5728\u4E00\u4E2Acpu\u4E0A\u6267\u884C\u5B57\u8282\u7801(python\u4E5F\u4F1A\u7F16\u8BD1\u6210\u5B57\u8282\u7801)</span></span>
<span class="line"><span style="color:#676E95;">    GIL\u4F7F\u5F97\u65E0\u6CD5\u5C06\u591A\u4E2A\u7EBF\u7A0B\u8FD0\u884C\u5728\u591A\u4E2Acpu\u4E0A</span></span>
<span class="line"><span style="color:#676E95;">    GIL\u4F1A\u6839\u636E\u6267\u884C\u7684\u5B57\u8282\u7801\u51FD\u6570\u4EE5\u53CA\u65F6\u95F4\u7247\u91CA\u653Egil,gil\u4F1A\u5728\u9047\u5230io\u64CD\u4F5C\u7684\u65F6\u5019\uFF0C\u4E3B\u52A8\u91CA\u653EGLI\u8FD9\u4E2A\u5168\u5C40\u9501</span></span>
<span class="line"><span style="color:#676E95;">    \u6240\u4EE5python\u7684\u591A\u7EBF\u7A0B\u5728IO\u64CD\u4F5C\u9891\u7E41\u7684\u60C5\u51B5\u4E0B\uFF0C\u662F\u975E\u5E38\u4F7F\u7528\u7684\uFF0C\u4F46\u662F\u4E0D\u9002\u7528\u4E8E\u8BA1\u7B97\u5BC6\u96C6\u578B\u7684\u4EFB\u52A1</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">total </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">add</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">global</span><span style="color:#A6ACCD;"> total</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1000000</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        total </span><span style="color:#89DDFF;">+=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">desc</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">global</span><span style="color:#A6ACCD;"> total</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1000000</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        total </span><span style="color:#89DDFF;">-=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> threading</span></span>
<span class="line"><span style="color:#A6ACCD;">thread1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> threading</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Thread</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">add</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">thread2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> threading</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Thread</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">desc</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">thread1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">start</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">thread2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">start</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">thread1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">thread2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u6BCF\u6B21\u8FD0\u884C\u7684total\u4E0D\u4E00\u81F4\uFF0C\u7EBF\u7A0B\u4E4B\u95F4\u76F8\u4E92\u5207\u6362\uFF0C\u4FEE\u6539\u540C\u4E00\u4E2A\u53D8\u91CF\uFF0C\u5BFC\u81F4\u7EBF\u7A0B\u4E0D\u5B89\u5168\u7684\u95EE\u9898</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">total</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h3 id="\u51FD\u6570\u5B9E\u73B0\u591A\u7EBF\u7A0B" tabindex="-1">\u51FD\u6570\u5B9E\u73B0\u591A\u7EBF\u7A0B <a class="header-anchor" href="#\u51FD\u6570\u5B9E\u73B0\u591A\u7EBF\u7A0B" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span><span style="color:#676E95;"> \u5BF9\u4E8EIO\u64CD\u4F5C\u6765\u8BF4,\u591A\u7EBF\u7A0B\u548C\u591A\u8FDB\u7A0B\u6027\u80FD\u5DEE\u522B\u4E0D\u5927,\u591A\u7EBF\u7A0B\u6BD4\u591A\u8FDB\u7A0B\u66F4\u52A0\u8F7B\u91CF\u7EA7 </span><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> threading</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> time</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">nice</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">arg1</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sleep</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">arg1</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># 1.\u901A\u8FC7Thread\u5B9E\u4F8B\u5316</span></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># arg2\u662F\u5143\u7EC4,\u5982\u679C\u53EA\u6709\u4E00\u4E2A\u53C2\u6570,\u9700\u8981\u5728\u6700\u540E\u52A0,</span></span>
<span class="line"><span style="color:#A6ACCD;">    thread1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> threading</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Thread</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">nice</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">=(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">threading1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,))</span></span>
<span class="line"><span style="color:#A6ACCD;">    thread2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> threading</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Thread</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">nice</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">=(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">threading2</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u8BBE\u7F6E\u4E3A\u5B88\u62A4\u7EBF\u7A0B,\u5F53\u4E3B\u7EBF\u7A0B\u9000\u51FA\u4E4B\u540E,\u76F4\u63A5\u5C06\u5B88\u62A4\u8FDB\u7A0Bkill\u6389</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># thread1.setDaemon(True)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># thread2.setDaemon(True)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    thread1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">start</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    thread2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">start</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># join\u52A0\u5165\u7EBF\u7A0B,\u4F1A\u963B\u585E\u5728\u8FD9\u91CC,\u5728\u8FD9\u91CC\u6267\u884C\u540E\u624D\u4F1A\u6267\u884C\u540E\u9762\u7684\u4EE3\u7801</span></span>
<span class="line"><span style="color:#A6ACCD;">    thread1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    thread2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">main threading......</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h3 id="\u7EE7\u627F\u5B9E\u73B0\u591A\u7EBF\u7A0B" tabindex="-1">\u7EE7\u627F\u5B9E\u73B0\u591A\u7EBF\u7A0B <a class="header-anchor" href="#\u7EE7\u627F\u5B9E\u73B0\u591A\u7EBF\u7A0B" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span><span style="color:#676E95;"> \u51FD\u6570\u5B9E\u73B0\u591A\u7EBF\u7A0B\u9002\u7528\u4E8E\u4EE3\u7801\u91CF\u5C11\u903B\u8F91\u7B80\u5355\u7684\u65F6\u5019</span></span>
<span class="line"><span style="color:#676E95;">    \u7C7B\u5B9E\u73B0\u591A\u7EBF\u7A0B\u9002\u7528\u4E8E\u4EE3\u7801\u91CF\u5927,\u903B\u8F91\u590D\u6742\u7684\u65F6\u5019</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> time</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> threading</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u7EE7\u627FThread, \u5B9E\u73B0run\u65B9\u6CD5\u5373\u53EF</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">MyThread</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">threading</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">Thread</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># __init__\u65B9\u6CD5,\u8C03\u7528\u7236\u7C7B\u7684init\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__init__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">super</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">__init__</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">name</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">run</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sleep</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    thread1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">MyThread</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">MyThread1....</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    thread2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">MyThread</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">MyThread2....</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u9ED8\u8BA4\u4E3B\u7EBF\u7A0B\u4F1A\u5728\u5B50\u7EBF\u7A0Bkill\u6389\u540E,\u624Dkill\u6389</span></span>
<span class="line"><span style="color:#A6ACCD;">    thread1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">start</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    thread2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">start</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h3 id="\u7EBF\u7A0B\u95F4\u901A\u4FE1-queue" tabindex="-1">\u7EBF\u7A0B\u95F4\u901A\u4FE1(Queue) <a class="header-anchor" href="#\u7EBF\u7A0B\u95F4\u901A\u4FE1-queue" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> threading</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> time</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> random</span></span>
<span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> queue </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> Queue</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span><span style="color:#676E95;">\u901A\u8FC7queue\u7684\u65B9\u5F0F\u8FDB\u884C\u7EBF\u7A0B\u95F4\u7684\u901A\u4FE1</span><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">ls </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">thread1</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">my_queue</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">threading1......</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">20</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        my_queue</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">put</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">i</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">thread2</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">my_queue</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">20</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">my_queue</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">())</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    my_que </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Queue</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">maxsize</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1000</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    threading1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> threading</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Thread</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">thread1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">=(</span><span style="color:#82AAFF;">my_que</span><span style="color:#89DDFF;">,))</span></span>
<span class="line"><span style="color:#A6ACCD;">    threading2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> threading</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Thread</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">thread2</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">=(</span><span style="color:#82AAFF;">my_que</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    threading1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">start</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    threading2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">start</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="\u7EBF\u7A0B\u540C\u6B65lock" tabindex="-1">\u7EBF\u7A0B\u540C\u6B65Lock <a class="header-anchor" href="#\u7EBF\u7A0B\u540C\u6B65lock" aria-hidden="true">#</a></h3><ul><li>Lock\u9501\u4F1A\u5F71\u54CD\u6027\u80FD, \u9501\u4F1A\u5F15\u8D77\u6B7B\u9501</li><li>\u6B7B\u9501:</li></ul><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> threading</span></span>
<span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> threading </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> Lock</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span><span style="color:#676E95;">\u7EBF\u7A0B\u540C\u6B65(\u9501),\u8BA9\u7528\u4EE5\u65F6\u95F4,\u53EA\u6709\u4E00\u6BB5\u4EE3\u7801\u5728\u6267\u884C</span><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#676E95;"># \u521B\u5EFA\u4E00\u628A\u9501</span></span>
<span class="line"><span style="color:#A6ACCD;">lock </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Lock</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">total </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">add</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">global</span><span style="color:#A6ACCD;"> total</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">global</span><span style="color:#A6ACCD;"> lock</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1000000</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># \u83B7\u53D6\u9501</span></span>
<span class="line"><span style="color:#A6ACCD;">        lock</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">acquire</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">        total </span><span style="color:#89DDFF;">+=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;">#\u91CA\u653E\u9501</span></span>
<span class="line"><span style="color:#A6ACCD;">        lock</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">release</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">desc</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">global</span><span style="color:#A6ACCD;"> total</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">global</span><span style="color:#A6ACCD;"> lock</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1000000</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        lock</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">acquire</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">        total </span><span style="color:#89DDFF;">-=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># \u91CA\u653E\u9501</span></span>
<span class="line"><span style="color:#A6ACCD;">        lock</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">release</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">thread1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> threading</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Thread</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">add</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">thread2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> threading</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Thread</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">desc</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">thread1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">start</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">thread2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">start</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">thread1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">thread2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u6BCF\u6B21\u8FD0\u884C\u7684total\u4E00\u81F4,\u56E0\u4E3A\u52A0\u4E86\u9501</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">total</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><h3 id="\u7EBF\u7A0B\u540C\u6B65rlock-\u4E0D\u4F1A\u4EA7\u751F\u6B7B\u9501\u95EE\u9898" tabindex="-1">\u7EBF\u7A0B\u540C\u6B65RLock(\u4E0D\u4F1A\u4EA7\u751F\u6B7B\u9501\u95EE\u9898) <a class="header-anchor" href="#\u7EBF\u7A0B\u540C\u6B65rlock-\u4E0D\u4F1A\u4EA7\u751F\u6B7B\u9501\u95EE\u9898" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> threading</span></span>
<span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> threading </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> Lock</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">RLock</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#676E95;"># \u521B\u5EFA\u4E00\u628A\u9501Rlock: \u5728\u540C\u4E00\u4E2A\u7EBF\u7A0B\u91CC,\u53EF\u4EE5\u8FDE\u7EED\u591A\u6B21\u8C03\u7528acquire, acquire\u548Crelease\u7684\u6B21\u6570\u8981\u4E00\u81F4</span></span>
<span class="line"><span style="color:#A6ACCD;">lock </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">RLock</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">total </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">add</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">lock</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">global</span><span style="color:#A6ACCD;"> total</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1000000</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># \u83B7\u53D6\u9501</span></span>
<span class="line"><span style="color:#A6ACCD;">        lock</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">acquire</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">        total </span><span style="color:#89DDFF;">+=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;">#\u91CA\u653E\u9501</span></span>
<span class="line"><span style="color:#A6ACCD;">        lock</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">release</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">desc</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">lock</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">global</span><span style="color:#A6ACCD;"> total</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1000000</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># \u83B7\u53D6\u9501</span></span>
<span class="line"><span style="color:#A6ACCD;">        lock</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">acquire</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">        total </span><span style="color:#89DDFF;">-=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># \u91CA\u653E\u9501</span></span>
<span class="line"><span style="color:#A6ACCD;">        lock</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">release</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">thread1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> threading</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Thread</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">add</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">=(</span><span style="color:#82AAFF;">lock</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">thread2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> threading</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Thread</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">desc</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">=(</span><span style="color:#82AAFF;">lock</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">thread1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">start</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">thread2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">start</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">thread1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">thread2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u6BCF\u6B21\u8FD0\u884C\u7684total\u4E0D\u4E00\u81F4\uFF0C\u7EBF\u7A0B\u4E4B\u95F4\u76F8\u4E92\u5207\u6362\uFF0C\u4FEE\u6539\u540C\u4E00\u4E2A\u53D8\u91CF\uFF0C\u5BFC\u81F4\u7EBF\u7A0B\u4E0D\u5B89\u5168\u7684\u95EE\u9898</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">total</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><h3 id="condition-\u6761\u4EF6\u53D8\u91CF-\u7528\u4E8E\u590D\u6742\u7684\u7EBF\u7A0B\u95F4\u540C\u6B65-\u662Fpython\u4E2D\u6700\u590D\u6742\u7684\u9501" tabindex="-1">condition(\u6761\u4EF6\u53D8\u91CF) \u7528\u4E8E\u590D\u6742\u7684\u7EBF\u7A0B\u95F4\u540C\u6B65,\u662Fpython\u4E2D\u6700\u590D\u6742\u7684\u9501 <a class="header-anchor" href="#condition-\u6761\u4EF6\u53D8\u91CF-\u7528\u4E8E\u590D\u6742\u7684\u7EBF\u7A0B\u95F4\u540C\u6B65-\u662Fpython\u4E2D\u6700\u590D\u6742\u7684\u9501" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> threading </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> Condition</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> threading</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span><span style="color:#676E95;"> condition\u6761\u4EF6\u53D8\u91CF,\u662Fpython\u4E2D\u6700\u590D\u6742\u7684\u9501, wait\u548Cnotify\u662F\u4E00\u4E00\u5BF9\u5E94\u7684 </span><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u8BA9\u5C0F\u7231\u548C\u5929\u732B\u4E00\u4EBA\u6267\u884C\u4E00\u6B65</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">XiaoAi</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">threading</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">Thread</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__init__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">condition</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">super</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">__init__</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u5C0F\u7231</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">condition</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> condition</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">run</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">with</span><span style="color:#A6ACCD;"> self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">condition</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">            self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">condition</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">notify</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F78C6C;">{}</span><span style="color:#C3E88D;">: \u5728</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">format</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">            self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">condition</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">wait</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u5C0F\u7231: \u597D\u5440</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">TianMao</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">threading</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">Thread</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__init__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">condition</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">super</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">__init__</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u5929\u732B\u7CBE\u7075</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,)</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">condition</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> condition</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">run</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">with</span><span style="color:#A6ACCD;"> self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">condition</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F78C6C;">{}</span><span style="color:#C3E88D;">: \u5C0F\u7231\u540C\u5B66</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">format</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">            self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">condition</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">wait</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u5929\u732B\u7CBE\u7075: \u6211\u4EEC\u6765\u5BF9\u53E4\u8BD7\u5427!</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">            self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">condition</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">notify</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u521B\u5EFAcondition\u5BF9\u8C61</span></span>
<span class="line"><span style="color:#A6ACCD;">    condition </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Condition</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u5C06condition\u4F20\u9012\u7ED9\u6211\u4EEC\u7684\u7EBF\u7A0B</span></span>
<span class="line"><span style="color:#A6ACCD;">    xiaoai </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">XiaoAi</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">condition</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    tianmao </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">TianMao</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">condition</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u542F\u52A8\u987A\u5E8F\u5F88\u91CD\u8981</span></span>
<span class="line"><span style="color:#A6ACCD;">    tianmao</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">start</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    xiaoai</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">start</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><h3 id="\u4FE1\u53F7\u91CFsemaphore" tabindex="-1">\u4FE1\u53F7\u91CFSemaphore <a class="header-anchor" href="#\u4FE1\u53F7\u91CFsemaphore" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> threading</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> time</span></span>
<span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> threading </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> Semaphore</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span><span style="color:#676E95;"> </span></span>
<span class="line"><span style="color:#676E95;">\u4FE1\u53F7\u91CF(semaphore): \u662F\u7528\u4E8E\u63A7\u5236\u8FDB\u5165\u6570\u91CF\u7684\u9501</span></span>
<span class="line"><span style="color:#676E95;">\u6BD4\u5982\u6587\u4EF6\u8BFB\u5199:</span></span>
<span class="line"><span style="color:#676E95;">    \u5199: \u4E00\u822C\u53EA\u5141\u8BB8\u4E00\u4E2A\u7EBF\u7A0B\u5199</span></span>
<span class="line"><span style="color:#676E95;">    \u8BFB: \u5141\u8BB8\u591A\u4E2A\u7EBF\u7A0B\u8BFB</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">HtmlSpider</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">threading</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">Thread</span><span style="color:#89DDFF;">):</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__init__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">semaphore</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">super</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">__init__</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">semaphore</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> semaphore</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">run</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sleep</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">get html text success...</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># \u722C\u866B\u5B8C\u6210\u540Erelease</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">semaphore</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">release</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">UrlProducer</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">threading</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">Thread</span><span style="color:#89DDFF;">):</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__init__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">semaphore</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">super</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">__init__</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">semaphore</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> semaphore</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">run</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">20</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#676E95;"># acquire\u4F1A\u5C06\u4F20\u9012\u8FC7\u6765\u7684\u4FE1\u53F7\u91CF-1,\u51CF\u52300\u4F1Await</span></span>
<span class="line"><span style="color:#A6ACCD;">            self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">semaphore</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">acquire</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">            html_thread </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">HtmlSpider</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">semaphore</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">            html_thread</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">start</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u521B\u5EFAsemaphore, 3\u4EE3\u8868\u5141\u8BB8\u4E09\u4E2A\u5E76\u53D1</span></span>
<span class="line"><span style="color:#A6ACCD;">    semaphore </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Semaphore</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    url_producer </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">UrlProducer</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">semaphore</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    url_producer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">start</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><h3 id="\u7EBF\u7A0B\u6C60" tabindex="-1">\u7EBF\u7A0B\u6C60 <a class="header-anchor" href="#\u7EBF\u7A0B\u6C60" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span><span style="color:#676E95;">futures\u662F\u4E13\u95E8\u7528\u6765\u505A\u7EBF\u7A0B\u6C60\u548C\u8FDB\u7A0B\u6C60\u7F16\u7A0B\u7684</span><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> concurrent</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">futures </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> ThreadPoolExecutor</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> time</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#676E95;">\u4E3A\u4EC0\u4E48\u8981\u7EBF\u7A0B\u6C60:</span></span>
<span class="line"><span style="color:#676E95;">    \u53EF\u4EE5\u7BA1\u7406\u6211\u4EEC\u7684\u7EBF\u7A0B,\u5E76\u4E14\u53EF\u4EE5\u81EA\u5DF1\u8FDB\u884C\u8C03\u5EA6,\u5E76\u4E14\u7EBF\u7A0B\u6C60\u91CC\u7684\u7EBF\u7A0B\u53EF\u590D\u7528,</span></span>
<span class="line"><span style="color:#676E95;">    \u5F53\u4E00\u4E2A\u7EBF\u7A0B\u5B8C\u6210\u65F6,\u6211\u4EEC\u7684\u4E3B\u7EBF\u7A0B\u80FD\u7ACB\u5373\u77E5\u5230\u7EBF\u7A0B\u5B8C\u6210,\u4E5F\u53EF\u4EE5\u7528\u5230\u7EBF\u7A0B\u6C60</span></span>
<span class="line"><span style="color:#676E95;">    futures\u53EF\u4EE5\u8BA9\u591A\u7EBF\u7A0B\u548C\u591A\u8FDB\u7A0B\u7F16\u7801\u63A5\u53E3\u4E00\u81F4</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">get_html</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">times</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sleep</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">times</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">get page </span><span style="color:#F78C6C;">{}</span><span style="color:#C3E88D;"> s</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">format</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">times</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> times</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u5B9E\u4F8B\u5316\u4E00\u4E2A\u7EBF\u7A0B\u6C60</span></span>
<span class="line"><span style="color:#676E95;"># arg: \u540C\u65F6\u6700\u591A\u8FD0\u884C\u4E24\u4E2A\u7EBF\u7A0B</span></span>
<span class="line"><span style="color:#A6ACCD;">executor </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ThreadPoolExecutor</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">max_workers</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u901A\u8FC7submit\u51FD\u6570\u63D0\u4EA4\u6267\u884C\u7684\u51FD\u6570\u5230\u7EBF\u7A0B\u6C60, arg1:\u51FD\u6570\u540D, arg2:\u51FD\u6570\u7684\u53C2\u6570</span></span>
<span class="line"><span style="color:#676E95;"># \u63D0\u4EA4\u4E4B\u540E\u4F1A\u6709\u4E00\u4E2A\u8FD4\u56DE\u503C,\u5F88\u91CD\u8981</span></span>
<span class="line"><span style="color:#A6ACCD;">task1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> executor</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">submit</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">get_html</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">task2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> executor</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">submit</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">get_html</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># task\u7684done\u83B7\u53D6\u7EBF\u7A0B\u7684\u6267\u884C,\u72B6\u6001, False\u8FD8\u6CA1\u6267\u884C\u6210\u529F,\u56E0\u4E3A\u51FD\u6570\u4E2Dsleep\u4E86</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">task1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">done</span><span style="color:#89DDFF;">())</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">task2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">done</span><span style="color:#89DDFF;">())</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># result\u53EF\u4EE5\u83B7\u53D6\u7EBF\u7A0B\u6267\u884C\u7684\u6700\u7EC8\u7ED3\u679C,\u662F\u4E00\u4E2A\u963B\u585E\u7684\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">result:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> task1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">result</span><span style="color:#89DDFF;">())</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># True, sleep 4\u79D2\u4E4B\u540E,\u63D0\u4EA4\u7684\u7EBF\u7A0B\u90FD\u5B8C\u6210\u4E86</span></span>
<span class="line"><span style="color:#A6ACCD;">time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sleep</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">task1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">done</span><span style="color:#89DDFF;">())</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">task2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">done</span><span style="color:#89DDFF;">())</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h3 id="\u83B7\u53D6\u5230\u5DF2\u7ECF\u6210\u529F\u7684task\u7684\u8FD4\u56DE\u503C" tabindex="-1">\u83B7\u53D6\u5230\u5DF2\u7ECF\u6210\u529F\u7684task\u7684\u8FD4\u56DE\u503C <a class="header-anchor" href="#\u83B7\u53D6\u5230\u5DF2\u7ECF\u6210\u529F\u7684task\u7684\u8FD4\u56DE\u503C" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> concurrent</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">futures </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> ThreadPoolExecutor</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> as_completed</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">wait</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> time</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">get_html</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">times</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sleep</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">times</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">get page </span><span style="color:#F78C6C;">{}</span><span style="color:#C3E88D;"> s</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">format</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">times</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> times</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">executor </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ThreadPoolExecutor</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">max_workers</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u6279\u91CF\u7684\u63D0\u4EA4\u4EFB\u52A1</span></span>
<span class="line"><span style="color:#A6ACCD;">urls </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">,]</span></span>
<span class="line"><span style="color:#A6ACCD;">all_task </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">executor</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">submit</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">get_html</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">url</span><span style="color:#89DDFF;">))</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> url </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> urls</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># 1.as_completed \u83B7\u53D6\u5DF2\u7ECF\u6210\u529F\u7684task\`</span></span>
<span class="line"><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> future </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">as_completed</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">all_task</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u83B7\u53D6\u5230\u7EBF\u7A0B\u7684\u8FD4\u56DE</span></span>
<span class="line"><span style="color:#A6ACCD;">    data </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> future</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">result</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">data</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># wait\u8BA9\u4E3B\u7EBF\u7A0B\u963B\u585E,\u7B49\u6267\u884C\u5B8C\u53C2\u6570\u91CC\u9762\u7684\u7EBF\u7A0B,\u518D\u5F80\u540E\u6267\u884C\u4EE3\u7801, \u8FD9\u91CCall_task\u662F\u6240\u6709\u7684\u7EBF\u7A0B</span></span>
<span class="line"><span style="color:#82AAFF;">wait</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">all_task</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">main</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># 2.executor\u53EF\u4EE5\u8BA9\u6211\u4EEC\u66F4\u8F7B\u677E\u83B7\u53D6\u5230\u6210\u529F\u7684task\u7684\u8FD4\u56DE</span></span>
<span class="line"><span style="color:#676E95;"># for data in executor.map(get_html, urls):</span></span>
<span class="line"><span style="color:#676E95;">#     print(data)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h4 id="\u591A\u8FDB\u7A0B" tabindex="-1">\u591A\u8FDB\u7A0B <a class="header-anchor" href="#\u591A\u8FDB\u7A0B" aria-hidden="true">#</a></h4><ul><li>[2]*30 \u8FD4\u56DE30\u4E2A2\u7684\u5217\u8868</li><li>\u8FDB\u7A0B\u4E5F\u5206\u4E3B\u8FDB\u7A0B\u548C\u5B50\u8FDB\u7A0B</li><li>\u5B50\u8FDB\u7A0B\u548C\u7236\u8FDB\u7A0B\u7684\u6570\u636E\u662F\u72EC\u7ACB\u7684,\u5404\u5B50\u8FDB\u7A0B\u7684\u6570\u636E\u4E5F\u662F\u72EC\u7ACB\u7684,\u4F1A\u4ECE\u7236\u8FDB\u7A0B\u4E2D\u62F7\u8D1D\u4E00\u4EFD</li><li>\u7236\u8FDB\u7A0B\u9000\u51FA\u4E4B\u540E,\u5B50\u8FDB\u7A0B\u4ECD\u7136\u53EF\u4EE5\u6267\u884C</li></ul><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#676E95;"># \u591A\u8FDB\u7A0B: \u9002\u7528\u4E8E\u8BA1\u7B97\u5BC6\u96C6\u578B(\u6570\u5B66\u8BA1\u7B97,\u56FE\u5F62\u8BA1\u7B97)\u7684\u4EFB\u52A1, \u5BF9\u4E8Eio\u64CD\u4F5C\u6765\u8BF4,\u591A\u7EBF\u7A0B\u5373\u53EF</span></span>
<span class="line"><span style="color:#676E95;"># \u8FDB\u7A0B\u5207\u6362\u4EE3\u4EF7\u8981\u9AD8\u4E8E\u7EBF\u7A0B\u7684\u5207\u6362</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> concurrent</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">futures </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> ProcessPoolExecutor</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">as_completed</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> time</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">MyThread</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">times</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">success -----&gt; </span><span style="color:#F78C6C;">{}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">format</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">times</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">    time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sleep</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">times</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> times</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u5728windows\u4E0B,\u4F7F\u7528\u591A\u8FDB\u7A0B,\u4E00\u5B9A\u8981\u5728 __name__ == &#39;__main__&#39;\u4E2D,\u5426\u5219\u4F1A\u62A5\u9519</span></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ProcessPoolExecutor</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">as</span><span style="color:#A6ACCD;"> executor</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        all_task </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">executor</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">submit</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">MyThread</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">num</span><span style="color:#89DDFF;">))</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> num </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">]*</span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> future </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">as_completed</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">all_task</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">future</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">result</span><span style="color:#89DDFF;">())</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="\u8FDB\u7A0B\u6C60" tabindex="-1">\u8FDB\u7A0B\u6C60 <a class="header-anchor" href="#\u8FDB\u7A0B\u6C60" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> concurrent</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">futures </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> ProcessPoolExecutor</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">as_completed</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> multiprocessing</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> time</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">my_process</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">times</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">sum</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#A6ACCD;">    time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sleep</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">times</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">10000</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">sum</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+=</span><span style="color:#A6ACCD;"> i</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">sum</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u6709\u591A\u5C11\u4E2A\u8FDB\u7A0B,\u76F4\u63A5\u83B7\u53D6\u5230cpu\u7684\u6570\u91CF,\u5C31\u6709\u591A\u5C11\u4E2A\u8FDB\u7A0B</span></span>
<span class="line"><span style="color:#A6ACCD;">    poll </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> multiprocessing</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Pool</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">multiprocessing</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">cpu_count</span><span style="color:#89DDFF;">())</span></span>
<span class="line"><span style="color:#A6ACCD;">    result1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> poll</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">apply_async</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">my_process</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">=(</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,))</span></span>
<span class="line"><span style="color:#A6ACCD;">    result2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> poll</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">apply_async</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">my_process</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">=(</span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">,))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u7B49\u5F85\u6240\u6709\u4EFB\u52A1\u5B8C\u6210</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># poll.close()\u8868\u793A\u4E0D\u518D\u63A5\u6536\u65B0\u7684\u8FDB\u7A0B</span></span>
<span class="line"><span style="color:#A6ACCD;">    poll</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">close</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># poll.join\u4E00\u5B9A\u8981\u5728poll.close\u4E4B\u540E</span></span>
<span class="line"><span style="color:#A6ACCD;">    poll</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">result1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">())</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">result2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">())</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="\u8FDB\u7A0B\u6C602-imap" tabindex="-1">\u8FDB\u7A0B\u6C602 imap <a class="header-anchor" href="#\u8FDB\u7A0B\u6C602-imap" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> concurrent</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">futures </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> ProcessPoolExecutor</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">as_completed</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> multiprocessing</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> time</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">my_process</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">times</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">sum</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#A6ACCD;">    time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sleep</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">times</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">10000</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">sum</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+=</span><span style="color:#A6ACCD;"> i</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">sum</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u6709\u591A\u5C11\u4E2A\u8FDB\u7A0B,\u76F4\u63A5\u83B7\u53D6\u5230cpu\u7684\u6570\u91CF,\u5C31\u6709\u591A\u5C11\u4E2A\u8FDB\u7A0B</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    poll </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> multiprocessing</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Pool</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">multiprocessing</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">cpu_count</span><span style="color:#89DDFF;">())</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> result </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> poll</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">imap</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">my_process</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">]):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">result</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="\u8FDB\u7A0B\u95F4\u901A\u4FE1-queue" tabindex="-1">\u8FDB\u7A0B\u95F4\u901A\u4FE1 Queue <a class="header-anchor" href="#\u8FDB\u7A0B\u95F4\u901A\u4FE1-queue" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> time</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span><span style="color:#676E95;">\u591A\u8FDB\u7A0B\u5305\u4E2D\u6709Queue,\u53EF\u4EE5\u5B9E\u73B0\u901A\u4FE1</span><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;">  multiprocessing </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> Process</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> Queue</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">push1</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">q</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    q</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">put</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">get1</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">q</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">q</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">())</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    q </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Queue</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    p1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Process</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;"> push1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">=(</span><span style="color:#82AAFF;">q</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">    p2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Process</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;"> get1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">=(</span><span style="color:#82AAFF;">q</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    p1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">start</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    p2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">start</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    p1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    p2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="manager\u5B9E\u73B0\u7EBF\u7A0B\u6C60\u901A\u4FE1" tabindex="-1">Manager\u5B9E\u73B0\u7EBF\u7A0B\u6C60\u901A\u4FE1 <a class="header-anchor" href="#manager\u5B9E\u73B0\u7EBF\u7A0B\u6C60\u901A\u4FE1" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> time</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span><span style="color:#676E95;">\u591A\u8FDB\u7A0B\u5305\u4E2D\u6709Manager,\u53EF\u4EE5\u5B9E\u73B0\u8FDB\u7A0B\u6C60\u95F4\u901A\u4FE1,Queue\u4E0D\u80FD\u7528\u4E8Epool\u8FDB\u7A0B\u6C60</span><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;">  multiprocessing </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> Pool</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">Manager</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">Queue</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">push1</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">q</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    q</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">put</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">get1</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">q</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">q</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">())</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># Manager\u4E2D\u8FD8\u6709Dict, Array, List, Value\u7B49</span></span>
<span class="line"><span style="color:#A6ACCD;">    q </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Manager</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">Queue</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    pool </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Pool</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    pool</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">apply_async</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">push1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">=(</span><span style="color:#82AAFF;">q</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">    pool</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">apply_async</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">get1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">=(</span><span style="color:#82AAFF;">q</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    pool</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">close</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    pool</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="\u8FDB\u7A0B\u95F4\u901A\u4FE1pipe" tabindex="-1">\u8FDB\u7A0B\u95F4\u901A\u4FE1pipe <a class="header-anchor" href="#\u8FDB\u7A0B\u95F4\u901A\u4FE1pipe" aria-hidden="true">#</a></h3><ul><li>pipe\u7684\u6027\u80FD\u8981\u9AD8\u4E8Equeue</li></ul><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> time</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span><span style="color:#676E95;">\u591A\u8FDB\u7A0B\u5305\u4E2D\u6709Manager,\u53EF\u4EE5\u5B9E\u73B0\u8FDB\u7A0B\u6C60\u95F4\u901A\u4FE1,Queue\u4E0D\u80FD\u7528\u4E8Epool\u8FDB\u7A0B\u6C60</span><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;">  multiprocessing </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> Pool</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">Manager</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">Pipe</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> Process</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">push1</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">pipe</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># pipe\u53D1\u9001\u6570\u636E\u4F7F\u7528send\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#A6ACCD;">    pipe</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">send</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">get1</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">pipe</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># pipe\u63A5\u6536\u6570\u636E,\u4F7F\u7528recv\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">pipe</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">recv</span><span style="color:#89DDFF;">())</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u5B9E\u4F8B\u5316pipe,\u4F1A\u8FD4\u56DE\u4E24\u4E2A\u5BF9\u8C61,\u5206\u522B\u662F\u7528\u6765\u505A\u53D1\u9001\u548C\u63A5\u6536\u7684collection</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># pipe\u53EA\u80FD\u9002\u7528\u4E8E\u4E24\u4E2A\u8FDB\u7A0B\u95F4\u7684\u901A\u4FE1</span></span>
<span class="line"><span style="color:#A6ACCD;">    receive_pipe</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> send_pipe  </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Pipe</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># arg\u4E3A\u53D1\u9001\u6570\u636E\u7684pipe</span></span>
<span class="line"><span style="color:#A6ACCD;">    p1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Process</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">push1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">=(</span><span style="color:#82AAFF;">send_pipe</span><span style="color:#89DDFF;">,))</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># arg\u4E3A\u63A5\u6536\u6570\u636E\u7684pipe</span></span>
<span class="line"><span style="color:#A6ACCD;">    p2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Process</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">get1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">=(</span><span style="color:#82AAFF;">receive_pipe</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    p1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">start</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    p2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">start</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    p1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    p2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h3 id="manager\u7684dict\u4F7F\u7528" tabindex="-1">Manager\u7684dict\u4F7F\u7528 <a class="header-anchor" href="#manager\u7684dict\u4F7F\u7528" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> multiprocessing </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> Process</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">Manager</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">set_dict1</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dic</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">key</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    dic</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> value</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">set_dict2</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dic</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">key</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    dic</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> value</span></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    dic </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Manager</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">dict</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    p1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Process</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">set_dict1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">=(</span><span style="color:#82AAFF;">dic</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">name</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hcp</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">    p2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Process</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">set_dict2</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">=(</span><span style="color:#82AAFF;">dic</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">address</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">china</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    p1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">start</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    p2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">start</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    p1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    p2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">dic</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="\u534F\u7A0B\u548C\u5F02\u6B65" tabindex="-1">\u534F\u7A0B\u548C\u5F02\u6B65 <a class="header-anchor" href="#\u534F\u7A0B\u548C\u5F02\u6B65" aria-hidden="true">#</a></h2><h3 id="\u751F\u6210\u5668\u8FDB\u9636-\u534F\u7A0B\u7684\u57FA\u7840" tabindex="-1">\u751F\u6210\u5668\u8FDB\u9636(\u534F\u7A0B\u7684\u57FA\u7840) <a class="header-anchor" href="#\u751F\u6210\u5668\u8FDB\u9636-\u534F\u7A0B\u7684\u57FA\u7840" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span><span style="color:#676E95;"> \u751F\u6210\u5668\u4E0D\u4EC5\u53EF\u4EE5\u4EA7\u51FA\u503C,\u8FD8\u53EF\u4EE5\u63A5\u53D7\u503C </span><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">gen_func</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u53EF\u4EE5\u4EA7\u51FA\u503C(yield\u540E\u9762\u7684\u503C),\u53EF\u4EE5\u63A5\u6536\u503C(\u8C03\u7528\u65B9\u4F20\u9012\u7684\u503C),\u63A5\u6536\u4E4B\u540E,\u8D4B\u503C\u7ED9html</span></span>
<span class="line"><span style="color:#A6ACCD;">    html </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">yield</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">http://www.baidu.com</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">html</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">yield</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">yield</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">yield</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">nice</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    gen </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">gen_func</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u5728\u8C03\u7528send\u53D1\u9001\u975ENone\u503C\u4E4B\u524D,\u6211\u4EEC\u5FC5\u987B\u542F\u52A8\u4E00\u6B21\u751F\u6210\u5668,\u65B9\u5F0F\u6709\u4E24\u79CDnext(gen) gen.send(None)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># 1.\u542F\u52A8\u751F\u6210\u5668\u65B9\u5F0F\u6709\u4E24\u79CD: next() send()</span></span>
<span class="line"><span style="color:#A6ACCD;">    url </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">next</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">gen</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">url</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># send\u65B9\u6CD5\u53EF\u4EE5\u4F20\u9012\u503C,\u8FDB\u5165\u751F\u6210\u5668\u5185\u90E8,\u540C\u65F6\u8FD8\u53EF\u4EE5\u91CD\u542F\u751F\u6210\u5668,\u6267\u884C\u5230\u4E0B\u4E00\u4E2A\u4F4D\u7F6E</span></span>
<span class="line"><span style="color:#A6ACCD;">    html </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">nice</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">gen</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">send</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">html</span><span style="color:#89DDFF;">))</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="\u751F\u6210\u5668\u7684throw\u548Cclose" tabindex="-1">\u751F\u6210\u5668\u7684throw\u548Cclose <a class="header-anchor" href="#\u751F\u6210\u5668\u7684throw\u548Cclose" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">gen_func</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">yield</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">http://www.baidu.com</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">yield</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">yield</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">complete</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    gen </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">gen_func</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">next</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">gen</span><span style="color:#89DDFF;">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u751F\u6210\u5668close\u4E4B\u540E,\u518D\u8C03\u7528next()\u4F1A\u62A5\u9519,\u56E0\u4E3Aclose\u4E4B\u540E,\u751F\u6210\u5668\u5DF2\u7ECF\u7ED3\u675F\u4E86</span></span>
<span class="line"><span style="color:#A6ACCD;">    gen</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">close</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">next</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">gen</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="\u751F\u6210\u5668throw" tabindex="-1">\u751F\u6210\u5668throw <a class="header-anchor" href="#\u751F\u6210\u5668throw" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">gen_func</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u6355\u83B7throw\u4E3B\u52A8\u629B\u51FA\u7684\u5F02\u5E38</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">try</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">yield</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">http://www.baidu.com</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">except</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Exception</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">as</span><span style="color:#A6ACCD;"> e</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">pass</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">yield</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">yield</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    gen </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">gen_func</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">next</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">gen</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># throw \u5411\u751F\u6210\u5668\u629B\u51FA\u5F02\u5E38</span></span>
<span class="line"><span style="color:#A6ACCD;">    gen</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">throw</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">Exception</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u4E3B\u52A8\u5411\u751F\u6210\u5668\u629B\u51FA\u5F02\u5E38</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u751F\u6210\u5668\u5185\u90E8\u5904\u7406\u4E86\u5F02\u5E38,\u8FD9\u91CC\u5C31\u53EF\u4EE5\u7EE7\u7EED\u6267\u884C</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">next</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">gen</span><span style="color:#89DDFF;">))</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="chain\u65B9\u6CD5" tabindex="-1">chain\u65B9\u6CD5 <a class="header-anchor" href="#chain\u65B9\u6CD5" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span><span style="color:#676E95;"> \u53EF\u4EE5\u5C06\u4E24\u4E2A\u53EF\u8FED\u4EE3\u7684\u7C7B\u578B\u8FDE\u63A5\u8D77\u6765,\u505A\u4E00\u6B21\u5FAA\u73AF </span><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> itertools </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> chain</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">my_list </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">my_dict </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ulr</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">http://www.baidu.com</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">path</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/store/add</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> value </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">chain</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">my_list</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> my_dict</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> range</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">)):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">value</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="\u751F\u6210\u5668\u7684yield-from-3-3\u65B0\u52A0\u7279\u6027" tabindex="-1">\u751F\u6210\u5668\u7684yield from (3.3\u65B0\u52A0\u7279\u6027) <a class="header-anchor" href="#\u751F\u6210\u5668\u7684yield-from-3-3\u65B0\u52A0\u7279\u6027" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span><span style="color:#676E95;"> \u53EF\u4EE5\u5C06\u4E24\u4E2A\u53EF\u8FED\u4EE3\u7684\u7C7B\u578B\u8FDE\u63A5\u8D77\u6765,\u505A\u4E00\u6B21\u5FAA\u73AF </span><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> itertools </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> chain</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">my_list </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">my_dict </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ulr</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">http://www.baidu.com</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">path</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/store/add</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># yield from \u53EF\u4EE5\u5C06iterable\u4E2D\u7684\u503C\u4E00\u4E2A\u4E00\u4E2Ayield\u51FA\u6765,\u800C\u4E0D\u518D\u9700\u8981\u4E00\u4E2A\u4E00\u4E2Ayield</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">my_chain</span><span style="color:#89DDFF;">(*</span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">**</span><span style="color:#A6ACCD;">kwargs</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> my_iter </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> args</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">yield from</span><span style="color:#A6ACCD;"> my_iter</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> value </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">my_chain</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">my_list</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> my_dict</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> range</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">7</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">9</span><span style="color:#89DDFF;">)):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">value</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="yield-from" tabindex="-1">yield from <a class="header-anchor" href="#yield-from" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">g1</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">iterable</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># yield from \u4F1A\u5C06\u91CC\u9762\u7684\u6BCF\u4E00\u4E2A\u503C\u7ED9yield\u51FA\u6765 </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">yield from</span><span style="color:#A6ACCD;"> iterable</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">g2</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">iterable</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># yield\u4EC0\u4E48\u503C\u5C31\u8FD4\u56DE\u4EC0\u4E48\u503C</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">yield</span><span style="color:#A6ACCD;"> iterable</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> value </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">g1</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">)):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">value</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> value </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">g2</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">)):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">value</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="\u539F\u751F\u534F\u7A0B-await-async" tabindex="-1">\u539F\u751F\u534F\u7A0B await async <a class="header-anchor" href="#\u539F\u751F\u534F\u7A0B-await-async" aria-hidden="true">#</a></h3><ul><li>\u4E3A\u4E86\u4F7F\u7F16\u7A0B\u8BED\u4E49\u5316,\u6211\u4EEC\u5C3D\u91CF\u4F7F\u7528await\u548Casync\u5B9E\u73B0\u534F\u7A0B\u800C\u4E0D\u8981\u4F7F\u7528\u539F\u751F\u7684\u751F\u6210\u5668\u5B9E\u73B0\u534F\u7A0B</li></ul><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#676E95;">    python\u4E3A\u4E86\u5C06\u8BED\u4E49\u53D8\u5F97\u66F4\u660E\u786E,\u5F15\u5165\u4E86async\u548Cawait\u5173\u952E\u8BCD\u7528\u4E8E\u5B9A\u4E49\u539F\u751F\u7684\u534F\u7A0B</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">downloader</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">url</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">success</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">download_url</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">url</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    html </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">await</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">downloader</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">url</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> html</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    coro </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">download_url</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">http://www.baidu.com</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u539F\u751F\u7684\u534F\u7A0B\u9700\u8981\u4F7F\u7528send\u8C03\u7528</span></span>
<span class="line"><span style="color:#A6ACCD;">    coro</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">send</span><span style="color:#89DDFF;">(None)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="\u5E76\u53D1\u7F16\u7A0Basyncio" tabindex="-1">\u5E76\u53D1\u7F16\u7A0Basyncio <a class="header-anchor" href="#\u5E76\u53D1\u7F16\u7A0Basyncio" aria-hidden="true">#</a></h2><ul><li>asyncio\u5728python3.4\u4E4B\u540E\u5F15\u5165,\u4E3B\u8981\u662F\u89E3\u51B3\u5E76\u53D1\u7684\u7F16\u7A0B\u95EE\u9898,python\u6700\u5177\u91CE\u5FC3\u7684\u6A21\u5757</li><li>\u5305\u542B\u5404\u79CD\u7279\u5B9A\u7CFB\u7EDF\u5B9E\u73B0\u7684\u6A21\u5757\u5316\u4E8B\u4EF6\u5FAA\u73AF</li><li>\u4F20\u51FA\u548C\u534F\u8BAE\u62BD\u8C61</li><li>\u5BF9TCP, UDP, SSL, \u5B50\u8FDB\u7A0B, \u5EF6\u65F6\u8C03\u7528\u4EE5\u53CA\u5176\u4ED6\u7684\u5177\u4F53\u652F\u6301</li><li>\u57FA\u4E8Eyield from\u7684\u534F\u8BAE\u548C\u4EFB\u52A1,\u53EF\u4EE5\u8BA9\u4F60\u7528\u987A\u5E8F\u7684\u65B9\u5F0F\u7F16\u5199\u5E76\u53D1\u4EE3\u7801</li><li>\u5FC5\u987B\u4F7F\u7528\u4E00\u4E2A\u5C06\u4EA7\u751F\u963B\u585EIO\u7684\u8C03\u7528\u65F6,\u6709\u63A5\u53E3\u53EF\u4EE5\u628A\u8FD9\u4E2A\u4E8B\u4EF6\u8F6C\u79FB\u5230\u7EBF\u7A0B\u6C60</li><li>\u6A21\u4EFFthreading\u6A21\u5757\u7684\u540C\u6B65\u539F\u8BED,\u53EF\u4EE5\u7528\u5728\u5355\u7EBF\u7A0B\u5185\u7684\u534F\u7A0B\u4E4B\u95F4</li><li>asyncio\u53EF\u4EE5\u5728\u591A\u7EBF\u7A0B\u4E4B\u4E2D\u4F7F\u7528</li></ul><h3 id="\u4E8B\u4EF6\u5FAA\u73AF-asyncio\u6700\u57FA\u672C\u7684\u529F\u80FD" tabindex="-1">\u4E8B\u4EF6\u5FAA\u73AF (asyncio\u6700\u57FA\u672C\u7684\u529F\u80FD) <a class="header-anchor" href="#\u4E8B\u4EF6\u5FAA\u73AF-asyncio\u6700\u57FA\u672C\u7684\u529F\u80FD" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> asyncio</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> time</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#676E95;">    asyncio\u65F6python\u7528\u4E8E\u89E3\u51B3\u5F02\u6B65io\u7F16\u7A0B\u7684\u4E00\u6574\u5957\u89E3\u51B3\u65B9\u6848</span></span>
<span class="line"><span style="color:#676E95;">    tornado\u4F7F\u7528\u4E86asyncio(\u5B9E\u73B0\u4E86web\u670D\u52A1\u5668),\u6240\u4EE5\u53EF\u4EE5nginx+tornado\u76F4\u63A5\u90E8\u7F72</span></span>
<span class="line"><span style="color:#676E95;">    django flask\u4F7F\u7528 uwsgi, gunicorn + nginx \u90E8\u7F72</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">get_html</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">url</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">start get html....</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u8FD9\u91CC\u5FC5\u987B\u8981\u4F7F\u7528await\u7B49\u5F85\u5B83\u6267\u884C\u5B8C\u6210,\u4E14sleep\u5FC5\u987B\u8981\u4F7F\u7528asyncio\u7684sleep</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">await</span><span style="color:#A6ACCD;"> asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sleep</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">end get url</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    start_time </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">time</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u76F4\u63A5\u83B7\u53D6\u4E8B\u4EF6\u5FAA\u73AF</span></span>
<span class="line"><span style="color:#A6ACCD;">    loop </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get_event_loop</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    loop</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">run_until_complete</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">get_html</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">http://www.baidu.com</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">time</span><span style="color:#89DDFF;">()</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">-</span><span style="color:#82AAFF;"> start_time</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="\u6267\u884C10\u4E2A\u534F\u7A0B-\u53EA\u9700\u8981\u4E24\u79D2-100\u4E2A\u534F\u7A0B\u4E5F\u662F\u4E24\u79D2" tabindex="-1">\u6267\u884C10\u4E2A\u534F\u7A0B,\u53EA\u9700\u8981\u4E24\u79D2, 100\u4E2A\u534F\u7A0B\u4E5F\u662F\u4E24\u79D2 <a class="header-anchor" href="#\u6267\u884C10\u4E2A\u534F\u7A0B-\u53EA\u9700\u8981\u4E24\u79D2-100\u4E2A\u534F\u7A0B\u4E5F\u662F\u4E24\u79D2" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> asyncio</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> time</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#676E95;">    asyncio\u65F6python\u7528\u4E8E\u89E3\u51B3\u5F02\u6B65io\u7F16\u7A0B\u7684\u4E00\u6574\u5957\u89E3\u51B3\u65B9\u6848</span></span>
<span class="line"><span style="color:#676E95;">    tornado\u4F7F\u7528\u4E86asyncio(\u5B9E\u73B0\u4E86web\u670D\u52A1\u5668),\u6240\u4EE5\u53EF\u4EE5nginx+tornado\u76F4\u63A5\u90E8\u7F72</span></span>
<span class="line"><span style="color:#676E95;">    django flask\u4F7F\u7528 uwsgi, gunicorn + nginx \u90E8\u7F72</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u5B9A\u4E49\u534F\u7A0B</span></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">get_html</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">url</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">start get html....</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u8FD9\u91CC\u5FC5\u987B\u8981\u4F7F\u7528await\u7B49\u5F85\u5B83\u6267\u884C\u5B8C\u6210,\u4E14sleep\u5FC5\u987B\u8981\u4F7F\u7528asyncio\u7684sleep</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">await</span><span style="color:#A6ACCD;"> asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sleep</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">end get url</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    start_time </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">time</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u76F4\u63A5\u83B7\u53D6\u4E8B\u4EF6\u5FAA\u73AF</span></span>
<span class="line"><span style="color:#A6ACCD;">    loop </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get_event_loop</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u751F\u621010\u4E2A\u534F\u7A0B\u5BF9\u8C61\u6570\u7EC4</span></span>
<span class="line"><span style="color:#A6ACCD;">    tasks </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#82AAFF;">get_html</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">http://www.baidu.com</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">)]</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u5C0610\u4E2A\u534F\u7A0B\u6570\u7EC4\u653E\u5230loop\u4E2D\u6267\u884C</span></span>
<span class="line"><span style="color:#A6ACCD;">    loop</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">run_until_complete</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">wait</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">tasks</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">time</span><span style="color:#89DDFF;">()</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">-</span><span style="color:#82AAFF;"> start_time</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="\u83B7\u53D6\u534F\u7A0B\u8FD4\u56DE\u503C" tabindex="-1">\u83B7\u53D6\u534F\u7A0B\u8FD4\u56DE\u503C <a class="header-anchor" href="#\u83B7\u53D6\u534F\u7A0B\u8FD4\u56DE\u503C" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> asyncio</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> time</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#676E95;">    asyncio\u65F6python\u7528\u4E8E\u89E3\u51B3\u5F02\u6B65io\u7F16\u7A0B\u7684\u4E00\u6574\u5957\u89E3\u51B3\u65B9\u6848</span></span>
<span class="line"><span style="color:#676E95;">    tornado\u4F7F\u7528\u4E86asyncio(\u5B9E\u73B0\u4E86web\u670D\u52A1\u5668),\u6240\u4EE5\u53EF\u4EE5nginx+tornado\u76F4\u63A5\u90E8\u7F72</span></span>
<span class="line"><span style="color:#676E95;">    django flask\u4F7F\u7528 uwsgi, gunicorn + nginx \u90E8\u7F72</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u5B9A\u4E49\u534F\u7A0B</span></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">get_html</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">url</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">start get html....</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u8FD9\u91CC\u5FC5\u987B\u8981\u4F7F\u7528await\u7B49\u5F85\u5B83\u6267\u884C\u5B8C\u6210,\u4E14sleep\u5FC5\u987B\u8981\u4F7F\u7528asyncio\u7684sleep</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">await</span><span style="color:#A6ACCD;"> asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sleep</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">success.......</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    start_time </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">time</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    loop </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get_event_loop</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u76F4\u63A5\u5C06\u534F\u7A0B\u653E\u5728asyncio.ensure_future\u4E2D</span></span>
<span class="line"><span style="color:#A6ACCD;">    get_future </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">ensure_future</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">get_html</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">http://www.baidu.com</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u8FD9\u79CD\u5199\u6CD5\u548C\u4E0A\u9762\u7684\u5199\u6CD5\u4E00\u6837\u4F7F\u7528,\u4E5F\u53EF\u4EE5\u901A\u8FC7get_task.result()\u62FF\u5230\u7ED3\u679C</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># get_task = loop.create_task(get_html(&#39;http://www.baidu.com&#39;))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u63A5\u6536future\u7C7B\u578B</span></span>
<span class="line"><span style="color:#A6ACCD;">    loop</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">run_until_complete</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">get_future</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u83B7\u53D6\u8FD4\u56DE\u503C</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">get_future</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">result</span><span style="color:#89DDFF;">())</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">time</span><span style="color:#89DDFF;">()</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">-</span><span style="color:#82AAFF;"> start_time</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h3 id="\u534F\u7A0B\u5B8C\u6210\u540E\u4F7F\u7528\u56DE\u8C03\u51FD\u6570" tabindex="-1">\u534F\u7A0B\u5B8C\u6210\u540E\u4F7F\u7528\u56DE\u8C03\u51FD\u6570 <a class="header-anchor" href="#\u534F\u7A0B\u5B8C\u6210\u540E\u4F7F\u7528\u56DE\u8C03\u51FD\u6570" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> asyncio</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> time</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#676E95;">    asyncio\u65F6python\u7528\u4E8E\u89E3\u51B3\u5F02\u6B65io\u7F16\u7A0B\u7684\u4E00\u6574\u5957\u89E3\u51B3\u65B9\u6848</span></span>
<span class="line"><span style="color:#676E95;">    tornado\u4F7F\u7528\u4E86asyncio(\u5B9E\u73B0\u4E86web\u670D\u52A1\u5668),\u6240\u4EE5\u53EF\u4EE5nginx+tornado\u76F4\u63A5\u90E8\u7F72</span></span>
<span class="line"><span style="color:#676E95;">    django flask\u4F7F\u7528 uwsgi, gunicorn + nginx \u90E8\u7F72</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u5B9A\u4E49\u534F\u7A0B</span></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">get_html</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">url</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">start get html....</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u8FD9\u91CC\u5FC5\u987B\u8981\u4F7F\u7528await\u7B49\u5F85\u5B83\u6267\u884C\u5B8C\u6210,\u4E14sleep\u5FC5\u987B\u8981\u4F7F\u7528asyncio\u7684sleep</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">await</span><span style="color:#A6ACCD;"> asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sleep</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">success.......</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u9ED8\u8BA4\u4F1A\u4F20\u9012\u4E00\u4E2A\u53C2\u6570\u8FDB\u6765</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">callback</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">future</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u534F\u7A0B\u6267\u884C\u5B8C\u6210,callback\u6267\u884C....</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    start_time </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">time</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    loop </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get_event_loop</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u521B\u5EFA\u4EFB\u52A1</span></span>
<span class="line"><span style="color:#A6ACCD;">    get_task </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> loop</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create_task</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">get_html</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">http://www.baidu.com</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u6DFB\u52A0\u56DE\u8C03,\u56DE\u8C03\u51FD\u6570\u4E3Acallback, \u9ED8\u8BA4\u4F1A\u4F20\u9012future\u53C2\u6570\u8FDB\u53BB</span></span>
<span class="line"><span style="color:#A6ACCD;">    get_task</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">add_done_callback</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">callback</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u8FD0\u884C\u534F\u7A0B\u4EFB\u52A1</span></span>
<span class="line"><span style="color:#A6ACCD;">    loop</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">run_until_complete</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">get_task</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u83B7\u53D6\u8FD4\u56DE\u503C</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">get_task</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">result</span><span style="color:#89DDFF;">())</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h3 id="\u4F7F\u7528\u56DE\u8C03\u51FD\u6570\u7684\u65F6\u5019\u5E26\u53C2\u6570" tabindex="-1">\u4F7F\u7528\u56DE\u8C03\u51FD\u6570\u7684\u65F6\u5019\u5E26\u53C2\u6570 <a class="header-anchor" href="#\u4F7F\u7528\u56DE\u8C03\u51FD\u6570\u7684\u65F6\u5019\u5E26\u53C2\u6570" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> asyncio</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> time</span></span>
<span class="line"><span style="color:#676E95;"># \u7528\u6765\u5C06\u51FD\u6570\u5C01\u88C5\u6210\u5E26\u53C2\u6570\u7684\u51FD\u6570,\u4F20\u9012\u7ED9\u56DE\u8C03\u51FD\u6570</span></span>
<span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> functools </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> partial</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u5B9A\u4E49\u534F\u7A0B</span></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">get_html</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">url</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">start get html....</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">await</span><span style="color:#A6ACCD;"> asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sleep</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">success.......</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u4E3B\u52A8\u4F20\u9012\u7684\u53C2\u6570,\u653E\u5728\u7B2C\u4E00\u4E2A\u4F4D\u7F6E</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">callback</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">url</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">future</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">url</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u534F\u7A0B\u6267\u884C\u5B8C\u6210,callback\u6267\u884C....</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    start_time </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">time</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    loop </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get_event_loop</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u521B\u5EFA\u4EFB\u52A1</span></span>
<span class="line"><span style="color:#A6ACCD;">    get_task </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> loop</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create_task</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">get_html</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">http://www.baidu.com</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u56DE\u8C03\u51FD\u6570\u5982\u679C\u60F3\u4F20\u9012\u53C2\u6570,\u5FC5\u987B\u4F7F\u7528partial\u5C06\u51FD\u6570\u5C01\u88C5\u6210\u4E00\u4E2A\u5E26\u53C2\u6570\u7684\u51FD\u6570</span></span>
<span class="line"><span style="color:#A6ACCD;">    get_task</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">add_done_callback</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">partial</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">callback</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">http://www.baidu.com</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u8FD0\u884C\u534F\u7A0B\u4EFB\u52A1</span></span>
<span class="line"><span style="color:#A6ACCD;">    loop</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">run_until_complete</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">get_task</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u83B7\u53D6\u8FD4\u56DE\u503C</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">get_task</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">result</span><span style="color:#89DDFF;">())</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h3 id="async-wait-\u548C-async-gather-\u7684\u533A\u522B" tabindex="-1">async.wait() \u548C async.gather()\u7684\u533A\u522B <a class="header-anchor" href="#async-wait-\u548C-async-gather-\u7684\u533A\u522B" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> asyncio</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> time</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#676E95;">    asyncio\u65F6python\u7528\u4E8E\u89E3\u51B3\u5F02\u6B65io\u7F16\u7A0B\u7684\u4E00\u6574\u5957\u89E3\u51B3\u65B9\u6848</span></span>
<span class="line"><span style="color:#676E95;">    tornado\u4F7F\u7528\u4E86asyncio(\u5B9E\u73B0\u4E86web\u670D\u52A1\u5668),\u6240\u4EE5\u53EF\u4EE5nginx+tornado\u76F4\u63A5\u90E8\u7F72</span></span>
<span class="line"><span style="color:#676E95;">    django flask\u4F7F\u7528 uwsgi, gunicorn + nginx \u90E8\u7F72</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u5B9A\u4E49\u534F\u7A0B</span></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">get_html</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">url</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">start get html....</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u8FD9\u91CC\u5FC5\u987B\u8981\u4F7F\u7528await\u7B49\u5F85\u5B83\u6267\u884C\u5B8C\u6210,\u4E14sleep\u5FC5\u987B\u8981\u4F7F\u7528asyncio\u7684sleep</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">await</span><span style="color:#A6ACCD;"> asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sleep</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">end get url</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    start_time </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">time</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    loop </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get_event_loop</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u521B\u5EFA\u4E24\u4E2A\u4EFB\u52A1\u7EC4</span></span>
<span class="line"><span style="color:#A6ACCD;">    group1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#82AAFF;">get_html</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">http://www.baidu.com</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)]</span></span>
<span class="line"><span style="color:#A6ACCD;">    group2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#82AAFF;">get_html</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">http://www.baidu.com</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># loop.run_until_complete(asyncio.wait(tasks))</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># gather\u6BD4wait\u66F4\u52A0\u9AD8\u7EA7,gather\u53EF\u4EE5\u5C06\u6211\u4EEC\u7684\u4EFB\u52A1\u5206\u7EC4</span></span>
<span class="line"><span style="color:#A6ACCD;">    loop</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">run_until_complete</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">gather</span><span style="color:#89DDFF;">(*</span><span style="color:#82AAFF;">group1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">*</span><span style="color:#82AAFF;">group2</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">time</span><span style="color:#89DDFF;">()</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">-</span><span style="color:#82AAFF;"> start_time</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h3 id="\u53D6\u6D88future-task" tabindex="-1">\u53D6\u6D88future(task) <a class="header-anchor" href="#\u53D6\u6D88future-task" aria-hidden="true">#</a></h3><ul><li>\u5728\u547D\u4EE4\u884C\u8FD0\u884C,\u5E76\u4E14ctrl+c\u4E2D\u65AD,\u6355\u6349\u5F02\u5E38,\u4ECE\u800C\u89E6\u53D1\u53D6\u6D88\u4EFB\u52A1</li></ul><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> asyncio</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> time</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">get_html</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">sleep_times</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">wait</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">await</span><span style="color:#A6ACCD;"> asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sleep</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">sleep_times</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">done </span><span style="color:#F78C6C;">{}</span><span style="color:#C3E88D;"> S</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">format</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">sleep_times</span><span style="color:#89DDFF;">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    task1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">get_html</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    task2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">get_html</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    task3 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">get_html</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    tasks </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">task1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> task2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> task3</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    loop </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get_event_loop</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">try</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        loop</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">run_until_complete</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">wait</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">tasks</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">except</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">KeyboardInterrupt</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">as</span><span style="color:#A6ACCD;"> e</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># \u83B7\u53D6\u5230\u6240\u54DF\u7684task</span></span>
<span class="line"><span style="color:#A6ACCD;">        all_task </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">Task</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">all_tasks</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> task </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> all_task</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">cancel task</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#676E95;"># \u53D6\u6D88task,\u4F1A\u6709\u8FD4\u56DE\u503C,True\u6216\u8005False(\u6709\u6CA1\u6709\u53D6\u6D88\u6210\u529F),\u56E0\u4E3A\u6B63\u5728\u8FD0\u884C\u7684task\u662F\u65E0\u6CD5\u53D6\u6D88\u7684</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">task</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">cancel</span><span style="color:#89DDFF;">())</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># \u53D6\u6D88\u4EFB\u52A1\u4E4B\u540E\u5C06loop\u7ED9stop</span></span>
<span class="line"><span style="color:#A6ACCD;">        loop</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stop</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># stop\u4E4B\u540E\u5FC5\u987B\u8981\u8C03\u7528run_forever\u5426\u5219\u4F1A\u62A5\u9519</span></span>
<span class="line"><span style="color:#A6ACCD;">        loop</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">run_forever</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">finally</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        loop</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">close</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h3 id="\u534F\u7A0B\u4E4B\u4E2D\u5D4C\u5957\u534F\u7A0B" tabindex="-1">\u534F\u7A0B\u4E4B\u4E2D\u5D4C\u5957\u534F\u7A0B <a class="header-anchor" href="#\u534F\u7A0B\u4E4B\u4E2D\u5D4C\u5957\u534F\u7A0B" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> asyncio</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u5B9A\u4E49\u4E00\u4E2A\u534F\u7A0B</span></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">compute</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">y</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">compute </span><span style="color:#F78C6C;">%s</span><span style="color:#C3E88D;"> + </span><span style="color:#F78C6C;">%s</span><span style="color:#C3E88D;"> ...</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">%</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">x</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> y</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">await</span><span style="color:#A6ACCD;"> asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sleep</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> x</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">y</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u7B2C\u4E8C\u4E2A\u534F\u7A0B</span></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">print_sum</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">y</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u5728\u8FD9\u91CC\u4F7F\u7528\u7B2C\u4E00\u4E2A\u534F\u7A0B</span></span>
<span class="line"><span style="color:#A6ACCD;">    result </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">await</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">compute</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">x</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;">y</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F78C6C;">%s</span><span style="color:#C3E88D;"> + </span><span style="color:#F78C6C;">%s</span><span style="color:#C3E88D;"> = </span><span style="color:#F78C6C;">%s</span><span style="color:#89DDFF;">&#39;</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">%</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">x</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> y</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> result</span><span style="color:#89DDFF;">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    loop </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get_event_loop</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    loop</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">run_until_complete</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">print_sum</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">    loop</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">close</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="asyncio\u7684\u5176\u4ED6\u51FD\u6570" tabindex="-1">asyncio\u7684\u5176\u4ED6\u51FD\u6570 <a class="header-anchor" href="#asyncio\u7684\u5176\u4ED6\u51FD\u6570" aria-hidden="true">#</a></h3><ul><li><p>asyncio\u53EF\u4EE5\u6267\u884C\u666E\u901A\u7684\u51FD\u6570</p></li><li><p>call_soon() \u53EF\u4EE5\u6267\u884C\u666E\u901A\u7684\u51FD\u6570,\u5E76\u4E14\u8FD9\u4E2A\u65B9\u6CD5\u662F\u7ACB\u9A6C\u6267\u884C,\u5373\u5728\u961F\u5217\u4E2D\u628A\u5B83\u6392\u5230\u7B2C1</p></li></ul><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> asyncio</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">callback</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">sleep_times</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">sleep </span><span style="color:#F78C6C;">%s</span><span style="color:#C3E88D;"> S</span><span style="color:#89DDFF;">&#39;</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">%</span><span style="color:#82AAFF;"> sleep_times</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">stoploop</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">loop</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    loop</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stop</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    loop </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get_event_loop</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># 1.call_soon\u53EF\u4EE5\u63D2\u5165\u4E00\u4E2A\u666E\u901A\u51FD\u6570\u5230\u961F\u5217,\u7ACB\u9A6C\u6267\u884C,\u56E0\u4E3A\u4F1A\u653E\u5230\u961F\u5217\u7684\u6700\u524D\u9762</span></span>
<span class="line"><span style="color:#A6ACCD;">    loop</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call_soon</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">callback</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># 2.\u63D0\u4EA4\u4E00\u4E2A\u505C\u6B62loop\u7684\u51FD\u6570,\u5C06loop\u4F5C\u4E3A\u53C2\u6570\u4F20\u9012\u8FDB\u53BB,\u4F1A\u5E2E\u6211\u4EEC\u505C\u6B62\u8FD9\u4E2Aloop</span></span>
<span class="line"><span style="color:#A6ACCD;">    loop</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call_soon</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">stoploop</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> loop</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u6CA1\u6709\u63D0\u4EA4\u7684\u4EFB\u52A1,\u53EA\u662F\u8981\u901A\u8FC7call_soon\u63D2\u5165\u4E00\u4E2A\u666E\u901A\u51FD\u6570\u5230\u961F\u5217,\u6240\u4EE5\u4F7F\u7528run_forever</span></span>
<span class="line"><span style="color:#A6ACCD;">    loop</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">run_forever</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="call-later\u65B9\u6CD5-\u5728\u51E0\u79D2\u949F\u4E4B\u540E\u6267\u884C\u51FD\u6570" tabindex="-1">call_later\u65B9\u6CD5,\u5728\u51E0\u79D2\u949F\u4E4B\u540E\u6267\u884C\u51FD\u6570 <a class="header-anchor" href="#call-later\u65B9\u6CD5-\u5728\u51E0\u79D2\u949F\u4E4B\u540E\u6267\u884C\u51FD\u6570" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> asyncio</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">callback</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">sleep_times</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">sleep </span><span style="color:#F78C6C;">%s</span><span style="color:#C3E88D;"> S</span><span style="color:#89DDFF;">&#39;</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">%</span><span style="color:#82AAFF;"> sleep_times</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">stoploop</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">loop</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    loop</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stop</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    loop </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get_event_loop</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># 1.call_later\u5728\u51E0\u79D2\u949F\u4E4B\u540E\u6267\u884C\u51FD\u6570,2\u79D2\u949F\u4E4B\u540E\u6267\u884C</span></span>
<span class="line"><span style="color:#A6ACCD;">    loop</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call_later</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> callback</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># 2. 4\u79D2\u540E\u6267\u884C</span></span>
<span class="line"><span style="color:#A6ACCD;">    loop</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call_later</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> stoploop</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> loop</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u6CA1\u6709\u63D0\u4EA4\u7684\u4EFB\u52A1,\u53EA\u662F\u8981\u901A\u8FC7call_soon\u63D2\u5165\u4E00\u4E2A\u666E\u901A\u51FD\u6570\u5230\u961F\u5217,\u6240\u4EE5\u4F7F\u7528run_forever</span></span>
<span class="line"><span style="color:#A6ACCD;">    loop</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">run_forever</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="\u7EBF\u7A0B\u6C60-threadpollexecutor-\u548C-asyncio\u7ED3\u5408" tabindex="-1">\u7EBF\u7A0B\u6C60(ThreadPollExecutor) \u548C asyncio\u7ED3\u5408 <a class="header-anchor" href="#\u7EBF\u7A0B\u6C60-threadpollexecutor-\u548C-asyncio\u7ED3\u5408" aria-hidden="true">#</a></h3><div class="language-python line-numbers-mode"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#676E95;">asyncio\u662F\u5F02\u6B65\u7F16\u7A0B\u7684\u89E3\u51B3\u65B9\u6848,\u5F02\u6B65IO\u662F\u5305\u542B\u4E86\u6211\u4EEC\u7684\u591A\u7EBF\u7A0B,\u534F\u7A0B\u548C\u8FDB\u7A0B\u7684</span></span>
<span class="line"><span style="color:#676E95;">\u6240\u4EE5asyncio\u65E2\u53EF\u4EE5\u5B8C\u6210\u591A\u7EBF\u7A0B,\u4E5F\u53EF\u4EE5\u5B8C\u6210\u534F\u7A0B,\u4E5F\u53EF\u4EE5\u5B8C\u6210\u8FDB\u7A0B.\u534F\u7A0B\u91CC\u4E0D\u80FD\u653E\u963B\u585EIO\u7684\u903B\u8F91</span></span>
<span class="line"><span style="color:#676E95;">\u6240\u4EE5\u5F53\u6709\u963B\u585E\u7684IO\u9700\u8981\u653E\u5728asyncio\u4E2D\u6267\u884C\u7684\u65F6\u5019,\u5C31\u53EF\u4EE5\u4F7F\u7528\u591A\u7EBF\u7A0B</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> asyncio</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> time</span></span>
<span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> concurrent</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">futures</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">thread </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> ThreadPoolExecutor</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">compute</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">    time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sleep</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">compute complete</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    loop </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get_event_loop</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    executor </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ThreadPoolExecutor</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    tasks </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># run_in_executor \u5C06\u963B\u585EIO\u7684\u51FD\u6570\u653E\u5230excutor\u4E2D\u8FD0\u884C</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        task </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> loop</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">run_in_executor</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">executor</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> compute</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        tasks</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">append</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">task</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    start_time </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">time</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    loop</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">run_until_complete</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">wait</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">tasks</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">time</span><span style="color:#89DDFF;">()</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">-</span><span style="color:#82AAFF;"> start_time</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h3 id="" tabindex="-1"><a class="header-anchor" href="#" aria-hidden="true">#</a></h3>`,241),o=[e];function r(c,t,F,D,y,i){return a(),n("div",null,o)}const b=s(p,[["render",r]]);export{C as __pageData,b as default};
